(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();var Qf={exports:{}},Wo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function kT(){if(Dy)return Wo;Dy=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var g in l)g!=="key"&&(h[g]=l[g])}else h=l;return l=h.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:h}}return Wo.Fragment=t,Wo.jsx=i,Wo.jsxs=i,Wo}var Oy;function xT(){return Oy||(Oy=1,Qf.exports=kT()),Qf.exports}var Dt=xT(),Yf={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function zT(){if(Ny)return vt;Ny=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),M=Symbol.iterator;function B(I){return I===null||typeof I!="object"?null:(I=M&&I[M]||I["@@iterator"],typeof I=="function"?I:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,rt={};function J(I,Q,W){this.props=I,this.context=Q,this.refs=rt,this.updater=W||Y}J.prototype.isReactComponent={},J.prototype.setState=function(I,Q){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Q,"setState")},J.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function kt(){}kt.prototype=J.prototype;function wt(I,Q,W){this.props=I,this.context=Q,this.refs=rt,this.updater=W||Y}var gt=wt.prototype=new kt;gt.constructor=wt,et(gt,J.prototype),gt.isPureReactComponent=!0;var Pt=Array.isArray,pt={H:null,A:null,T:null,S:null,V:null},Ct=Object.prototype.hasOwnProperty;function O(I,Q,W,X,ot,Tt){return W=Tt.ref,{$$typeof:a,type:I,key:Q,ref:W!==void 0?W:null,props:Tt}}function S(I,Q){return O(I.type,Q,void 0,void 0,void 0,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function D(I){var Q={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(W){return Q[W]})}var N=/\/+/g;function U(I,Q){return typeof I=="object"&&I!==null&&I.key!=null?D(""+I.key):Q.toString(36)}function w(){}function Ne(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(w,w):(I.status="pending",I.then(function(Q){I.status==="pending"&&(I.status="fulfilled",I.value=Q)},function(Q){I.status==="pending"&&(I.status="rejected",I.reason=Q)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ne(I,Q,W,X,ot){var Tt=typeof I;(Tt==="undefined"||Tt==="boolean")&&(I=null);var mt=!1;if(I===null)mt=!0;else switch(Tt){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(I.$$typeof){case a:case t:mt=!0;break;case A:return mt=I._init,ne(mt(I._payload),Q,W,X,ot)}}if(mt)return ot=ot(I),mt=X===""?"."+U(I,0):X,Pt(ot)?(W="",mt!=null&&(W=mt.replace(N,"$&/")+"/"),ne(ot,Q,W,"",function(Un){return Un})):ot!=null&&(R(ot)&&(ot=S(ot,W+(ot.key==null||I&&I.key===ot.key?"":(""+ot.key).replace(N,"$&/")+"/")+mt)),Q.push(ot)),1;mt=0;var be=X===""?".":X+":";if(Pt(I))for(var $t=0;$t<I.length;$t++)X=I[$t],Tt=be+U(X,$t),mt+=ne(X,Q,W,Tt,ot);else if($t=B(I),typeof $t=="function")for(I=$t.call(I),$t=0;!(X=I.next()).done;)X=X.value,Tt=be+U(X,$t++),mt+=ne(X,Q,W,Tt,ot);else if(Tt==="object"){if(typeof I.then=="function")return ne(Ne(I),Q,W,X,ot);throw Q=String(I),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return mt}function H(I,Q,W){if(I==null)return I;var X=[],ot=0;return ne(I,X,"","",function(Tt){return Q.call(W,Tt,ot++)}),X}function Z(I){if(I._status===-1){var Q=I._result;Q=Q(),Q.then(function(W){(I._status===0||I._status===-1)&&(I._status=1,I._result=W)},function(W){(I._status===0||I._status===-1)&&(I._status=2,I._result=W)}),I._status===-1&&(I._status=0,I._result=Q)}if(I._status===1)return I._result.default;throw I._result}var at=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function zt(){}return vt.Children={map:H,forEach:function(I,Q,W){H(I,function(){Q.apply(this,arguments)},W)},count:function(I){var Q=0;return H(I,function(){Q++}),Q},toArray:function(I){return H(I,function(Q){return Q})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},vt.Component=J,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=wt,vt.StrictMode=s,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pt,vt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return pt.H.useMemoCache(I)}},vt.cache=function(I){return function(){return I.apply(null,arguments)}},vt.cloneElement=function(I,Q,W){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var X=et({},I.props),ot=I.key,Tt=void 0;if(Q!=null)for(mt in Q.ref!==void 0&&(Tt=void 0),Q.key!==void 0&&(ot=""+Q.key),Q)!Ct.call(Q,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&Q.ref===void 0||(X[mt]=Q[mt]);var mt=arguments.length-2;if(mt===1)X.children=W;else if(1<mt){for(var be=Array(mt),$t=0;$t<mt;$t++)be[$t]=arguments[$t+2];X.children=be}return O(I.type,ot,void 0,void 0,Tt,X)},vt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},vt.createElement=function(I,Q,W){var X,ot={},Tt=null;if(Q!=null)for(X in Q.key!==void 0&&(Tt=""+Q.key),Q)Ct.call(Q,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ot[X]=Q[X]);var mt=arguments.length-2;if(mt===1)ot.children=W;else if(1<mt){for(var be=Array(mt),$t=0;$t<mt;$t++)be[$t]=arguments[$t+2];ot.children=be}if(I&&I.defaultProps)for(X in mt=I.defaultProps,mt)ot[X]===void 0&&(ot[X]=mt[X]);return O(I,Tt,void 0,void 0,null,ot)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(I){return{$$typeof:g,render:I}},vt.isValidElement=R,vt.lazy=function(I){return{$$typeof:A,_payload:{_status:-1,_result:I},_init:Z}},vt.memo=function(I,Q){return{$$typeof:v,type:I,compare:Q===void 0?null:Q}},vt.startTransition=function(I){var Q=pt.T,W={};pt.T=W;try{var X=I(),ot=pt.S;ot!==null&&ot(W,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(zt,at)}catch(Tt){at(Tt)}finally{pt.T=Q}},vt.unstable_useCacheRefresh=function(){return pt.H.useCacheRefresh()},vt.use=function(I){return pt.H.use(I)},vt.useActionState=function(I,Q,W){return pt.H.useActionState(I,Q,W)},vt.useCallback=function(I,Q){return pt.H.useCallback(I,Q)},vt.useContext=function(I){return pt.H.useContext(I)},vt.useDebugValue=function(){},vt.useDeferredValue=function(I,Q){return pt.H.useDeferredValue(I,Q)},vt.useEffect=function(I,Q,W){var X=pt.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(I,Q)},vt.useId=function(){return pt.H.useId()},vt.useImperativeHandle=function(I,Q,W){return pt.H.useImperativeHandle(I,Q,W)},vt.useInsertionEffect=function(I,Q){return pt.H.useInsertionEffect(I,Q)},vt.useLayoutEffect=function(I,Q){return pt.H.useLayoutEffect(I,Q)},vt.useMemo=function(I,Q){return pt.H.useMemo(I,Q)},vt.useOptimistic=function(I,Q){return pt.H.useOptimistic(I,Q)},vt.useReducer=function(I,Q,W){return pt.H.useReducer(I,Q,W)},vt.useRef=function(I){return pt.H.useRef(I)},vt.useState=function(I){return pt.H.useState(I)},vt.useSyncExternalStore=function(I,Q,W){return pt.H.useSyncExternalStore(I,Q,W)},vt.useTransition=function(){return pt.H.useTransition()},vt.version="19.1.0",vt}var My;function xd(){return My||(My=1,Yf.exports=zT()),Yf.exports}var Ia=xd(),Xf={exports:{}},tl={},$f={exports:{}},Zf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function BT(){return Vy||(Vy=1,function(a){function t(H,Z){var at=H.length;H.push(Z);t:for(;0<at;){var zt=at-1>>>1,I=H[zt];if(0<l(I,Z))H[zt]=Z,H[at]=I,at=zt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var Z=H[0],at=H.pop();if(at!==Z){H[0]=at;t:for(var zt=0,I=H.length,Q=I>>>1;zt<Q;){var W=2*(zt+1)-1,X=H[W],ot=W+1,Tt=H[ot];if(0>l(X,at))ot<I&&0>l(Tt,X)?(H[zt]=Tt,H[ot]=at,zt=ot):(H[zt]=X,H[W]=at,zt=W);else if(ot<I&&0>l(Tt,at))H[zt]=Tt,H[ot]=at,zt=ot;else break t}}return Z}function l(H,Z){var at=H.sortIndex-Z.sortIndex;return at!==0?at:H.id-Z.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var y=[],v=[],A=1,M=null,B=3,Y=!1,et=!1,rt=!1,J=!1,kt=typeof setTimeout=="function"?setTimeout:null,wt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function Pt(H){for(var Z=i(v);Z!==null;){if(Z.callback===null)s(v);else if(Z.startTime<=H)s(v),Z.sortIndex=Z.expirationTime,t(y,Z);else break;Z=i(v)}}function pt(H){if(rt=!1,Pt(H),!et)if(i(y)!==null)et=!0,Ct||(Ct=!0,U());else{var Z=i(v);Z!==null&&ne(pt,Z.startTime-H)}}var Ct=!1,O=-1,S=5,R=-1;function D(){return J?!0:!(a.unstable_now()-R<S)}function N(){if(J=!1,Ct){var H=a.unstable_now();R=H;var Z=!0;try{t:{et=!1,rt&&(rt=!1,wt(O),O=-1),Y=!0;var at=B;try{e:{for(Pt(H),M=i(y);M!==null&&!(M.expirationTime>H&&D());){var zt=M.callback;if(typeof zt=="function"){M.callback=null,B=M.priorityLevel;var I=zt(M.expirationTime<=H);if(H=a.unstable_now(),typeof I=="function"){M.callback=I,Pt(H),Z=!0;break e}M===i(y)&&s(y),Pt(H)}else s(y);M=i(y)}if(M!==null)Z=!0;else{var Q=i(v);Q!==null&&ne(pt,Q.startTime-H),Z=!1}}break t}finally{M=null,B=at,Y=!1}Z=void 0}}finally{Z?U():Ct=!1}}}var U;if(typeof gt=="function")U=function(){gt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Ne=w.port2;w.port1.onmessage=N,U=function(){Ne.postMessage(null)}}else U=function(){kt(N,0)};function ne(H,Z){O=kt(function(){H(a.unstable_now())},Z)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return B},a.unstable_next=function(H){switch(B){case 1:case 2:case 3:var Z=3;break;default:Z=B}var at=B;B=Z;try{return H()}finally{B=at}},a.unstable_requestPaint=function(){J=!0},a.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var at=B;B=H;try{return Z()}finally{B=at}},a.unstable_scheduleCallback=function(H,Z,at){var zt=a.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?zt+at:zt):at=zt,H){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=at+I,H={id:A++,callback:Z,priorityLevel:H,startTime:at,expirationTime:I,sortIndex:-1},at>zt?(H.sortIndex=at,t(v,H),i(y)===null&&H===i(v)&&(rt?(wt(O),O=-1):rt=!0,ne(pt,at-zt))):(H.sortIndex=I,t(y,H),et||Y||(et=!0,Ct||(Ct=!0,U()))),H},a.unstable_shouldYield=D,a.unstable_wrapCallback=function(H){var Z=B;return function(){var at=B;B=Z;try{return H.apply(this,arguments)}finally{B=at}}}}(Zf)),Zf}var Uy;function qT(){return Uy||(Uy=1,$f.exports=BT()),$f.exports}var Jf={exports:{}},qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function HT(){if(Py)return qe;Py=1;var a=xd();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,v,A){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:M==null?null:""+M,children:y,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,qe.createPortal=function(y,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return h(y,v,null,A)},qe.flushSync=function(y){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=v,s.p=A,s.d.f()}},qe.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(y,v))},qe.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},qe.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var A=v.as,M=g(A,v.crossOrigin),B=typeof v.integrity=="string"?v.integrity:void 0,Y=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:M,integrity:B,fetchPriority:Y}):A==="script"&&s.d.X(y,{crossOrigin:M,integrity:B,fetchPriority:Y,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},qe.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(y,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(y)},qe.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,M=g(A,v.crossOrigin);s.d.L(y,A,{crossOrigin:M,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},qe.preloadModule=function(y,v){if(typeof y=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(y)},qe.requestFormReset=function(y){s.d.r(y)},qe.unstable_batchedUpdates=function(y,v){return y(v)},qe.useFormState=function(y,v,A){return d.H.useFormState(y,v,A)},qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},qe.version="19.1.0",qe}var Ly;function jT(){if(Ly)return Jf.exports;Ly=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Jf.exports=HT(),Jf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function GT(){if(ky)return tl;ky=1;var a=qT(),t=xd(),i=jT();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,o=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){r=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),e;if(f===o)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==o.return)r=c,o=f;else{for(var _=!1,E=c.child;E;){if(E===r){_=!0,r=c,o=f;break}if(E===o){_=!0,o=c,r=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===r){_=!0,r=f,o=c;break}if(E===o){_=!0,o=f,r=c;break}E=E.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),rt=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),kt=Symbol.for("react.provider"),wt=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),Pt=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case J:return"Profiler";case rt:return"StrictMode";case pt:return"Suspense";case Ct:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Y:return"Portal";case gt:return(e.displayName||"Context")+".Provider";case wt:return(e._context.displayName||"Context")+".Consumer";case Pt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return n=e.displayName||null,n!==null?n:Ne(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Ne(e(n))}catch{}}return null}var ne=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},zt=[],I=-1;function Q(e){return{current:e}}function W(e){0>I||(e.current=zt[I],zt[I]=null,I--)}function X(e,n){I++,zt[I]=e.current,e.current=n}var ot=Q(null),Tt=Q(null),mt=Q(null),be=Q(null);function $t(e,n){switch(X(mt,n),X(Tt,e),X(ot,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?iy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=iy(n),e=ry(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(ot),X(ot,e)}function Un(){W(ot),W(Tt),W(mt)}function Li(e){e.memoizedState!==null&&X(be,e);var n=ot.current,r=ry(n,e.type);n!==r&&(X(Tt,e),X(ot,r))}function ri(e){Tt.current===e&&(W(ot),W(Tt)),be.current===e&&(W(be),Yo._currentValue=at)}var Nr=Object.prototype.hasOwnProperty,Mr=a.unstable_scheduleCallback,Vr=a.unstable_cancelCallback,Ga=a.unstable_shouldYield,Il=a.unstable_requestPaint,fn=a.unstable_now,Kc=a.unstable_getCurrentPriorityLevel,Fa=a.unstable_ImmediatePriority,bs=a.unstable_UserBlockingPriority,Ur=a.unstable_NormalPriority,Qc=a.unstable_LowPriority,Rs=a.unstable_IdlePriority,Ka=a.log,Cl=a.unstable_setDisableYieldValue,ie=null,Ht=null;function nn(e){if(typeof Ka=="function"&&Cl(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(ie,e)}catch{}}var ze=Math.clz32?Math.clz32:Pr,Dl=Math.log,Yc=Math.LN2;function Pr(e){return e>>>=0,e===0?32:31-(Dl(e)/Yc|0)|0}var Lr=256,kr=4194304;function Rn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ws(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=Rn(o):(_&=E,_!==0?c=Rn(_):r||(r=E&~e,r!==0&&(c=Rn(r))))):(E=o&~f,E!==0?c=Rn(E):_!==0?c=Rn(_):r||(r=o&~e,r!==0&&(c=Rn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function xr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Qa(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ya(){var e=Lr;return Lr<<=1,(Lr&4194048)===0&&(Lr=256),e}function Xa(){var e=kr;return kr<<=1,(kr&62914560)===0&&(kr=4194304),e}function si(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ai(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $a(e,n,r,o,c,f){var _=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,k=e.hiddenUpdates;for(r=_&~r;0<r;){var j=31-ze(r),F=1<<j;E[j]=0,b[j]=-1;var x=k[j];if(x!==null)for(k[j]=null,j=0;j<x.length;j++){var z=x[j];z!==null&&(z.lane&=-536870913)}r&=~F}o!==0&&Pn(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~n))}function Pn(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ze(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&4194090}function Za(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-ze(r),c=1<<o;c&n|e[o]&n&&(e[o]|=n),r&=~c}}function ki(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Is(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function xi(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:Sy(e.type))}function Ol(e,n){var r=Z.p;try{return Z.p=e,n()}finally{Z.p=r}}var Jt=Math.random().toString(36).slice(2),ye="__reactFiber$"+Jt,fe="__reactProps$"+Jt,dn="__reactContainer$"+Jt,Ja="__reactEvents$"+Jt,Xc="__reactListeners$"+Jt,zi="__reactHandles$"+Jt,Nl="__reactResources$"+Jt,zr="__reactMarker$"+Jt;function Bi(e){delete e[ye],delete e[fe],delete e[Ja],delete e[Xc],delete e[zi]}function oi(e){var n=e[ye];if(n)return n;for(var r=e.parentNode;r;){if(n=r[dn]||r[ye]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=ly(e);e!==null;){if(r=e[ye])return r;e=ly(e)}return n}e=r,r=e.parentNode}return null}function Ln(e){if(e=e[ye]||e[dn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function kn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Ke(e){var n=e[Nl];return n||(n=e[Nl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function oe(e){e[zr]=!0}var Wa=new Set,Cs={};function wn(e,n){li(e,n),li(e+"Capture",n)}function li(e,n){for(Cs[e]=n,e=0;e<n.length;e++)Wa.add(n[e])}var Ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},Br={};function Ul(e){return Nr.call(Br,e)?!0:Nr.call(Vl,e)?!1:Ml.test(e)?Br[e]=!0:(Vl[e]=!0,!1)}function qi(e,n,r){if(Ul(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function xn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Me(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}var qr,Pl;function ui(e){if(qr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);qr=n&&n[1]||"",Pl=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qr+e+Pl}var Ds=!1;function Os(e,n){if(!e||Ds)return"";Ds=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(z){var x=z}Reflect.construct(e,[],F)}else{try{F.call()}catch(z){x=z}e.call(F.prototype)}}else{try{throw Error()}catch(z){x=z}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(z){if(z&&x&&typeof z.stack=="string")return[z.stack,x.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var b=_.split(`
`),k=E.split(`
`);for(c=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(o===b.length||c===k.length)for(o=b.length-1,c=k.length-1;1<=o&&0<=c&&b[o]!==k[c];)c--;for(;1<=o&&0<=c;o--,c--)if(b[o]!==k[c]){if(o!==1||c!==1)do if(o--,c--,0>c||b[o]!==k[c]){var j=`
`+b[o].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=o&&0<=c);break}}}finally{Ds=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ui(r):""}function to(e){switch(e.tag){case 26:case 27:case 5:return ui(e.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return Os(e.type,!1);case 11:return Os(e.type.render,!1);case 1:return Os(e.type,!0);case 31:return ui("Activity");default:return""}}function Ns(e){try{var n="";do n+=to(e),e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function eo(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function $c(e){var n=eo(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(_){o=""+_,f.call(this,_)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ms(e){e._valueTracker||(e._valueTracker=$c(e))}function no(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=eo(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Hr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zc=/[\n"\\]/g;function de(e){return e.replace(Zc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(e,n,r,o,c,f,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Qe(n)):e.value!==""+Qe(n)&&(e.value=""+Qe(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?Hi(e,_,Qe(n)):r!=null?Hi(e,_,Qe(r)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Qe(E):e.removeAttribute("name")}function jr(e,n,r,o,c,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Qe(r):"",n=n!=null?""+Qe(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Hi(e,n,r){n==="number"&&Hr(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ci(e,n,r,o){if(e=e.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=n.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Qe(r),n=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Ft(e,n,r){if(n!=null&&(n=""+Qe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Qe(r):""}function Gr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(ne(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Qe(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o)}function mn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Fr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ll(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||Fr.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function io(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&r[c]!==o&&Ll(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&Ll(e,f,n[f])}function ro(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vs(e){return Wc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var hi=null;function gn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fi=null,di=null;function so(e){var n=Ln(e);if(n&&(e=n.stateNode)){var r=e[fe]||null;t:switch(e=n.stateNode,n.type){case"input":if(rn(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var c=o[fe]||null;if(!c)throw Error(s(90));rn(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&no(o)}break t;case"textarea":Ft(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ci(e,!!r.multiple,n,!1)}}}var zn=!1;function kl(e,n,r){if(zn)return e(n,r);zn=!0;try{var o=e(n);return o}finally{if(zn=!1,(fi!==null||di!==null)&&(Ou(),fi&&(n=fi,e=di,di=fi=null,so(n),e)))for(n=0;n<e.length;n++)so(e[n])}}function Kr(e,n){var r=e.stateNode;if(r===null)return null;var o=r[fe]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pn=!1;if(In)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){pn=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{pn=!1}var Bn=null,ji=null,mi=null;function ao(){if(mi)return mi;var e,n=ji,r=n.length,o,c="value"in Bn?Bn.value:Bn.textContent,f=c.length;for(e=0;e<r&&n[e]===c[e];e++);var _=r-e;for(o=1;o<=_&&n[r-o]===c[f-o];o++);return mi=c.slice(e,1<o?1-o:void 0)}function qn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Hn(){return!0}function oo(){return!1}function Re(e){function n(r,o,c,f,_){this._reactName=r,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hn:oo,this.isPropagationStopped=oo,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Us=Re(qt),Yr=A({},qt,{view:0,detail:0}),xl=Re(Yr),Ps,Ls,jn,Xr=A({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jn&&(jn&&e.type==="mousemove"?(Ps=e.screenX-jn.screenX,Ls=e.screenY-jn.screenY):Ls=Ps=0,jn=e),Ps)},movementY:function(e){return"movementY"in e?e.movementY:Ls}}),yn=Re(Xr),zl=A({},Xr,{dataTransfer:0}),th=Re(zl),$r=A({},Yr,{relatedTarget:0}),ks=Re($r),lo=A({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),xs=Re(lo),Bl=A({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zs=Re(Bl),eh=A({},qt,{data:0}),uo=Re(eh),Zr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ql={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function co(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Hl[e])?!!n[e]:!1}function Jr(){return co}var jl=A({},Yr,{key:function(e){if(e.key){var n=Zr[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=qn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ql[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jr,charCode:function(e){return e.type==="keypress"?qn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bs=Re(jl),Gl=A({},Xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ho=Re(Gl),gi=A({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jr}),Fl=Re(gi),Kl=A({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ql=Re(Kl),Yl=A({},Xr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qs=Re(Yl),Ye=A({},qt,{newState:0,oldState:0}),Xl=Re(Ye),$l=[9,13,27,32],Gn=In&&"CompositionEvent"in window,u=null;In&&"documentMode"in document&&(u=document.documentMode);var m=In&&"TextEvent"in window&&!u,p=In&&(!Gn||u&&8<u&&11>=u),T=" ",P=!1;function q(e,n){switch(e){case"keyup":return $l.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ot=!1;function _e(e,n){switch(e){case"compositionend":return $(n);case"keypress":return n.which!==32?null:(P=!0,T);case"textInput":return e=n.data,e===T&&P?null:e;default:return null}}function Nt(e,n){if(Ot)return e==="compositionend"||!Gn&&q(e,n)?(e=ao(),mi=ji=Bn=null,Ot=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var we={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!we[e.type]:n==="textarea"}function pi(e,n,r,o){fi?di?di.push(o):di=[o]:fi=o,n=Lu(n,"onChange"),0<n.length&&(r=new Us("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Ve=null,Fn=null;function fo(e){Jp(e,0)}function Zl(e){var n=kn(e);if(no(n))return e}function vm(e,n){if(e==="change")return n}var Em=!1;if(In){var nh;if(In){var ih="oninput"in document;if(!ih){var Tm=document.createElement("div");Tm.setAttribute("oninput","return;"),ih=typeof Tm.oninput=="function"}nh=ih}else nh=!1;Em=nh&&(!document.documentMode||9<document.documentMode)}function Am(){Ve&&(Ve.detachEvent("onpropertychange",Sm),Fn=Ve=null)}function Sm(e){if(e.propertyName==="value"&&Zl(Fn)){var n=[];pi(n,Fn,e,gn(e)),kl(fo,n)}}function d0(e,n,r){e==="focusin"?(Am(),Ve=n,Fn=r,Ve.attachEvent("onpropertychange",Sm)):e==="focusout"&&Am()}function m0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zl(Fn)}function g0(e,n){if(e==="click")return Zl(n)}function p0(e,n){if(e==="input"||e==="change")return Zl(n)}function y0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var sn=typeof Object.is=="function"?Object.is:y0;function mo(e,n){if(sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var c=r[o];if(!Nr.call(n,c)||!sn(e[c],n[c]))return!1}return!0}function bm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rm(e,n){var r=bm(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=bm(r)}}function wm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?wm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Im(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Hr(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Hr(e.document)}return n}function rh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var _0=In&&"documentMode"in document&&11>=document.documentMode,Hs=null,sh=null,go=null,ah=!1;function Cm(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ah||Hs==null||Hs!==Hr(o)||(o=Hs,"selectionStart"in o&&rh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),go&&mo(go,o)||(go=o,o=Lu(sh,"onSelect"),0<o.length&&(n=new Us("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=Hs)))}function Wr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var js={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionrun:Wr("Transition","TransitionRun"),transitionstart:Wr("Transition","TransitionStart"),transitioncancel:Wr("Transition","TransitionCancel"),transitionend:Wr("Transition","TransitionEnd")},oh={},Dm={};In&&(Dm=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function ts(e){if(oh[e])return oh[e];if(!js[e])return e;var n=js[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Dm)return oh[e]=n[r];return e}var Om=ts("animationend"),Nm=ts("animationiteration"),Mm=ts("animationstart"),v0=ts("transitionrun"),E0=ts("transitionstart"),T0=ts("transitioncancel"),Vm=ts("transitionend"),Um=new Map,lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lh.push("scrollEnd");function Cn(e,n){Um.set(e,n),wn(n,[e])}var Pm=new WeakMap;function _n(e,n){if(typeof e=="object"&&e!==null){var r=Pm.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Ns(n)},Pm.set(e,n),n)}return{value:e,source:n,stack:Ns(n)}}var vn=[],Gs=0,uh=0;function Jl(){for(var e=Gs,n=uh=Gs=0;n<e;){var r=vn[n];vn[n++]=null;var o=vn[n];vn[n++]=null;var c=vn[n];vn[n++]=null;var f=vn[n];if(vn[n++]=null,o!==null&&c!==null){var _=o.pending;_===null?c.next=c:(c.next=_.next,_.next=c),o.pending=c}f!==0&&Lm(r,c,f)}}function Wl(e,n,r,o){vn[Gs++]=e,vn[Gs++]=n,vn[Gs++]=r,vn[Gs++]=o,uh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function ch(e,n,r,o){return Wl(e,n,r,o),tu(e)}function Fs(e,n){return Wl(e,null,null,n),tu(e)}function Lm(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var c=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-ze(r),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=r|536870912),f):null}function tu(e){if(50<Bo)throw Bo=0,yf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ks={};function A0(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,n,r,o){return new A0(e,n,r,o)}function hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yi(e,n){var r=e.alternate;return r===null?(r=an(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function km(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function eu(e,n,r,o,c,f){var _=0;if(o=e,typeof e=="function")hh(e)&&(_=1);else if(typeof e=="string")_=bT(e,r,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=an(31,r,n,c),e.elementType=R,e.lanes=f,e;case et:return es(r.children,c,f,n);case rt:_=8,c|=24;break;case J:return e=an(12,r,n,c|2),e.elementType=J,e.lanes=f,e;case pt:return e=an(13,r,n,c),e.elementType=pt,e.lanes=f,e;case Ct:return e=an(19,r,n,c),e.elementType=Ct,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kt:case gt:_=10;break t;case wt:_=9;break t;case Pt:_=11;break t;case O:_=14;break t;case S:_=16,o=null;break t}_=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=an(_,r,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function es(e,n,r,o){return e=an(7,e,o,n),e.lanes=r,e}function fh(e,n,r){return e=an(6,e,null,n),e.lanes=r,e}function dh(e,n,r){return n=an(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Qs=[],Ys=0,nu=null,iu=0,En=[],Tn=0,ns=null,_i=1,vi="";function is(e,n){Qs[Ys++]=iu,Qs[Ys++]=nu,nu=e,iu=n}function xm(e,n,r){En[Tn++]=_i,En[Tn++]=vi,En[Tn++]=ns,ns=e;var o=_i;e=vi;var c=32-ze(o)-1;o&=~(1<<c),r+=1;var f=32-ze(n)+c;if(30<f){var _=c-c%5;f=(o&(1<<_)-1).toString(32),o>>=_,c-=_,_i=1<<32-ze(n)+c|r<<c|o,vi=f+e}else _i=1<<f|r<<c|o,vi=e}function mh(e){e.return!==null&&(is(e,1),xm(e,1,0))}function gh(e){for(;e===nu;)nu=Qs[--Ys],Qs[Ys]=null,iu=Qs[--Ys],Qs[Ys]=null;for(;e===ns;)ns=En[--Tn],En[Tn]=null,vi=En[--Tn],En[Tn]=null,_i=En[--Tn],En[Tn]=null}var Xe=null,re=null,Bt=!1,rs=null,Kn=!1,ph=Error(s(519));function ss(e){var n=Error(s(418,""));throw _o(_n(n,e)),ph}function zm(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ye]=e,n[fe]=o,r){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(r=0;r<Ho.length;r++)Rt(Ho[r],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),jr(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ms(n);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),Gr(n,o.value,o.defaultValue,o.children),Ms(n)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||ny(n.textContent,r)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=ku),n=!0):n=!1,n||ss(e)}function Bm(e){for(Xe=e.return;Xe;)switch(Xe.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Xe=Xe.return}}function po(e){if(e!==Xe)return!1;if(!Bt)return Bm(e),Bt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Vf(e.type,e.memoizedProps)),r=!r),r&&re&&ss(e),Bm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(n===0){re=On(e.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;e=e.nextSibling}re=null}}else n===27?(n=re,sr(e.type)?(e=kf,kf=null,re=e):re=n):re=Xe?On(e.stateNode.nextSibling):null;return!0}function yo(){re=Xe=null,Bt=!1}function qm(){var e=rs;return e!==null&&(We===null?We=e:We.push.apply(We,e),rs=null),e}function _o(e){rs===null?rs=[e]:rs.push(e)}var yh=Q(null),as=null,Ei=null;function Gi(e,n,r){X(yh,n._currentValue),n._currentValue=r}function Ti(e){e._currentValue=yh.current,W(yh)}function _h(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function vh(e,n,r,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var _=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),_h(f.return,r,e),o||(_=null);break t}f=E.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(s(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),_h(_,r,e),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===e){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function vo(e,n,r,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=c.type;sn(c.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(c===be.current){if(_=c.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Yo):e=[Yo])}c=c.return}e!==null&&vh(n,e,r,o),n.flags|=262144}function ru(e){for(e=e.firstContext;e!==null;){if(!sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function os(e){as=e,Ei=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Hm(as,e)}function su(e,n){return as===null&&os(e),Hm(e,n)}function Hm(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ei===null){if(e===null)throw Error(s(308));Ei=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ei=Ei.next=n;return r}var S0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},b0=a.unstable_scheduleCallback,R0=a.unstable_NormalPriority,Ee={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eh(){return{controller:new S0,data:new Map,refCount:0}}function Eo(e){e.refCount--,e.refCount===0&&b0(R0,function(){e.controller.abort()})}var To=null,Th=0,Xs=0,$s=null;function w0(e,n){if(To===null){var r=To=[];Th=0,Xs=bf(),$s={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Th++,n.then(jm,jm),n}function jm(){if(--Th===0&&To!==null){$s!==null&&($s.status="fulfilled");var e=To;To=null,Xs=0,$s=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function I0(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),o}var Gm=H.S;H.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&w0(e,n),Gm!==null&&Gm(e,n)};var ls=Q(null);function Ah(){var e=ls.current;return e!==null?e:Zt.pooledCache}function au(e,n){n===null?X(ls,ls.current):X(ls,n.pool)}function Fm(){var e=Ah();return e===null?null:{parent:Ee._currentValue,pool:e}}var Ao=Error(s(460)),Km=Error(s(474)),ou=Error(s(542)),Sh={then:function(){}};function Qm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function lu(){}function Ym(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(lu,lu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$m(e),e;default:if(typeof n.status=="string")n.then(lu,lu);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$m(e),e}throw So=n,Ao}}var So=null;function Xm(){if(So===null)throw Error(s(459));var e=So;return So=null,e}function $m(e){if(e===Ao||e===ou)throw Error(s(483))}var Fi=!1;function bh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ki(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qi(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(jt&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=tu(e),Lm(e,null,r),n}return Wl(e,o,n,r),tu(e)}function bo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Za(e,r)}}function wh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Ih=!1;function Ro(){if(Ih){var e=$s;if(e!==null)throw e}}function wo(e,n,r,o){Ih=!1;var c=e.updateQueue;Fi=!1;var f=c.firstBaseUpdate,_=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,k=b.next;b.next=null,_===null?f=k:_.next=k,_=b;var j=e.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==_&&(E===null?j.firstBaseUpdate=k:E.next=k,j.lastBaseUpdate=b))}if(f!==null){var F=c.baseState;_=0,j=k=b=null,E=f;do{var x=E.lane&-536870913,z=x!==E.lane;if(z?(Mt&x)===x:(o&x)===x){x!==0&&x===Xs&&(Ih=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ft=e,lt=E;x=n;var Yt=r;switch(lt.tag){case 1:if(ft=lt.payload,typeof ft=="function"){F=ft.call(Yt,F,x);break t}F=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=lt.payload,x=typeof ft=="function"?ft.call(Yt,F,x):ft,x==null)break t;F=A({},F,x);break t;case 2:Fi=!0}}x=E.callback,x!==null&&(e.flags|=64,z&&(e.flags|=8192),z=c.callbacks,z===null?c.callbacks=[x]:z.push(x))}else z={lane:x,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(k=j=z,b=F):j=j.next=z,_|=x;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;z=E,E=z.next,z.next=null,c.lastBaseUpdate=z,c.shared.pending=null}}while(!0);j===null&&(b=F),c.baseState=b,c.firstBaseUpdate=k,c.lastBaseUpdate=j,f===null&&(c.shared.lanes=0),er|=_,e.lanes=_,e.memoizedState=F}}function Zm(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Jm(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Zm(r[e],n)}var Zs=Q(null),uu=Q(0);function Wm(e,n){e=Ci,X(uu,e),X(Zs,n),Ci=e|n.baseLanes}function Ch(){X(uu,Ci),X(Zs,Zs.current)}function Dh(){Ci=uu.current,W(Zs),W(uu)}var Yi=0,Et=null,Kt=null,me=null,cu=!1,Js=!1,us=!1,hu=0,Io=0,Ws=null,C0=0;function le(){throw Error(s(321))}function Oh(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!sn(e[r],n[r]))return!1;return!0}function Nh(e,n,r,o,c,f){return Yi=f,Et=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Lg:kg,us=!1,f=r(o,c),us=!1,Js&&(f=eg(n,r,o,c)),tg(e),f}function tg(e){H.H=yu;var n=Kt!==null&&Kt.next!==null;if(Yi=0,me=Kt=Et=null,cu=!1,Io=0,Ws=null,n)throw Error(s(300));e===null||Ie||(e=e.dependencies,e!==null&&ru(e)&&(Ie=!0))}function eg(e,n,r,o){Et=e;var c=0;do{if(Js&&(Ws=null),Io=0,Js=!1,25<=c)throw Error(s(301));if(c+=1,me=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=P0,f=n(r,o)}while(Js);return f}function D0(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Co(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(Et.flags|=1024),n}function Mh(){var e=hu!==0;return hu=0,e}function Vh(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Uh(e){if(cu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}cu=!1}Yi=0,me=Kt=Et=null,Js=!1,Io=hu=0,Ws=null}function Ze(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?Et.memoizedState=me=e:me=me.next=e,me}function ge(){if(Kt===null){var e=Et.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=me===null?Et.memoizedState:me.next;if(n!==null)me=n,Kt=e;else{if(e===null)throw Et.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},me===null?Et.memoizedState=me=e:me=me.next=e}return me}function Ph(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Co(e){var n=Io;return Io+=1,Ws===null&&(Ws=[]),e=Ym(Ws,e,n),n=Et,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Lg:kg),e}function fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Co(e);if(e.$$typeof===gt)return Be(e)}throw Error(s(438,String(e)))}function Lh(e){var n=null,r=Et.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Et.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ph(),Et.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=D;return n.index++,r}function Ai(e,n){return typeof n=="function"?n(e):n}function du(e){var n=ge();return kh(n,Kt,e)}function kh(e,n,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var _=c.next;c.next=f.next,f.next=_}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=_=null,b=null,k=n,j=!1;do{var F=k.lane&-536870913;if(F!==k.lane?(Mt&F)===F:(Yi&F)===F){var x=k.revertLane;if(x===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),F===Xs&&(j=!0);else if((Yi&x)===x){k=k.next,x===Xs&&(j=!0);continue}else F={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},b===null?(E=b=F,_=f):b=b.next=F,Et.lanes|=x,er|=x;F=k.action,us&&r(f,F),f=k.hasEagerState?k.eagerState:r(f,F)}else x={lane:F,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},b===null?(E=b=x,_=f):b=b.next=x,Et.lanes|=F,er|=F;k=k.next}while(k!==null&&k!==n);if(b===null?_=f:b.next=E,!sn(f,e.memoizedState)&&(Ie=!0,j&&(r=$s,r!==null)))throw r;e.memoizedState=f,e.baseState=_,e.baseQueue=b,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function xh(e){var n=ge(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var _=c=c.next;do f=e(f,_.action),_=_.next;while(_!==c);sn(f,n.memoizedState)||(Ie=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function ng(e,n,r){var o=Et,c=ge(),f=Bt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var _=!sn((Kt||c).memoizedState,r);_&&(c.memoizedState=r,Ie=!0),c=c.queue;var E=sg.bind(null,o,c,e);if(Do(2048,8,E,[e]),c.getSnapshot!==n||_||me!==null&&me.memoizedState.tag&1){if(o.flags|=2048,ta(9,mu(),rg.bind(null,o,c,r,n),null),Zt===null)throw Error(s(349));f||(Yi&124)!==0||ig(o,n,r)}return r}function ig(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Et.updateQueue,n===null?(n=Ph(),Et.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function rg(e,n,r,o){n.value=r,n.getSnapshot=o,ag(n)&&og(e)}function sg(e,n,r){return r(function(){ag(n)&&og(e)})}function ag(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!sn(e,r)}catch{return!0}}function og(e){var n=Fs(e,2);n!==null&&hn(n,e,2)}function zh(e){var n=Ze();if(typeof e=="function"){var r=e;if(e=r(),us){nn(!0);try{r()}finally{nn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:e},n}function lg(e,n,r,o){return e.baseState=r,kh(e,Kt,typeof o=="function"?o:Ai)}function O0(e,n,r,o,c){if(pu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,ug(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ug(e,n){var r=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=H.T,_={};H.T=_;try{var E=r(c,o),b=H.S;b!==null&&b(_,E),cg(e,n,E)}catch(k){Bh(e,n,k)}finally{H.T=f}}else try{f=r(c,o),cg(e,n,f)}catch(k){Bh(e,n,k)}}function cg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){hg(e,n,o)},function(o){return Bh(e,n,o)}):hg(e,n,r)}function hg(e,n,r){n.status="fulfilled",n.value=r,fg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,ug(e,r)))}function Bh(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,fg(n),n=n.next;while(n!==o)}e.action=null}function fg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function dg(e,n){return n}function mg(e,n){if(Bt){var r=Zt.formState;if(r!==null){t:{var o=Et;if(Bt){if(re){e:{for(var c=re,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){re=On(c.nextSibling),o=c.data==="F!";break t}}ss(o)}o=!1}o&&(n=r[0])}}return r=Ze(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dg,lastRenderedState:n},r.queue=o,r=Vg.bind(null,Et,o),o.dispatch=r,o=zh(!1),f=Fh.bind(null,Et,!1,o.queue),o=Ze(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,r=O0.bind(null,Et,c,f,r),c.dispatch=r,o.memoizedState=e,[n,r,!1]}function gg(e){var n=ge();return pg(n,Kt,e)}function pg(e,n,r){if(n=kh(e,n,dg)[0],e=du(Ai)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Co(n)}catch(_){throw _===Ao?ou:_}else o=n;n=ge();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(Et.flags|=2048,ta(9,mu(),N0.bind(null,c,r),null)),[o,f,e]}function N0(e,n){e.action=n}function yg(e){var n=ge(),r=Kt;if(r!==null)return pg(n,r,e);ge(),n=n.memoizedState,r=ge();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function ta(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Et.updateQueue,n===null&&(n=Ph(),Et.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function mu(){return{destroy:void 0,resource:void 0}}function _g(){return ge().memoizedState}function gu(e,n,r,o){var c=Ze();o=o===void 0?null:o,Et.flags|=e,c.memoizedState=ta(1|n,mu(),r,o)}function Do(e,n,r,o){var c=ge();o=o===void 0?null:o;var f=c.memoizedState.inst;Kt!==null&&o!==null&&Oh(o,Kt.memoizedState.deps)?c.memoizedState=ta(n,f,r,o):(Et.flags|=e,c.memoizedState=ta(1|n,f,r,o))}function vg(e,n){gu(8390656,8,e,n)}function Eg(e,n){Do(2048,8,e,n)}function Tg(e,n){return Do(4,2,e,n)}function Ag(e,n){return Do(4,4,e,n)}function Sg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function bg(e,n,r){r=r!=null?r.concat([e]):null,Do(4,4,Sg.bind(null,n,e),r)}function qh(){}function Rg(e,n){var r=ge();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Oh(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function wg(e,n){var r=ge();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Oh(n,o[1]))return o[0];if(o=e(),us){nn(!0);try{e()}finally{nn(!1)}}return r.memoizedState=[o,n],o}function Hh(e,n,r){return r===void 0||(Yi&1073741824)!==0?e.memoizedState=n:(e.memoizedState=r,e=Dp(),Et.lanes|=e,er|=e,r)}function Ig(e,n,r,o){return sn(r,n)?r:Zs.current!==null?(e=Hh(e,r,o),sn(e,n)||(Ie=!0),e):(Yi&42)===0?(Ie=!0,e.memoizedState=r):(e=Dp(),Et.lanes|=e,er|=e,n)}function Cg(e,n,r,o,c){var f=Z.p;Z.p=f!==0&&8>f?f:8;var _=H.T,E={};H.T=E,Fh(e,!1,n,r);try{var b=c(),k=H.S;if(k!==null&&k(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var j=I0(b,o);Oo(e,n,j,cn(e))}else Oo(e,n,o,cn(e))}catch(F){Oo(e,n,{then:function(){},status:"rejected",reason:F},cn())}finally{Z.p=f,H.T=_}}function M0(){}function jh(e,n,r,o){if(e.tag!==5)throw Error(s(476));var c=Dg(e).queue;Cg(e,c,n,at,r===null?M0:function(){return Og(e),r(o)})}function Dg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:at},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Og(e){var n=Dg(e).next.queue;Oo(e,n,{},cn())}function Gh(){return Be(Yo)}function Ng(){return ge().memoizedState}function Mg(){return ge().memoizedState}function V0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();e=Ki(r);var o=Qi(n,e,r);o!==null&&(hn(o,n,r),bo(o,n,r)),n={cache:Eh()},e.payload=n;return}n=n.return}}function U0(e,n,r){var o=cn();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},pu(e)?Ug(n,r):(r=ch(e,n,r,o),r!==null&&(hn(r,e,o),Pg(r,n,o)))}function Vg(e,n,r){var o=cn();Oo(e,n,r,o)}function Oo(e,n,r,o){var c={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(pu(e))Ug(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,r);if(c.hasEagerState=!0,c.eagerState=E,sn(E,_))return Wl(e,n,c,0),Zt===null&&Jl(),!1}catch{}finally{}if(r=ch(e,n,c,o),r!==null)return hn(r,e,o),Pg(r,n,o),!0}return!1}function Fh(e,n,r,o){if(o={lane:2,revertLane:bf(),action:o,hasEagerState:!1,eagerState:null,next:null},pu(e)){if(n)throw Error(s(479))}else n=ch(e,r,o,2),n!==null&&hn(n,e,2)}function pu(e){var n=e.alternate;return e===Et||n!==null&&n===Et}function Ug(e,n){Js=cu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Pg(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Za(e,r)}}var yu={readContext:Be,use:fu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le},Lg={readContext:Be,use:fu,useCallback:function(e,n){return Ze().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:vg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,gu(4194308,4,Sg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return gu(4194308,4,e,n)},useInsertionEffect:function(e,n){gu(4,2,e,n)},useMemo:function(e,n){var r=Ze();n=n===void 0?null:n;var o=e();if(us){nn(!0);try{e()}finally{nn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=Ze();if(r!==void 0){var c=r(n);if(us){nn(!0);try{r(n)}finally{nn(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=U0.bind(null,Et,e),[o.memoizedState,e]},useRef:function(e){var n=Ze();return e={current:e},n.memoizedState=e},useState:function(e){e=zh(e);var n=e.queue,r=Vg.bind(null,Et,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:qh,useDeferredValue:function(e,n){var r=Ze();return Hh(r,e,n)},useTransition:function(){var e=zh(!1);return e=Cg.bind(null,Et,e.queue,!0,!1),Ze().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Et,c=Ze();if(Bt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Zt===null)throw Error(s(349));(Mt&124)!==0||ig(o,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,vg(sg.bind(null,o,f,e),[e]),o.flags|=2048,ta(9,mu(),rg.bind(null,o,f,r,n),null),r},useId:function(){var e=Ze(),n=Zt.identifierPrefix;if(Bt){var r=vi,o=_i;r=(o&~(1<<32-ze(o)-1)).toString(32)+r,n="«"+n+"R"+r,r=hu++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=C0++,n="«"+n+"r"+r.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Gh,useFormState:mg,useActionState:mg,useOptimistic:function(e){var n=Ze();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Fh.bind(null,Et,!0,r),r.dispatch=n,[e,n]},useMemoCache:Lh,useCacheRefresh:function(){return Ze().memoizedState=V0.bind(null,Et)}},kg={readContext:Be,use:fu,useCallback:Rg,useContext:Be,useEffect:Eg,useImperativeHandle:bg,useInsertionEffect:Tg,useLayoutEffect:Ag,useMemo:wg,useReducer:du,useRef:_g,useState:function(){return du(Ai)},useDebugValue:qh,useDeferredValue:function(e,n){var r=ge();return Ig(r,Kt.memoizedState,e,n)},useTransition:function(){var e=du(Ai)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Co(e),n]},useSyncExternalStore:ng,useId:Ng,useHostTransitionStatus:Gh,useFormState:gg,useActionState:gg,useOptimistic:function(e,n){var r=ge();return lg(r,Kt,e,n)},useMemoCache:Lh,useCacheRefresh:Mg},P0={readContext:Be,use:fu,useCallback:Rg,useContext:Be,useEffect:Eg,useImperativeHandle:bg,useInsertionEffect:Tg,useLayoutEffect:Ag,useMemo:wg,useReducer:xh,useRef:_g,useState:function(){return xh(Ai)},useDebugValue:qh,useDeferredValue:function(e,n){var r=ge();return Kt===null?Hh(r,e,n):Ig(r,Kt.memoizedState,e,n)},useTransition:function(){var e=xh(Ai)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Co(e),n]},useSyncExternalStore:ng,useId:Ng,useHostTransitionStatus:Gh,useFormState:yg,useActionState:yg,useOptimistic:function(e,n){var r=ge();return Kt!==null?lg(r,Kt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Lh,useCacheRefresh:Mg},ea=null,No=0;function _u(e){var n=No;return No+=1,ea===null&&(ea=[]),Ym(ea,e,n)}function Mo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function vu(e,n){throw n.$$typeof===M?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function xg(e){var n=e._init;return n(e._payload)}function zg(e){function n(V,C){if(e){var L=V.deletions;L===null?(V.deletions=[C],V.flags|=16):L.push(C)}}function r(V,C){if(!e)return null;for(;C!==null;)n(V,C),C=C.sibling;return null}function o(V){for(var C=new Map;V!==null;)V.key!==null?C.set(V.key,V):C.set(V.index,V),V=V.sibling;return C}function c(V,C){return V=yi(V,C),V.index=0,V.sibling=null,V}function f(V,C,L){return V.index=L,e?(L=V.alternate,L!==null?(L=L.index,L<C?(V.flags|=67108866,C):L):(V.flags|=67108866,C)):(V.flags|=1048576,C)}function _(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,C,L,G){return C===null||C.tag!==6?(C=fh(L,V.mode,G),C.return=V,C):(C=c(C,L),C.return=V,C)}function b(V,C,L,G){var it=L.type;return it===et?j(V,C,L.props.children,G,L.key):C!==null&&(C.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===S&&xg(it)===C.type)?(C=c(C,L.props),Mo(C,L),C.return=V,C):(C=eu(L.type,L.key,L.props,null,V.mode,G),Mo(C,L),C.return=V,C)}function k(V,C,L,G){return C===null||C.tag!==4||C.stateNode.containerInfo!==L.containerInfo||C.stateNode.implementation!==L.implementation?(C=dh(L,V.mode,G),C.return=V,C):(C=c(C,L.children||[]),C.return=V,C)}function j(V,C,L,G,it){return C===null||C.tag!==7?(C=es(L,V.mode,G,it),C.return=V,C):(C=c(C,L),C.return=V,C)}function F(V,C,L){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=fh(""+C,V.mode,L),C.return=V,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case B:return L=eu(C.type,C.key,C.props,null,V.mode,L),Mo(L,C),L.return=V,L;case Y:return C=dh(C,V.mode,L),C.return=V,C;case S:var G=C._init;return C=G(C._payload),F(V,C,L)}if(ne(C)||U(C))return C=es(C,V.mode,L,null),C.return=V,C;if(typeof C.then=="function")return F(V,_u(C),L);if(C.$$typeof===gt)return F(V,su(V,C),L);vu(V,C)}return null}function x(V,C,L,G){var it=C!==null?C.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return it!==null?null:E(V,C,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case B:return L.key===it?b(V,C,L,G):null;case Y:return L.key===it?k(V,C,L,G):null;case S:return it=L._init,L=it(L._payload),x(V,C,L,G)}if(ne(L)||U(L))return it!==null?null:j(V,C,L,G,null);if(typeof L.then=="function")return x(V,C,_u(L),G);if(L.$$typeof===gt)return x(V,C,su(V,L),G);vu(V,L)}return null}function z(V,C,L,G,it){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return V=V.get(L)||null,E(C,V,""+G,it);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case B:return V=V.get(G.key===null?L:G.key)||null,b(C,V,G,it);case Y:return V=V.get(G.key===null?L:G.key)||null,k(C,V,G,it);case S:var At=G._init;return G=At(G._payload),z(V,C,L,G,it)}if(ne(G)||U(G))return V=V.get(L)||null,j(C,V,G,it,null);if(typeof G.then=="function")return z(V,C,L,_u(G),it);if(G.$$typeof===gt)return z(V,C,L,su(C,G),it);vu(C,G)}return null}function ft(V,C,L,G){for(var it=null,At=null,st=C,ut=C=0,De=null;st!==null&&ut<L.length;ut++){st.index>ut?(De=st,st=null):De=st.sibling;var xt=x(V,st,L[ut],G);if(xt===null){st===null&&(st=De);break}e&&st&&xt.alternate===null&&n(V,st),C=f(xt,C,ut),At===null?it=xt:At.sibling=xt,At=xt,st=De}if(ut===L.length)return r(V,st),Bt&&is(V,ut),it;if(st===null){for(;ut<L.length;ut++)st=F(V,L[ut],G),st!==null&&(C=f(st,C,ut),At===null?it=st:At.sibling=st,At=st);return Bt&&is(V,ut),it}for(st=o(st);ut<L.length;ut++)De=z(st,V,ut,L[ut],G),De!==null&&(e&&De.alternate!==null&&st.delete(De.key===null?ut:De.key),C=f(De,C,ut),At===null?it=De:At.sibling=De,At=De);return e&&st.forEach(function(cr){return n(V,cr)}),Bt&&is(V,ut),it}function lt(V,C,L,G){if(L==null)throw Error(s(151));for(var it=null,At=null,st=C,ut=C=0,De=null,xt=L.next();st!==null&&!xt.done;ut++,xt=L.next()){st.index>ut?(De=st,st=null):De=st.sibling;var cr=x(V,st,xt.value,G);if(cr===null){st===null&&(st=De);break}e&&st&&cr.alternate===null&&n(V,st),C=f(cr,C,ut),At===null?it=cr:At.sibling=cr,At=cr,st=De}if(xt.done)return r(V,st),Bt&&is(V,ut),it;if(st===null){for(;!xt.done;ut++,xt=L.next())xt=F(V,xt.value,G),xt!==null&&(C=f(xt,C,ut),At===null?it=xt:At.sibling=xt,At=xt);return Bt&&is(V,ut),it}for(st=o(st);!xt.done;ut++,xt=L.next())xt=z(st,V,ut,xt.value,G),xt!==null&&(e&&xt.alternate!==null&&st.delete(xt.key===null?ut:xt.key),C=f(xt,C,ut),At===null?it=xt:At.sibling=xt,At=xt);return e&&st.forEach(function(LT){return n(V,LT)}),Bt&&is(V,ut),it}function Yt(V,C,L,G){if(typeof L=="object"&&L!==null&&L.type===et&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case B:t:{for(var it=L.key;C!==null;){if(C.key===it){if(it=L.type,it===et){if(C.tag===7){r(V,C.sibling),G=c(C,L.props.children),G.return=V,V=G;break t}}else if(C.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===S&&xg(it)===C.type){r(V,C.sibling),G=c(C,L.props),Mo(G,L),G.return=V,V=G;break t}r(V,C);break}else n(V,C);C=C.sibling}L.type===et?(G=es(L.props.children,V.mode,G,L.key),G.return=V,V=G):(G=eu(L.type,L.key,L.props,null,V.mode,G),Mo(G,L),G.return=V,V=G)}return _(V);case Y:t:{for(it=L.key;C!==null;){if(C.key===it)if(C.tag===4&&C.stateNode.containerInfo===L.containerInfo&&C.stateNode.implementation===L.implementation){r(V,C.sibling),G=c(C,L.children||[]),G.return=V,V=G;break t}else{r(V,C);break}else n(V,C);C=C.sibling}G=dh(L,V.mode,G),G.return=V,V=G}return _(V);case S:return it=L._init,L=it(L._payload),Yt(V,C,L,G)}if(ne(L))return ft(V,C,L,G);if(U(L)){if(it=U(L),typeof it!="function")throw Error(s(150));return L=it.call(L),lt(V,C,L,G)}if(typeof L.then=="function")return Yt(V,C,_u(L),G);if(L.$$typeof===gt)return Yt(V,C,su(V,L),G);vu(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,C!==null&&C.tag===6?(r(V,C.sibling),G=c(C,L),G.return=V,V=G):(r(V,C),G=fh(L,V.mode,G),G.return=V,V=G),_(V)):r(V,C)}return function(V,C,L,G){try{No=0;var it=Yt(V,C,L,G);return ea=null,it}catch(st){if(st===Ao||st===ou)throw st;var At=an(29,st,null,V.mode);return At.lanes=G,At.return=V,At}finally{}}}var na=zg(!0),Bg=zg(!1),An=Q(null),Qn=null;function Xi(e){var n=e.alternate;X(Te,Te.current&1),X(An,e),Qn===null&&(n===null||Zs.current!==null||n.memoizedState!==null)&&(Qn=e)}function qg(e){if(e.tag===22){if(X(Te,Te.current),X(An,e),Qn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Qn=e)}}else $i()}function $i(){X(Te,Te.current),X(An,An.current)}function Si(e){W(An),Qn===e&&(Qn=null),W(Te)}var Te=Q(0);function Eu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Lf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Kh(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Qh={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=cn(),c=Ki(o);c.payload=n,r!=null&&(c.callback=r),n=Qi(e,c,o),n!==null&&(hn(n,e,o),bo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=cn(),c=Ki(o);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Qi(e,c,o),n!==null&&(hn(n,e,o),bo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=cn(),o=Ki(r);o.tag=2,n!=null&&(o.callback=n),n=Qi(e,o,r),n!==null&&(hn(n,e,r),bo(n,e,r))}};function Hg(e,n,r,o,c,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,_):n.prototype&&n.prototype.isPureReactComponent?!mo(r,o)||!mo(c,f):!0}function jg(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Qh.enqueueReplaceState(n,n.state,null)}function cs(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}var Tu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Gg(e){Tu(e)}function Fg(e){console.error(e)}function Kg(e){Tu(e)}function Au(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Qg(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Yh(e,n,r){return r=Ki(r),r.tag=3,r.payload={element:null},r.callback=function(){Au(e,n)},r}function Yg(e){return e=Ki(e),e.tag=3,e}function Xg(e,n,r,o){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){Qg(n,r,o)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Qg(n,r,o),typeof c!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function L0(e,n,r,o,c){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&vo(n,r,c,!0),r=An.current,r!==null){switch(r.tag){case 13:return Qn===null?vf():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=c,o===Sh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Tf(e,o,c)),!1;case 22:return r.flags|=65536,o===Sh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Tf(e,o,c)),!1}throw Error(s(435,r.tag))}return Tf(e,o,c),vf(),!1}if(Bt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==ph&&(e=Error(s(422),{cause:o}),_o(_n(e,r)))):(o!==ph&&(n=Error(s(423),{cause:o}),_o(_n(n,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=_n(o,r),c=Yh(e.stateNode,o,c),wh(e,c),se!==4&&(se=2)),!1;var f=Error(s(520),{cause:o});if(f=_n(f,r),zo===null?zo=[f]:zo.push(f),se!==4&&(se=2),n===null)return!0;o=_n(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=Yh(r.stateNode,o,e),wh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(nr===null||!nr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Yg(c),Xg(c,e,r,o),wh(r,c),!1}r=r.return}while(r!==null);return!1}var $g=Error(s(461)),Ie=!1;function Ue(e,n,r,o){n.child=e===null?Bg(n,null,r,o):na(n,e.child,r,o)}function Zg(e,n,r,o,c){r=r.render;var f=n.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return os(n),o=Nh(e,n,r,_,f,c),E=Mh(),e!==null&&!Ie?(Vh(e,n,c),bi(e,n,c)):(Bt&&E&&mh(n),n.flags|=1,Ue(e,n,o,c),n.child)}function Jg(e,n,r,o,c){if(e===null){var f=r.type;return typeof f=="function"&&!hh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Wg(e,n,f,o,c)):(e=eu(r.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!nf(e,c)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:mo,r(_,o)&&e.ref===n.ref)return bi(e,n,c)}return n.flags|=1,e=yi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Wg(e,n,r,o,c){if(e!==null){var f=e.memoizedProps;if(mo(f,o)&&e.ref===n.ref)if(Ie=!1,n.pendingProps=o=f,nf(e,c))(e.flags&131072)!==0&&(Ie=!0);else return n.lanes=e.lanes,bi(e,n,c)}return Xh(e,n,r,o,c)}function tp(e,n,r){var o=n.pendingProps,c=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|r:r,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return ep(e,n,o,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&au(n,f!==null?f.cachePool:null),f!==null?Wm(n,f):Ch(),qg(n);else return n.lanes=n.childLanes=536870912,ep(e,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(au(n,f.cachePool),Wm(n,f),$i(),n.memoizedState=null):(e!==null&&au(n,null),Ch(),$i());return Ue(e,n,c,r),n.child}function ep(e,n,r,o){var c=Ah();return c=c===null?null:{parent:Ee._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},e!==null&&au(n,null),Ch(),qg(n),e!==null&&vo(e,n,o,!0),null}function Su(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Xh(e,n,r,o,c){return os(n),r=Nh(e,n,r,o,void 0,c),o=Mh(),e!==null&&!Ie?(Vh(e,n,c),bi(e,n,c)):(Bt&&o&&mh(n),n.flags|=1,Ue(e,n,r,c),n.child)}function np(e,n,r,o,c,f){return os(n),n.updateQueue=null,r=eg(n,o,r,c),tg(e),o=Mh(),e!==null&&!Ie?(Vh(e,n,f),bi(e,n,f)):(Bt&&o&&mh(n),n.flags|=1,Ue(e,n,r,f),n.child)}function ip(e,n,r,o,c){if(os(n),n.stateNode===null){var f=Ks,_=r.contextType;typeof _=="object"&&_!==null&&(f=Be(_)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Qh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},bh(n),_=r.contextType,f.context=typeof _=="object"&&_!==null?Be(_):Ks,f.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(Kh(n,r,_,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Qh.enqueueReplaceState(f,f.state,null),wo(n,o,f,c),Ro(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,b=cs(r,E);f.props=b;var k=f.context,j=r.contextType;_=Ks,typeof j=="object"&&j!==null&&(_=Be(j));var F=r.getDerivedStateFromProps;j=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==_)&&jg(n,f,o,_),Fi=!1;var x=n.memoizedState;f.state=x,wo(n,o,f,c),Ro(),k=n.memoizedState,E||x!==k||Fi?(typeof F=="function"&&(Kh(n,r,F,o),k=n.memoizedState),(b=Fi||Hg(n,r,b,o,x,k,_))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=k),f.props=o,f.state=k,f.context=_,o=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Rh(e,n),_=n.memoizedProps,j=cs(r,_),f.props=j,F=n.pendingProps,x=f.context,k=r.contextType,b=Ks,typeof k=="object"&&k!==null&&(b=Be(k)),E=r.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==F||x!==b)&&jg(n,f,o,b),Fi=!1,x=n.memoizedState,f.state=x,wo(n,o,f,c),Ro();var z=n.memoizedState;_!==F||x!==z||Fi||e!==null&&e.dependencies!==null&&ru(e.dependencies)?(typeof E=="function"&&(Kh(n,r,E,o),z=n.memoizedState),(j=Fi||Hg(n,r,j,o,x,z,b)||e!==null&&e.dependencies!==null&&ru(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,z,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,z,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=b,o=j):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Su(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=na(n,e.child,null,c),n.child=na(n,null,r,c)):Ue(e,n,r,c),n.memoizedState=f.state,e=n.child):e=bi(e,n,c),e}function rp(e,n,r,o){return yo(),n.flags|=256,Ue(e,n,r,o),n.child}var $h={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zh(e){return{baseLanes:e,cachePool:Fm()}}function Jh(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Sn),e}function sp(e,n,r){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),_&&(c=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(c?Xi(n):$i(),Bt){var E=re,b;if(b=E){t:{for(b=E,E=Kn;b.nodeType!==8;){if(!E){E=null;break t}if(b=On(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:ns!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},b=an(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Xe=n,re=null,b=!0):b=!1}b||ss(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Lf(E)?n.lanes=32:n.lanes=536870912,null;Si(n)}return E=o.children,o=o.fallback,c?($i(),c=n.mode,E=bu({mode:"hidden",children:E},c),o=es(o,c,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,c=n.child,c.memoizedState=Zh(r),c.childLanes=Jh(e,_,r),n.memoizedState=$h,o):(Xi(n),Wh(n,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Xi(n),n.flags&=-257,n=tf(e,n,r)):n.memoizedState!==null?($i(),n.child=e.child,n.flags|=128,n=null):($i(),c=o.fallback,E=n.mode,o=bu({mode:"visible",children:o.children},E),c=es(c,E,r,null),c.flags|=2,o.return=n,c.return=n,o.sibling=c,n.child=o,na(n,e.child,null,r),o=n.child,o.memoizedState=Zh(r),o.childLanes=Jh(e,_,r),n.memoizedState=$h,n=c);else if(Xi(n),Lf(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var k=_.dgst;_=k,o=Error(s(419)),o.stack="",o.digest=_,_o({value:o,source:null,stack:null}),n=tf(e,n,r)}else if(Ie||vo(e,n,r,!1),_=(r&e.childLanes)!==0,Ie||_){if(_=Zt,_!==null&&(o=r&-r,o=(o&42)!==0?1:ki(o),o=(o&(_.suspendedLanes|r))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,Fs(e,o),hn(_,e,o),$g;E.data==="$?"||vf(),n=tf(e,n,r)}else E.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=b.treeContext,re=On(E.nextSibling),Xe=n,Bt=!0,rs=null,Kn=!1,e!==null&&(En[Tn++]=_i,En[Tn++]=vi,En[Tn++]=ns,_i=e.id,vi=e.overflow,ns=n),n=Wh(n,o.children),n.flags|=4096);return n}return c?($i(),c=o.fallback,E=n.mode,b=e.child,k=b.sibling,o=yi(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,k!==null?c=yi(k,c):(c=es(c,E,r,null),c.flags|=2),c.return=n,o.return=n,o.sibling=c,n.child=o,o=c,c=n.child,E=e.child.memoizedState,E===null?E=Zh(r):(b=E.cachePool,b!==null?(k=Ee._currentValue,b=b.parent!==k?{parent:k,pool:k}:b):b=Fm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=Jh(e,_,r),n.memoizedState=$h,o):(Xi(n),r=e.child,e=r.sibling,r=yi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=r,n.memoizedState=null,r)}function Wh(e,n){return n=bu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function bu(e,n){return e=an(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function tf(e,n,r){return na(n,e.child,null,r),e=Wh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ap(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),_h(e.return,n,r)}function ef(e,n,r,o,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=r,f.tailMode=c)}function op(e,n,r){var o=n.pendingProps,c=o.revealOrder,f=o.tail;if(Ue(e,n,o.children,r),o=Te.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ap(e,r,n);else if(e.tag===19)ap(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(X(Te,o),c){case"forwards":for(r=n.child,c=null;r!==null;)e=r.alternate,e!==null&&Eu(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),ef(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Eu(e)===null){n.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}ef(n,!0,r,null,f);break;case"together":ef(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function bi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),er|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(vo(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=yi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=yi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function nf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ru(e)))}function k0(e,n,r){switch(n.tag){case 3:$t(n,n.stateNode.containerInfo),Gi(n,Ee,e.memoizedState.cache),yo();break;case 27:case 5:Li(n);break;case 4:$t(n,n.stateNode.containerInfo);break;case 10:Gi(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Xi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?sp(e,n,r):(Xi(n),e=bi(e,n,r),e!==null?e.sibling:null);Xi(n);break;case 19:var c=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(vo(e,n,r,!1),o=(r&n.childLanes)!==0),c){if(o)return op(e,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),X(Te,Te.current),o)break;return null;case 22:case 23:return n.lanes=0,tp(e,n,r);case 24:Gi(n,Ee,e.memoizedState.cache)}return bi(e,n,r)}function lp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ie=!0;else{if(!nf(e,r)&&(n.flags&128)===0)return Ie=!1,k0(e,n,r);Ie=(e.flags&131072)!==0}else Ie=!1,Bt&&(n.flags&1048576)!==0&&xm(n,iu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,c=o._init;if(o=c(o._payload),n.type=o,typeof o=="function")hh(o)?(e=cs(o,e),n.tag=1,n=ip(null,n,o,e,r)):(n.tag=0,n=Xh(null,n,o,e,r));else{if(o!=null){if(c=o.$$typeof,c===Pt){n.tag=11,n=Zg(null,n,o,e,r);break t}else if(c===O){n.tag=14,n=Jg(null,n,o,e,r);break t}}throw n=Ne(o)||o,Error(s(306,n,""))}}return n;case 0:return Xh(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,c=cs(o,n.pendingProps),ip(e,n,o,c,r);case 3:t:{if($t(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,Rh(e,n),wo(n,o,null,r);var _=n.memoizedState;if(o=_.cache,Gi(n,Ee,o),o!==f.cache&&vh(n,[Ee],r,!0),Ro(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=rp(e,n,o,r);break t}else if(o!==c){c=_n(Error(s(424)),n),_o(c),n=rp(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(re=On(e.firstChild),Xe=n,Bt=!0,rs=null,Kn=!0,r=Bg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(yo(),o===c){n=bi(e,n,r);break t}Ue(e,n,o,r)}n=n.child}return n;case 26:return Su(e,n),e===null?(r=fy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,e=n.pendingProps,o=xu(mt.current).createElement(r),o[ye]=n,o[fe]=e,Le(o,r,e),oe(o),n.stateNode=o):n.memoizedState=fy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Li(n),e===null&&Bt&&(o=n.stateNode=uy(n.type,n.pendingProps,mt.current),Xe=n,Kn=!0,c=re,sr(n.type)?(kf=c,re=On(o.firstChild)):re=c),Ue(e,n,n.pendingProps.children,r),Su(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((c=o=re)&&(o=hT(o,n.type,n.pendingProps,Kn),o!==null?(n.stateNode=o,Xe=n,re=On(o.firstChild),Kn=!1,c=!0):c=!1),c||ss(n)),Li(n),c=n.type,f=n.pendingProps,_=e!==null?e.memoizedProps:null,o=f.children,Vf(c,f)?o=null:_!==null&&Vf(c,_)&&(n.flags|=32),n.memoizedState!==null&&(c=Nh(e,n,D0,null,null,r),Yo._currentValue=c),Su(e,n),Ue(e,n,o,r),n.child;case 6:return e===null&&Bt&&((e=r=re)&&(r=fT(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,Xe=n,re=null,e=!0):e=!1),e||ss(n)),null;case 13:return sp(e,n,r);case 4:return $t(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=na(n,null,o,r):Ue(e,n,o,r),n.child;case 11:return Zg(e,n,n.type,n.pendingProps,r);case 7:return Ue(e,n,n.pendingProps,r),n.child;case 8:return Ue(e,n,n.pendingProps.children,r),n.child;case 12:return Ue(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Gi(n,n.type,o.value),Ue(e,n,o.children,r),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,os(n),c=Be(c),o=o(c),n.flags|=1,Ue(e,n,o,r),n.child;case 14:return Jg(e,n,n.type,n.pendingProps,r);case 15:return Wg(e,n,n.type,n.pendingProps,r);case 19:return op(e,n,r);case 31:return o=n.pendingProps,r=n.mode,o={mode:o.mode,children:o.children},e===null?(r=bu(o,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=yi(e.child,o),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return tp(e,n,r);case 24:return os(n),o=Be(Ee),e===null?(c=Ah(),c===null&&(c=Zt,f=Eh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:o,cache:c},bh(n),Gi(n,Ee,c)):((e.lanes&r)!==0&&(Rh(e,n),wo(n,null,null,r),Ro()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Gi(n,Ee,o)):(o=f.cache,Gi(n,Ee,o),o!==c.cache&&vh(n,[Ee],r,!0))),Ue(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ri(e){e.flags|=4}function up(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!yy(n)){if(n=An.current,n!==null&&((Mt&4194048)===Mt?Qn!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||n!==Qn))throw So=Sh,Km;e.flags|=8192}}function Ru(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Xa():536870912,e.lanes|=n,aa|=n)}function Vo(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function te(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function x0(e,n,r){var o=n.pendingProps;switch(gh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ti(Ee),Un(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(po(n)?Ri(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,qm())),te(n),null;case 26:return r=n.memoizedState,e===null?(Ri(n),r!==null?(te(n),up(n,r)):(te(n),n.flags&=-16777217)):r?r!==e.memoizedState?(Ri(n),te(n),up(n,r)):(te(n),n.flags&=-16777217):(e.memoizedProps!==o&&Ri(n),te(n),n.flags&=-16777217),null;case 27:ri(n),r=mt.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ri(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return te(n),null}e=ot.current,po(n)?zm(n):(e=uy(c,o,r),n.stateNode=e,Ri(n))}return te(n),null;case 5:if(ri(n),r=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ri(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return te(n),null}if(e=ot.current,po(n))zm(n);else{switch(c=xu(mt.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?c.createElement(r,{is:o.is}):c.createElement(r)}}e[ye]=n,e[fe]=o;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;t:switch(Le(e,r,o),r){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ri(n)}}return te(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Ri(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=mt.current,po(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,c=Xe,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[ye]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||ny(e.nodeValue,r)),e||ss(n)}else e=xu(e).createTextNode(o),e[ye]=n,n.stateNode=e}return te(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=po(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ye]=n}else yo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),c=!1}else c=qm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Si(n),n):(Si(n),null)}if(Si(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=o!==null,e=e!==null&&e.memoizedState!==null,r){o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)}return r!==e&&r&&(n.child.flags|=8192),Ru(n,n.updateQueue),te(n),null;case 4:return Un(),e===null&&Cf(n.stateNode.containerInfo),te(n),null;case 10:return Ti(n.type),te(n),null;case 19:if(W(Te),c=n.memoizedState,c===null)return te(n),null;if(o=(n.flags&128)!==0,f=c.rendering,f===null)if(o)Vo(c,!1);else{if(se!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Eu(e),f!==null){for(n.flags|=128,Vo(c,!1),e=f.updateQueue,n.updateQueue=e,Ru(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)km(r,e),r=r.sibling;return X(Te,Te.current&1|2),n.child}e=e.sibling}c.tail!==null&&fn()>Cu&&(n.flags|=128,o=!0,Vo(c,!1),n.lanes=4194304)}else{if(!o)if(e=Eu(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Ru(n,e),Vo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return te(n),null}else 2*fn()-c.renderingStartTime>Cu&&r!==536870912&&(n.flags|=128,o=!0,Vo(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(e=c.last,e!==null?e.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=fn(),n.sibling=null,e=Te.current,X(Te,o?e&1|2:e&1),n):(te(n),null);case 22:case 23:return Si(n),Dh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),r=n.updateQueue,r!==null&&Ru(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&W(ls),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ti(Ee),te(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function z0(e,n){switch(gh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ti(Ee),Un(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ri(n),null;case 13:if(Si(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));yo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return W(Te),null;case 4:return Un(),null;case 10:return Ti(n.type),null;case 22:case 23:return Si(n),Dh(),e!==null&&W(ls),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ti(Ee),null;case 25:return null;default:return null}}function cp(e,n){switch(gh(n),n.tag){case 3:Ti(Ee),Un();break;case 26:case 27:case 5:ri(n);break;case 4:Un();break;case 13:Si(n);break;case 19:W(Te);break;case 10:Ti(n.type);break;case 22:case 23:Si(n),Dh(),e!==null&&W(ls);break;case 24:Ti(Ee)}}function Uo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var c=o.next;r=c;do{if((r.tag&e)===e){o=void 0;var f=r.create,_=r.inst;o=f(),_.destroy=o}r=r.next}while(r!==c)}}catch(E){Xt(n,n.return,E)}}function Zi(e,n,r){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,c=n;var b=r,k=E;try{k()}catch(j){Xt(c,b,j)}}}o=o.next}while(o!==f)}}catch(j){Xt(n,n.return,j)}}function hp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Jm(n,r)}catch(o){Xt(e,e.return,o)}}}function fp(e,n,r){r.props=cs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Xt(e,n,o)}}function Po(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(c){Xt(e,n,c)}}function Yn(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(c){Xt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xt(e,n,c)}else r.current=null}function dp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(c){Xt(e,e.return,c)}}function rf(e,n,r){try{var o=e.stateNode;aT(o,e.type,r,n),o[fe]=n}catch(c){Xt(e,e.return,c)}}function mp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&sr(e.type)||e.tag===4}function sf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||mp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&sr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function af(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ku));else if(o!==4&&(o===27&&sr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(af(e,n,r),e=e.sibling;e!==null;)af(e,n,r),e=e.sibling}function wu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&sr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(wu(e,n,r),e=e.sibling;e!==null;)wu(e,n,r),e=e.sibling}function gp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Le(n,o,r),n[ye]=e,n[fe]=r}catch(f){Xt(e,e.return,f)}}var wi=!1,ue=!1,of=!1,pp=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function B0(e,n){if(e=e.containerInfo,Nf=Gu,e=Im(e),rh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var _=0,E=-1,b=-1,k=0,j=0,F=e,x=null;e:for(;;){for(var z;F!==r||c!==0&&F.nodeType!==3||(E=_+c),F!==f||o!==0&&F.nodeType!==3||(b=_+o),F.nodeType===3&&(_+=F.nodeValue.length),(z=F.firstChild)!==null;)x=F,F=z;for(;;){if(F===e)break e;if(x===r&&++k===c&&(E=_),x===f&&++j===o&&(b=_),(z=F.nextSibling)!==null)break;F=x,x=F.parentNode}F=z}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Mf={focusedElem:e,selectionRange:r},Gu=!1,Ce=n;Ce!==null;)if(n=Ce,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ce=e;else for(;Ce!==null;){switch(n=Ce,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ft=cs(r.type,c,r.elementType===r.type);e=o.getSnapshotBeforeUpdate(ft,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(lt){Xt(r,r.return,lt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Pf(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Ce=e;break}Ce=n.return}}function yp(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Ji(e,r),o&4&&Uo(5,r);break;case 1:if(Ji(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(_){Xt(r,r.return,_)}else{var c=cs(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Xt(r,r.return,_)}}o&64&&hp(r),o&512&&Po(r,r.return);break;case 3:if(Ji(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Jm(e,n)}catch(_){Xt(r,r.return,_)}}break;case 27:n===null&&o&4&&gp(r);case 26:case 5:Ji(e,r),n===null&&o&4&&dp(r),o&512&&Po(r,r.return);break;case 12:Ji(e,r);break;case 13:Ji(e,r),o&4&&Ep(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=X0.bind(null,r),dT(e,r))));break;case 22:if(o=r.memoizedState!==null||wi,!o){n=n!==null&&n.memoizedState!==null||ue,c=wi;var f=ue;wi=o,(ue=n)&&!f?Wi(e,r,(r.subtreeFlags&8772)!==0):Ji(e,r),wi=c,ue=f}break;case 30:break;default:Ji(e,r)}}function _p(e){var n=e.alternate;n!==null&&(e.alternate=null,_p(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Bi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Wt=null,Je=!1;function Ii(e,n,r){for(r=r.child;r!==null;)vp(e,n,r),r=r.sibling}function vp(e,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ie,r)}catch{}switch(r.tag){case 26:ue||Yn(r,n),Ii(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ue||Yn(r,n);var o=Wt,c=Je;sr(r.type)&&(Wt=r.stateNode,Je=!1),Ii(e,n,r),Go(r.stateNode),Wt=o,Je=c;break;case 5:ue||Yn(r,n);case 6:if(o=Wt,c=Je,Wt=null,Ii(e,n,r),Wt=o,Je=c,Wt!==null)if(Je)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{Wt.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:Wt!==null&&(Je?(e=Wt,oy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Jo(e)):oy(Wt,r.stateNode));break;case 4:o=Wt,c=Je,Wt=r.stateNode.containerInfo,Je=!0,Ii(e,n,r),Wt=o,Je=c;break;case 0:case 11:case 14:case 15:ue||Zi(2,r,n),ue||Zi(4,r,n),Ii(e,n,r);break;case 1:ue||(Yn(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&fp(r,n,o)),Ii(e,n,r);break;case 21:Ii(e,n,r);break;case 22:ue=(o=ue)||r.memoizedState!==null,Ii(e,n,r),ue=o;break;default:Ii(e,n,r)}}function Ep(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Jo(e)}catch(r){Xt(n,n.return,r)}}function q0(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new pp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new pp),n;default:throw Error(s(435,e.tag))}}function lf(e,n){var r=q0(e);n.forEach(function(o){var c=$0.bind(null,e,o);r.has(o)||(r.add(o),o.then(c,c))})}function on(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var c=r[o],f=e,_=n,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(sr(E.type)){Wt=E.stateNode,Je=!1;break t}break;case 5:Wt=E.stateNode,Je=!1;break t;case 3:case 4:Wt=E.stateNode.containerInfo,Je=!0;break t}E=E.return}if(Wt===null)throw Error(s(160));vp(f,_,c),Wt=null,Je=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Tp(n,e),n=n.sibling}var Dn=null;function Tp(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(Zi(3,e,e.return),Uo(3,e),Zi(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(ue||r===null||Yn(r,r.return)),o&64&&wi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var c=Dn;if(on(n,e),ln(e),o&512&&(ue||r===null||Yn(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[zr]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,o,r),f[ye]=e,oe(f),o=f;break t;case"link":var _=gy("link","href",c).get(o+(r.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(E,1);break e}}f=c.createElement(o),Le(f,o,r),c.head.appendChild(f);break;case"meta":if(_=gy("meta","content",c).get(o+(r.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(E,1);break e}}f=c.createElement(o),Le(f,o,r),c.head.appendChild(f);break;default:throw Error(s(468,o))}f[ye]=e,oe(f),o=f}e.stateNode=o}else py(c,e.type,e.stateNode);else e.stateNode=my(c,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?py(c,e.type,e.stateNode):my(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&rf(e,e.memoizedProps,r.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(ue||r===null||Yn(r,r.return)),r!==null&&o&4&&rf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(ue||r===null||Yn(r,r.return)),e.flags&32){c=e.stateNode;try{mn(c,"")}catch(z){Xt(e,e.return,z)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,rf(e,c,r!==null?r.memoizedProps:c)),o&1024&&(of=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(z){Xt(e,e.return,z)}}break;case 3:if(qu=null,c=Dn,Dn=zu(n.containerInfo),on(n,e),Dn=c,ln(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Jo(n.containerInfo)}catch(z){Xt(e,e.return,z)}of&&(of=!1,Ap(e));break;case 4:o=Dn,Dn=zu(e.stateNode.containerInfo),on(n,e),ln(e),Dn=o;break;case 12:on(n,e),ln(e);break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(mf=fn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,lf(e,o)));break;case 22:c=e.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,k=wi,j=ue;if(wi=k||c,ue=j||b,on(n,e),ue=j,wi=k,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||wi||ue||hs(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=b.stateNode;var F=b.memoizedProps.style,x=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=x==null||typeof x=="boolean"?"":(""+x).trim()}}catch(z){Xt(b,b.return,z)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(z){Xt(b,b.return,z)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,lf(e,r))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,lf(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(mp(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=sf(e);wu(e,f,c);break;case 5:var _=r.stateNode;r.flags&32&&(mn(_,""),r.flags&=-33);var E=sf(e);wu(e,E,_);break;case 3:case 4:var b=r.stateNode.containerInfo,k=sf(e);af(e,k,b);break;default:throw Error(s(161))}}catch(j){Xt(e,e.return,j)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ap(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ap(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ji(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)yp(e,n.alternate,n),n=n.sibling}function hs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Zi(4,n,n.return),hs(n);break;case 1:Yn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&fp(n,n.return,r),hs(n);break;case 27:Go(n.stateNode);case 26:case 5:Yn(n,n.return),hs(n);break;case 22:n.memoizedState===null&&hs(n);break;case 30:hs(n);break;default:hs(n)}e=e.sibling}}function Wi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(c,f,r),Uo(4,f);break;case 1:if(Wi(c,f,r),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){Xt(o,o.return,k)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Zm(b[c],E)}catch(k){Xt(o,o.return,k)}}r&&_&64&&hp(f),Po(f,f.return);break;case 27:gp(f);case 26:case 5:Wi(c,f,r),r&&o===null&&_&4&&dp(f),Po(f,f.return);break;case 12:Wi(c,f,r);break;case 13:Wi(c,f,r),r&&_&4&&Ep(c,f);break;case 22:f.memoizedState===null&&Wi(c,f,r),Po(f,f.return);break;case 30:break;default:Wi(c,f,r)}n=n.sibling}}function uf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Eo(r))}function cf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Eo(e))}function Xn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sp(e,n,r,o),n=n.sibling}function Sp(e,n,r,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,r,o),c&2048&&Uo(9,n);break;case 1:Xn(e,n,r,o);break;case 3:Xn(e,n,r,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Eo(e)));break;case 12:if(c&2048){Xn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else Xn(e,n,r,o);break;case 13:Xn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(e,n,r,o):Lo(e,n):f._visibility&2?Xn(e,n,r,o):(f._visibility|=2,ia(e,n,r,o,(n.subtreeFlags&10256)!==0)),c&2048&&uf(_,n);break;case 24:Xn(e,n,r,o),c&2048&&cf(n.alternate,n);break;default:Xn(e,n,r,o)}}function ia(e,n,r,o,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,_=n,E=r,b=o,k=_.flags;switch(_.tag){case 0:case 11:case 15:ia(f,_,E,b,c),Uo(8,_);break;case 23:break;case 22:var j=_.stateNode;_.memoizedState!==null?j._visibility&2?ia(f,_,E,b,c):Lo(f,_):(j._visibility|=2,ia(f,_,E,b,c)),c&&k&2048&&uf(_.alternate,_);break;case 24:ia(f,_,E,b,c),c&&k&2048&&cf(_.alternate,_);break;default:ia(f,_,E,b,c)}n=n.sibling}}function Lo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,c=o.flags;switch(o.tag){case 22:Lo(r,o),c&2048&&uf(o.alternate,o);break;case 24:Lo(r,o),c&2048&&cf(o.alternate,o);break;default:Lo(r,o)}n=n.sibling}}var ko=8192;function ra(e){if(e.subtreeFlags&ko)for(e=e.child;e!==null;)bp(e),e=e.sibling}function bp(e){switch(e.tag){case 26:ra(e),e.flags&ko&&e.memoizedState!==null&&wT(Dn,e.memoizedState,e.memoizedProps);break;case 5:ra(e);break;case 3:case 4:var n=Dn;Dn=zu(e.stateNode.containerInfo),ra(e),Dn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=ko,ko=16777216,ra(e),ko=n):ra(e));break;default:ra(e)}}function Rp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function xo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ce=o,Ip(o,e)}Rp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wp(e),e=e.sibling}function wp(e){switch(e.tag){case 0:case 11:case 15:xo(e),e.flags&2048&&Zi(9,e,e.return);break;case 3:xo(e);break;case 12:xo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Iu(e)):xo(e);break;default:xo(e)}}function Iu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ce=o,Ip(o,e)}Rp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Zi(8,n,n.return),Iu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Iu(n));break;default:Iu(n)}e=e.sibling}}function Ip(e,n){for(;Ce!==null;){var r=Ce;switch(r.tag){case 0:case 11:case 15:Zi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Eo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ce=o;else t:for(r=e;Ce!==null;){o=Ce;var c=o.sibling,f=o.return;if(_p(o),o===r){Ce=null;break t}if(c!==null){c.return=f,Ce=c;break t}Ce=f}}}var H0={getCacheForType:function(e){var n=Be(Ee),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r}},j0=typeof WeakMap=="function"?WeakMap:Map,jt=0,Zt=null,bt=null,Mt=0,Gt=0,un=null,tr=!1,sa=!1,hf=!1,Ci=0,se=0,er=0,fs=0,ff=0,Sn=0,aa=0,zo=null,We=null,df=!1,mf=0,Cu=1/0,Du=null,nr=null,Pe=0,ir=null,oa=null,la=0,gf=0,pf=null,Cp=null,Bo=0,yf=null;function cn(){if((jt&2)!==0&&Mt!==0)return Mt&-Mt;if(H.T!==null){var e=Xs;return e!==0?e:bf()}return xi()}function Dp(){Sn===0&&(Sn=(Mt&536870912)===0||Bt?Ya():536870912);var e=An.current;return e!==null&&(e.flags|=32),Sn}function hn(e,n,r){(e===Zt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(ua(e,0),rr(e,Mt,Sn,!1)),ai(e,r),((jt&2)===0||e!==Zt)&&(e===Zt&&((jt&2)===0&&(fs|=r),se===4&&rr(e,Mt,Sn,!1)),$n(e))}function Op(e,n,r){if((jt&6)!==0)throw Error(s(327));var o=!r&&(n&124)===0&&(n&e.expiredLanes)===0||xr(e,n),c=o?K0(e,n):Ef(e,n,!0),f=o;do{if(c===0){sa&&!o&&rr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!G0(r)){c=Ef(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var E=e;c=zo;var b=E.current.memoizedState.isDehydrated;if(b&&(ua(E,_).flags|=256),_=Ef(E,_,!1),_!==2){if(hf&&!b){E.errorRecoveryDisabledLanes|=f,fs|=f,c=4;break t}f=We,We=c,f!==null&&(We===null?We=f:We.push.apply(We,f))}c=_}if(f=!1,c!==2)continue}}if(c===1){ua(e,0),rr(e,n,0,!0);break}t:{switch(o=e,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:rr(o,n,Sn,!tr);break t;case 2:We=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=mf+300-fn(),10<c)){if(rr(o,n,Sn,!tr),ws(o,0,!0)!==0)break t;o.timeoutHandle=sy(Np.bind(null,o,r,We,Du,df,n,Sn,fs,aa,tr,f,2,-0,0),c);break t}Np(o,r,We,Du,df,n,Sn,fs,aa,tr,f,0,-0,0)}}break}while(!0);$n(e)}function Np(e,n,r,o,c,f,_,E,b,k,j,F,x,z){if(e.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Qo={stylesheets:null,count:0,unsuspend:RT},bp(n),F=IT(),F!==null)){e.cancelPendingCommit=F(xp.bind(null,e,n,f,r,o,c,_,E,b,j,1,x,z)),rr(e,f,_,!k);return}xp(e,n,f,r,o,c,_,E,b)}function G0(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var c=r[o],f=c.getSnapshot;c=c.value;try{if(!sn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function rr(e,n,r,o){n&=~ff,n&=~fs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-ze(c),_=1<<f;o[f]=-1,c&=~_}r!==0&&Pn(e,r,n)}function Ou(){return(jt&6)===0?(qo(0),!1):!0}function _f(){if(bt!==null){if(Gt===0)var e=bt.return;else e=bt,Ei=as=null,Uh(e),ea=null,No=0,e=bt;for(;e!==null;)cp(e.alternate,e),e=e.return;bt=null}}function ua(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,lT(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),_f(),Zt=e,bt=r=yi(e.current,null),Mt=n,Gt=0,un=null,tr=!1,sa=xr(e,n),hf=!1,aa=Sn=ff=fs=er=se=0,We=zo=null,df=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-ze(o),f=1<<c;n|=e[c],o&=~f}return Ci=n,Jl(),r}function Mp(e,n){Et=null,H.H=yu,n===Ao||n===ou?(n=Xm(),Gt=3):n===Km?(n=Xm(),Gt=4):Gt=n===$g?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,bt===null&&(se=1,Au(e,_n(n,e.current)))}function Vp(){var e=H.H;return H.H=yu,e===null?yu:e}function Up(){var e=H.A;return H.A=H0,e}function vf(){se=4,tr||(Mt&4194048)!==Mt&&An.current!==null||(sa=!0),(er&134217727)===0&&(fs&134217727)===0||Zt===null||rr(Zt,Mt,Sn,!1)}function Ef(e,n,r){var o=jt;jt|=2;var c=Vp(),f=Up();(Zt!==e||Mt!==n)&&(Du=null,ua(e,n)),n=!1;var _=se;t:do try{if(Gt!==0&&bt!==null){var E=bt,b=un;switch(Gt){case 8:_f(),_=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var k=Gt;if(Gt=0,un=null,ca(e,E,b,k),r&&sa){_=0;break t}break;default:k=Gt,Gt=0,un=null,ca(e,E,b,k)}}F0(),_=se;break}catch(j){Mp(e,j)}while(!0);return n&&e.shellSuspendCounter++,Ei=as=null,jt=o,H.H=c,H.A=f,bt===null&&(Zt=null,Mt=0,Jl()),_}function F0(){for(;bt!==null;)Pp(bt)}function K0(e,n){var r=jt;jt|=2;var o=Vp(),c=Up();Zt!==e||Mt!==n?(Du=null,Cu=fn()+500,ua(e,n)):sa=xr(e,n);t:do try{if(Gt!==0&&bt!==null){n=bt;var f=un;e:switch(Gt){case 1:Gt=0,un=null,ca(e,n,f,1);break;case 2:case 9:if(Qm(f)){Gt=0,un=null,Lp(n);break}n=function(){Gt!==2&&Gt!==9||Zt!==e||(Gt=7),$n(e)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Qm(f)?(Gt=0,un=null,Lp(n)):(Gt=0,un=null,ca(e,n,f,7));break;case 5:var _=null;switch(bt.tag){case 26:_=bt.memoizedState;case 5:case 27:var E=bt;if(!_||yy(_)){Gt=0,un=null;var b=E.sibling;if(b!==null)bt=b;else{var k=E.return;k!==null?(bt=k,Nu(k)):bt=null}break e}}Gt=0,un=null,ca(e,n,f,5);break;case 6:Gt=0,un=null,ca(e,n,f,6);break;case 8:_f(),se=6;break t;default:throw Error(s(462))}}Q0();break}catch(j){Mp(e,j)}while(!0);return Ei=as=null,H.H=o,H.A=c,jt=r,bt!==null?0:(Zt=null,Mt=0,Jl(),se)}function Q0(){for(;bt!==null&&!Ga();)Pp(bt)}function Pp(e){var n=lp(e.alternate,e,Ci);e.memoizedProps=e.pendingProps,n===null?Nu(e):bt=n}function Lp(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=np(r,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=np(r,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:Uh(n);default:cp(r,n),n=bt=km(n,Ci),n=lp(r,n,Ci)}e.memoizedProps=e.pendingProps,n===null?Nu(e):bt=n}function ca(e,n,r,o){Ei=as=null,Uh(n),ea=null,No=0;var c=n.return;try{if(L0(e,c,n,r,Mt)){se=1,Au(e,_n(r,e.current)),bt=null;return}}catch(f){if(c!==null)throw bt=c,f;se=1,Au(e,_n(r,e.current)),bt=null;return}n.flags&32768?(Bt||o===1?e=!0:sa||(Mt&536870912)!==0?e=!1:(tr=e=!0,(o===2||o===9||o===3||o===6)&&(o=An.current,o!==null&&o.tag===13&&(o.flags|=16384))),kp(n,e)):Nu(n)}function Nu(e){var n=e;do{if((n.flags&32768)!==0){kp(n,tr);return}e=n.return;var r=x0(n.alternate,n,Ci);if(r!==null){bt=r;return}if(n=n.sibling,n!==null){bt=n;return}bt=n=e}while(n!==null);se===0&&(se=5)}function kp(e,n){do{var r=z0(e.alternate,e);if(r!==null){r.flags&=32767,bt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){bt=e;return}bt=e=r}while(e!==null);se=6,bt=null}function xp(e,n,r,o,c,f,_,E,b){e.cancelPendingCommit=null;do Mu();while(Pe!==0);if((jt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=uh,$a(e,r,f,_,E,b),e===Zt&&(bt=Zt=null,Mt=0),oa=n,ir=e,la=r,gf=f,pf=c,Cp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Z0(Ur,function(){return jp(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,c=Z.p,Z.p=2,_=jt,jt|=4;try{B0(e,n,r)}finally{jt=_,Z.p=c,H.T=o}}Pe=1,zp(),Bp(),qp()}}function zp(){if(Pe===1){Pe=0;var e=ir,n=oa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=Z.p;Z.p=2;var c=jt;jt|=4;try{Tp(n,e);var f=Mf,_=Im(e.containerInfo),E=f.focusedElem,b=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&wm(E.ownerDocument.documentElement,E)){if(b!==null&&rh(E)){var k=b.start,j=b.end;if(j===void 0&&(j=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(j,E.value.length);else{var F=E.ownerDocument||document,x=F&&F.defaultView||window;if(x.getSelection){var z=x.getSelection(),ft=E.textContent.length,lt=Math.min(b.start,ft),Yt=b.end===void 0?lt:Math.min(b.end,ft);!z.extend&&lt>Yt&&(_=Yt,Yt=lt,lt=_);var V=Rm(E,lt),C=Rm(E,Yt);if(V&&C&&(z.rangeCount!==1||z.anchorNode!==V.node||z.anchorOffset!==V.offset||z.focusNode!==C.node||z.focusOffset!==C.offset)){var L=F.createRange();L.setStart(V.node,V.offset),z.removeAllRanges(),lt>Yt?(z.addRange(L),z.extend(C.node,C.offset)):(L.setEnd(C.node,C.offset),z.addRange(L))}}}}for(F=[],z=E;z=z.parentNode;)z.nodeType===1&&F.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var G=F[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Gu=!!Nf,Mf=Nf=null}finally{jt=c,Z.p=o,H.T=r}}e.current=n,Pe=2}}function Bp(){if(Pe===2){Pe=0;var e=ir,n=oa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=Z.p;Z.p=2;var c=jt;jt|=4;try{yp(e,n.alternate,n)}finally{jt=c,Z.p=o,H.T=r}}Pe=3}}function qp(){if(Pe===4||Pe===3){Pe=0,Il();var e=ir,n=oa,r=la,o=Cp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,oa=ir=null,Hp(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(nr=null),Is(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ie,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,c=Z.p,Z.p=2,H.T=null;try{for(var f=e.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{H.T=n,Z.p=c}}(la&3)!==0&&Mu(),$n(e),c=e.pendingLanes,(r&4194090)!==0&&(c&42)!==0?e===yf?Bo++:(Bo=0,yf=e):Bo=0,qo(0)}}function Hp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Eo(n)))}function Mu(e){return zp(),Bp(),qp(),jp()}function jp(){if(Pe!==5)return!1;var e=ir,n=gf;gf=0;var r=Is(la),o=H.T,c=Z.p;try{Z.p=32>r?32:r,H.T=null,r=pf,pf=null;var f=ir,_=la;if(Pe=0,oa=ir=null,la=0,(jt&6)!==0)throw Error(s(331));var E=jt;if(jt|=4,wp(f.current),Sp(f,f.current,_,r),jt=E,qo(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ie,f)}catch{}return!0}finally{Z.p=c,H.T=o,Hp(e,n)}}function Gp(e,n,r){n=_n(r,n),n=Yh(e.stateNode,n,2),e=Qi(e,n,2),e!==null&&(ai(e,2),$n(e))}function Xt(e,n,r){if(e.tag===3)Gp(e,e,r);else for(;n!==null;){if(n.tag===3){Gp(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(nr===null||!nr.has(o))){e=_n(r,e),r=Yg(2),o=Qi(n,r,2),o!==null&&(Xg(r,o,n,e),ai(o,2),$n(o));break}}n=n.return}}function Tf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new j0;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(r)||(hf=!0,c.add(r),e=Y0.bind(null,e,n,r),n.then(e,e))}function Y0(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Zt===e&&(Mt&r)===r&&(se===4||se===3&&(Mt&62914560)===Mt&&300>fn()-mf?(jt&2)===0&&ua(e,0):ff|=r,aa===Mt&&(aa=0)),$n(e)}function Fp(e,n){n===0&&(n=Xa()),e=Fs(e,n),e!==null&&(ai(e,n),$n(e))}function X0(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Fp(e,r)}function $0(e,n){var r=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Fp(e,r)}function Z0(e,n){return Mr(e,n)}var Vu=null,ha=null,Af=!1,Uu=!1,Sf=!1,ds=0;function $n(e){e!==ha&&e.next===null&&(ha===null?Vu=ha=e:ha=ha.next=e),Uu=!0,Af||(Af=!0,W0())}function qo(e,n){if(!Sf&&Uu){Sf=!0;do for(var r=!1,o=Vu;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ze(42|e)+1)-1,f&=c&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Xp(o,f))}else f=Mt,f=ws(o,o===Zt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||xr(o,f)||(r=!0,Xp(o,f));o=o.next}while(r);Sf=!1}}function J0(){Kp()}function Kp(){Uu=Af=!1;var e=0;ds!==0&&(oT()&&(e=ds),ds=0);for(var n=fn(),r=null,o=Vu;o!==null;){var c=o.next,f=Qp(o,n);f===0?(o.next=null,r===null?Vu=c:r.next=c,c===null&&(ha=r)):(r=o,(e!==0||(f&3)!==0)&&(Uu=!0)),o=c}qo(e)}function Qp(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-ze(f),E=1<<_,b=c[_];b===-1?((E&r)===0||(E&o)!==0)&&(c[_]=Qa(E,n)):b<=n&&(e.expiredLanes|=E),f&=~E}if(n=Zt,r=Mt,r=ws(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Vr(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||xr(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Vr(o),Is(r)){case 2:case 8:r=bs;break;case 32:r=Ur;break;case 268435456:r=Rs;break;default:r=Ur}return o=Yp.bind(null,e),r=Mr(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Vr(o),e.callbackPriority=2,e.callbackNode=null,2}function Yp(e,n){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Mu()&&e.callbackNode!==r)return null;var o=Mt;return o=ws(e,e===Zt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Op(e,o,n),Qp(e,fn()),e.callbackNode!=null&&e.callbackNode===r?Yp.bind(null,e):null)}function Xp(e,n){if(Mu())return null;Op(e,n,!0)}function W0(){uT(function(){(jt&6)!==0?Mr(Fa,J0):Kp()})}function bf(){return ds===0&&(ds=Ya()),ds}function $p(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vs(""+e)}function Zp(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function tT(e,n,r,o,c){if(n==="submit"&&r&&r.stateNode===c){var f=$p((c[fe]||null).action),_=o.submitter;_&&(n=(n=_[fe]||null)?$p(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new Us("action","action",null,o,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ds!==0){var b=_?Zp(c,_):new FormData(c);jh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=_?Zp(c,_):new FormData(c),jh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Rf=0;Rf<lh.length;Rf++){var wf=lh[Rf],eT=wf.toLowerCase(),nT=wf[0].toUpperCase()+wf.slice(1);Cn(eT,"on"+nT)}Cn(Om,"onAnimationEnd"),Cn(Nm,"onAnimationIteration"),Cn(Mm,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(v0,"onTransitionRun"),Cn(E0,"onTransitionStart"),Cn(T0,"onTransitionCancel"),Cn(Vm,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ho));function Jp(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var _=o.length-1;0<=_;_--){var E=o[_],b=E.instance,k=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(j){Tu(j)}c.currentTarget=null,f=b}else for(_=0;_<o.length;_++){if(E=o[_],b=E.instance,k=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(j){Tu(j)}c.currentTarget=null,f=b}}}}function Rt(e,n){var r=n[Ja];r===void 0&&(r=n[Ja]=new Set);var o=e+"__bubble";r.has(o)||(Wp(n,e,2,!1),r.add(o))}function If(e,n,r){var o=0;n&&(o|=4),Wp(r,e,o,n)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function Cf(e){if(!e[Pu]){e[Pu]=!0,Wa.forEach(function(r){r!=="selectionchange"&&(iT.has(r)||If(r,!1,e),If(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Pu]||(n[Pu]=!0,If("selectionchange",!1,n))}}function Wp(e,n,r,o){switch(Sy(n)){case 2:var c=OT;break;case 8:c=NT;break;default:c=Hf}r=c.bind(null,n,r,e),c=void 0,!pn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,r,{capture:!0,passive:c}):e.addEventListener(n,r,!0):c!==void 0?e.addEventListener(n,r,{passive:c}):e.addEventListener(n,r,!1)}function Df(e,n,r,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===c)break;if(_===4)for(_=o.return;_!==null;){var b=_.tag;if((b===3||b===4)&&_.stateNode.containerInfo===c)return;_=_.return}for(;E!==null;){if(_=oi(E),_===null)return;if(b=_.tag,b===5||b===6||b===26||b===27){o=f=_;continue t}E=E.parentNode}}o=o.return}kl(function(){var k=f,j=gn(r),F=[];t:{var x=Um.get(e);if(x!==void 0){var z=Us,ft=e;switch(e){case"keypress":if(qn(r)===0)break t;case"keydown":case"keyup":z=Bs;break;case"focusin":ft="focus",z=ks;break;case"focusout":ft="blur",z=ks;break;case"beforeblur":case"afterblur":z=ks;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=Fl;break;case Om:case Nm:case Mm:z=xs;break;case Vm:z=Ql;break;case"scroll":case"scrollend":z=xl;break;case"wheel":z=qs;break;case"copy":case"cut":case"paste":z=zs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=ho;break;case"toggle":case"beforetoggle":z=Xl}var lt=(n&4)!==0,Yt=!lt&&(e==="scroll"||e==="scrollend"),V=lt?x!==null?x+"Capture":null:x;lt=[];for(var C=k,L;C!==null;){var G=C;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||V===null||(G=Kr(C,V),G!=null&&lt.push(jo(C,G,L))),Yt)break;C=C.return}0<lt.length&&(x=new z(x,ft,null,r,j),F.push({event:x,listeners:lt}))}}if((n&7)===0){t:{if(x=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",x&&r!==hi&&(ft=r.relatedTarget||r.fromElement)&&(oi(ft)||ft[dn]))break t;if((z||x)&&(x=j.window===j?j:(x=j.ownerDocument)?x.defaultView||x.parentWindow:window,z?(ft=r.relatedTarget||r.toElement,z=k,ft=ft?oi(ft):null,ft!==null&&(Yt=h(ft),lt=ft.tag,ft!==Yt||lt!==5&&lt!==27&&lt!==6)&&(ft=null)):(z=null,ft=k),z!==ft)){if(lt=yn,G="onMouseLeave",V="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(lt=ho,G="onPointerLeave",V="onPointerEnter",C="pointer"),Yt=z==null?x:kn(z),L=ft==null?x:kn(ft),x=new lt(G,C+"leave",z,r,j),x.target=Yt,x.relatedTarget=L,G=null,oi(j)===k&&(lt=new lt(V,C+"enter",ft,r,j),lt.target=L,lt.relatedTarget=Yt,G=lt),Yt=G,z&&ft)e:{for(lt=z,V=ft,C=0,L=lt;L;L=fa(L))C++;for(L=0,G=V;G;G=fa(G))L++;for(;0<C-L;)lt=fa(lt),C--;for(;0<L-C;)V=fa(V),L--;for(;C--;){if(lt===V||V!==null&&lt===V.alternate)break e;lt=fa(lt),V=fa(V)}lt=null}else lt=null;z!==null&&ty(F,x,z,lt,!1),ft!==null&&Yt!==null&&ty(F,Yt,ft,lt,!0)}}t:{if(x=k?kn(k):window,z=x.nodeName&&x.nodeName.toLowerCase(),z==="select"||z==="input"&&x.type==="file")var it=vm;else if(ve(x))if(Em)it=p0;else{it=m0;var At=d0}else z=x.nodeName,!z||z.toLowerCase()!=="input"||x.type!=="checkbox"&&x.type!=="radio"?k&&ro(k.elementType)&&(it=vm):it=g0;if(it&&(it=it(e,k))){pi(F,it,r,j);break t}At&&At(e,x,k),e==="focusout"&&k&&x.type==="number"&&k.memoizedProps.value!=null&&Hi(x,"number",x.value)}switch(At=k?kn(k):window,e){case"focusin":(ve(At)||At.contentEditable==="true")&&(Hs=At,sh=k,go=null);break;case"focusout":go=sh=Hs=null;break;case"mousedown":ah=!0;break;case"contextmenu":case"mouseup":case"dragend":ah=!1,Cm(F,r,j);break;case"selectionchange":if(_0)break;case"keydown":case"keyup":Cm(F,r,j)}var st;if(Gn)t:{switch(e){case"compositionstart":var ut="onCompositionStart";break t;case"compositionend":ut="onCompositionEnd";break t;case"compositionupdate":ut="onCompositionUpdate";break t}ut=void 0}else Ot?q(e,r)&&(ut="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ut="onCompositionStart");ut&&(p&&r.locale!=="ko"&&(Ot||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&Ot&&(st=ao()):(Bn=j,ji="value"in Bn?Bn.value:Bn.textContent,Ot=!0)),At=Lu(k,ut),0<At.length&&(ut=new uo(ut,e,null,r,j),F.push({event:ut,listeners:At}),st?ut.data=st:(st=$(r),st!==null&&(ut.data=st)))),(st=m?_e(e,r):Nt(e,r))&&(ut=Lu(k,"onBeforeInput"),0<ut.length&&(At=new uo("onBeforeInput","beforeinput",null,r,j),F.push({event:At,listeners:ut}),At.data=st)),tT(F,e,k,r,j)}Jp(F,n)})}function jo(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Lu(e,n){for(var r=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Kr(e,r),c!=null&&o.unshift(jo(e,c,f)),c=Kr(e,n),c!=null&&o.push(jo(e,c,f))),e.tag===3)return o;e=e.return}return[]}function fa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ty(e,n,r,o,c){for(var f=n._reactName,_=[];r!==null&&r!==o;){var E=r,b=E.alternate,k=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||k===null||(b=k,c?(k=Kr(r,f),k!=null&&_.unshift(jo(r,k,b))):c||(k=Kr(r,f),k!=null&&_.push(jo(r,k,b)))),r=r.return}_.length!==0&&e.push({event:n,listeners:_})}var rT=/\r\n?/g,sT=/\u0000|\uFFFD/g;function ey(e){return(typeof e=="string"?e:""+e).replace(rT,`
`).replace(sT,"")}function ny(e,n){return n=ey(n),ey(e)===n}function ku(){}function Qt(e,n,r,o,c,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||mn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&mn(e,""+o);break;case"className":xn(e,"class",o);break;case"tabIndex":xn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":xn(e,r,o);break;case"style":io(e,o,f);break;case"data":if(n!=="object"){xn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Vs(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Qt(e,n,"name",c.name,c,null),Qt(e,n,"formEncType",c.formEncType,c,null),Qt(e,n,"formMethod",c.formMethod,c,null),Qt(e,n,"formTarget",c.formTarget,c,null)):(Qt(e,n,"encType",c.encType,c,null),Qt(e,n,"method",c.method,c,null),Qt(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Vs(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=ku);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Vs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),qi(e,"popover",o);break;case"xlinkActuate":Me(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Me(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Me(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Me(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Me(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Me(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Me(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Me(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Me(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":qi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Jc.get(r)||r,qi(e,r,o))}}function Of(e,n,r,o,c,f){switch(r){case"style":io(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?mn(e,o):(typeof o=="number"||typeof o=="bigint")&&mn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cs.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=e[fe]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,c);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):qi(e,r,o)}}}function Le(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(e,n,f,_,r,null)}}c&&Qt(e,n,"srcSet",r.srcSet,r,null),o&&Qt(e,n,"src",r.src,r,null);return;case"input":Rt("invalid",e);var E=f=_=c=null,b=null,k=null;for(o in r)if(r.hasOwnProperty(o)){var j=r[o];if(j!=null)switch(o){case"name":c=j;break;case"type":_=j;break;case"checked":b=j;break;case"defaultChecked":k=j;break;case"value":f=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Qt(e,n,o,j,r,null)}}jr(e,f,E,b,k,_,c,!1),Ms(e);return;case"select":Rt("invalid",e),o=_=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:Qt(e,n,c,E,r,null)}n=f,r=_,e.multiple=!!o,n!=null?ci(e,!!o,n,!1):r!=null&&ci(e,!!o,r,!0);return;case"textarea":Rt("invalid",e),f=c=o=null;for(_ in r)if(r.hasOwnProperty(_)&&(E=r[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Qt(e,n,_,E,r,null)}Gr(e,o,c,f),Ms(e);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(o=r[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Qt(e,n,b,o,r,null)}return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<Ho.length;o++)Rt(Ho[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in r)if(r.hasOwnProperty(k)&&(o=r[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(e,n,k,o,r,null)}return;default:if(ro(n)){for(j in r)r.hasOwnProperty(j)&&(o=r[j],o!==void 0&&Of(e,n,j,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Qt(e,n,E,o,r,null))}function aT(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,_=null,E=null,b=null,k=null,j=null;for(z in r){var F=r[z];if(r.hasOwnProperty(z)&&F!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":b=F;default:o.hasOwnProperty(z)||Qt(e,n,z,null,o,F)}}for(var x in o){var z=o[x];if(F=r[x],o.hasOwnProperty(x)&&(z!=null||F!=null))switch(x){case"type":f=z;break;case"name":c=z;break;case"checked":k=z;break;case"defaultChecked":j=z;break;case"value":_=z;break;case"defaultValue":E=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:z!==F&&Qt(e,n,x,z,o,F)}}rn(e,_,E,b,k,j,f,c);return;case"select":z=_=E=x=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":z=b;default:o.hasOwnProperty(f)||Qt(e,n,f,null,o,b)}for(c in o)if(f=o[c],b=r[c],o.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":x=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==b&&Qt(e,n,c,f,o,b)}n=E,r=_,o=z,x!=null?ci(e,!!r,x,!1):!!o!=!!r&&(n!=null?ci(e,!!r,n,!0):ci(e,!!r,r?[]:"",!1));return;case"textarea":z=x=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(e,n,E,null,o,c)}for(_ in o)if(c=o[_],f=r[_],o.hasOwnProperty(_)&&(c!=null||f!=null))switch(_){case"value":x=c;break;case"defaultValue":z=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Qt(e,n,_,c,o,f)}Ft(e,x,z);return;case"option":for(var ft in r)if(x=r[ft],r.hasOwnProperty(ft)&&x!=null&&!o.hasOwnProperty(ft))switch(ft){case"selected":e.selected=!1;break;default:Qt(e,n,ft,null,o,x)}for(b in o)if(x=o[b],z=r[b],o.hasOwnProperty(b)&&x!==z&&(x!=null||z!=null))switch(b){case"selected":e.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Qt(e,n,b,x,o,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lt in r)x=r[lt],r.hasOwnProperty(lt)&&x!=null&&!o.hasOwnProperty(lt)&&Qt(e,n,lt,null,o,x);for(k in o)if(x=o[k],z=r[k],o.hasOwnProperty(k)&&x!==z&&(x!=null||z!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(137,n));break;default:Qt(e,n,k,x,o,z)}return;default:if(ro(n)){for(var Yt in r)x=r[Yt],r.hasOwnProperty(Yt)&&x!==void 0&&!o.hasOwnProperty(Yt)&&Of(e,n,Yt,void 0,o,x);for(j in o)x=o[j],z=r[j],!o.hasOwnProperty(j)||x===z||x===void 0&&z===void 0||Of(e,n,j,x,o,z);return}}for(var V in r)x=r[V],r.hasOwnProperty(V)&&x!=null&&!o.hasOwnProperty(V)&&Qt(e,n,V,null,o,x);for(F in o)x=o[F],z=r[F],!o.hasOwnProperty(F)||x===z||x==null&&z==null||Qt(e,n,F,x,o,z)}var Nf=null,Mf=null;function xu(e){return e.nodeType===9?e:e.ownerDocument}function iy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ry(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Vf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Uf=null;function oT(){var e=window.event;return e&&e.type==="popstate"?e===Uf?!1:(Uf=e,!0):(Uf=null,!1)}var sy=typeof setTimeout=="function"?setTimeout:void 0,lT=typeof clearTimeout=="function"?clearTimeout:void 0,ay=typeof Promise=="function"?Promise:void 0,uT=typeof queueMicrotask=="function"?queueMicrotask:typeof ay<"u"?function(e){return ay.resolve(null).then(e).catch(cT)}:sy;function cT(e){setTimeout(function(){throw e})}function sr(e){return e==="head"}function oy(e,n){var r=n,o=0,c=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<o&&8>o){r=o;var _=e.ownerDocument;if(r&1&&Go(_.documentElement),r&2&&Go(_.body),r&4)for(r=_.head,Go(r),_=r.firstChild;_;){var E=_.nextSibling,b=_.nodeName;_[zr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&_.rel.toLowerCase()==="stylesheet"||r.removeChild(_),_=E}}if(c===0){e.removeChild(f),Jo(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:o=r.charCodeAt(0)-48;else o=0;r=f}while(r);Jo(n)}function Pf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Pf(r),Bi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function hT(e,n,r,o){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[zr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function fT(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=On(e.nextSibling),e===null))return null;return e}function Lf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function dT(e,n){var r=e.ownerDocument;if(e.data!=="$?"||r.readyState==="complete")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var kf=null;function ly(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}function uy(e,n,r){switch(n=xu(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Go(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Bi(e)}var bn=new Map,cy=new Set;function zu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Di=Z.d;Z.d={f:mT,r:gT,D:pT,C:yT,L:_T,m:vT,X:TT,S:ET,M:AT};function mT(){var e=Di.f(),n=Ou();return e||n}function gT(e){var n=Ln(e);n!==null&&n.tag===5&&n.type==="form"?Og(n):Di.r(e)}var da=typeof document>"u"?null:document;function hy(e,n,r){var o=da;if(o&&typeof n=="string"&&n){var c=de(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),cy.has(c)||(cy.add(c),e={rel:e,crossOrigin:r,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),Le(n,"link",e),oe(n),o.head.appendChild(n)))}}function pT(e){Di.D(e),hy("dns-prefetch",e,null)}function yT(e,n){Di.C(e,n),hy("preconnect",e,n)}function _T(e,n,r){Di.L(e,n,r);var o=da;if(o&&e&&n){var c='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+de(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+de(r.imageSizes)+'"]')):c+='[href="'+de(e)+'"]';var f=c;switch(n){case"style":f=ma(e);break;case"script":f=ga(e)}bn.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),bn.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(Fo(f))||n==="script"&&o.querySelector(Ko(f))||(n=o.createElement("link"),Le(n,"link",e),oe(n),o.head.appendChild(n)))}}function vT(e,n){Di.m(e,n);var r=da;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+de(o)+'"][href="'+de(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ga(e)}if(!bn.has(f)&&(e=A({rel:"modulepreload",href:e},n),bn.set(f,e),r.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ko(f)))return}o=r.createElement("link"),Le(o,"link",e),oe(o),r.head.appendChild(o)}}}function ET(e,n,r){Di.S(e,n,r);var o=da;if(o&&e){var c=Ke(o).hoistableStyles,f=ma(e);n=n||"default";var _=c.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(Fo(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=bn.get(f))&&xf(e,r);var b=_=o.createElement("link");oe(b),Le(b,"link",e),b._p=new Promise(function(k,j){b.onload=k,b.onerror=j}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Bu(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:E},c.set(f,_)}}}function TT(e,n){Di.X(e,n);var r=da;if(r&&e){var o=Ke(r).hoistableScripts,c=ga(e),f=o.get(c);f||(f=r.querySelector(Ko(c)),f||(e=A({src:e,async:!0},n),(n=bn.get(c))&&zf(e,n),f=r.createElement("script"),oe(f),Le(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function AT(e,n){Di.M(e,n);var r=da;if(r&&e){var o=Ke(r).hoistableScripts,c=ga(e),f=o.get(c);f||(f=r.querySelector(Ko(c)),f||(e=A({src:e,async:!0,type:"module"},n),(n=bn.get(c))&&zf(e,n),f=r.createElement("script"),oe(f),Le(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function fy(e,n,r,o){var c=(c=mt.current)?zu(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ma(r.href),r=Ke(c).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=ma(r.href);var f=Ke(c).hoistableStyles,_=f.get(e);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=c.querySelector(Fo(e)))&&!f._p&&(_.instance=f,_.state.loading=5),bn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},bn.set(e,r),f||ST(c,e,r,_.state))),n&&o===null)throw Error(s(528,""));return _}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ga(r),r=Ke(c).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ma(e){return'href="'+de(e)+'"'}function Fo(e){return'link[rel="stylesheet"]['+e+"]"}function dy(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function ST(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Le(n,"link",r),oe(n),e.head.appendChild(n))}function ga(e){return'[src="'+de(e)+'"]'}function Ko(e){return"script[async]"+e}function my(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+de(r.href)+'"]');if(o)return n.instance=o,oe(o),o;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),oe(o),Le(o,"style",c),Bu(o,r.precedence,e),n.instance=o;case"stylesheet":c=ma(r.href);var f=e.querySelector(Fo(c));if(f)return n.state.loading|=4,n.instance=f,oe(f),f;o=dy(r),(c=bn.get(c))&&xf(o,c),f=(e.ownerDocument||e).createElement("link"),oe(f);var _=f;return _._p=new Promise(function(E,b){_.onload=E,_.onerror=b}),Le(f,"link",o),n.state.loading|=4,Bu(f,r.precedence,e),n.instance=f;case"script":return f=ga(r.src),(c=e.querySelector(Ko(f)))?(n.instance=c,oe(c),c):(o=r,(c=bn.get(f))&&(o=A({},r),zf(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),oe(c),Le(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Bu(o,r.precedence,e));return n.instance}function Bu(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function xf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function zf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var qu=null;function gy(e,n,r){if(qu===null){var o=new Map,c=qu=new Map;c.set(r,o)}else c=qu,o=c.get(r),o||(o=new Map,c.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var f=r[c];if(!(f[zr]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=e+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function py(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function bT(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function yy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Qo=null;function RT(){}function wT(e,n,r){if(Qo===null)throw Error(s(475));var o=Qo;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ma(r.href),f=e.querySelector(Fo(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Hu.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,oe(f);return}f=e.ownerDocument||e,r=dy(r),(c=bn.get(c))&&xf(r,c),f=f.createElement("link"),oe(f);var _=f;_._p=new Promise(function(E,b){_.onload=E,_.onerror=b}),Le(f,"link",r),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Hu.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function IT(){if(Qo===null)throw Error(s(475));var e=Qo;return e.stylesheets&&e.count===0&&Bf(e,e.stylesheets),0<e.count?function(n){var r=setTimeout(function(){if(e.stylesheets&&Bf(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r)}}:null}function Hu(){if(this.count--,this.count===0){if(this.stylesheets)Bf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ju=null;function Bf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ju=new Map,n.forEach(CT,e),ju=null,Hu.call(e))}function CT(e,n){if(!(n.state.loading&4)){var r=ju.get(e);if(r)var o=r.get(null);else{r=new Map,ju.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var _=c[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),o=_)}o&&r.set(null,o)}c=n.instance,_=c.getAttribute("data-precedence"),f=r.get(_)||o,f===o&&r.set(null,c),r.set(_,c),this.count++,o=Hu.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var Yo={$$typeof:gt,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function DT(e,n,r,o,c,f,_,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function _y(e,n,r,o,c,f,_,E,b,k,j,F){return e=new DT(e,n,r,_,E,b,k,F),n=1,f===!0&&(n|=24),f=an(3,null,null,n),e.current=f,f.stateNode=e,n=Eh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},bh(f),e}function vy(e){return e?(e=Ks,e):Ks}function Ey(e,n,r,o,c,f){c=vy(c),o.context===null?o.context=c:o.pendingContext=c,o=Ki(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Qi(e,o,n),r!==null&&(hn(r,e,n),bo(r,e,n))}function Ty(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function qf(e,n){Ty(e,n),(e=e.alternate)&&Ty(e,n)}function Ay(e){if(e.tag===13){var n=Fs(e,67108864);n!==null&&hn(n,e,67108864),qf(e,67108864)}}var Gu=!0;function OT(e,n,r,o){var c=H.T;H.T=null;var f=Z.p;try{Z.p=2,Hf(e,n,r,o)}finally{Z.p=f,H.T=c}}function NT(e,n,r,o){var c=H.T;H.T=null;var f=Z.p;try{Z.p=8,Hf(e,n,r,o)}finally{Z.p=f,H.T=c}}function Hf(e,n,r,o){if(Gu){var c=jf(o);if(c===null)Df(e,n,o,Fu,r),by(e,o);else if(VT(c,e,n,r,o))o.stopPropagation();else if(by(e,o),n&4&&-1<MT.indexOf(e)){for(;c!==null;){var f=Ln(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Rn(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var b=1<<31-ze(_);E.entanglements[1]|=b,_&=~b}$n(f),(jt&6)===0&&(Cu=fn()+500,qo(0))}}break;case 13:E=Fs(f,2),E!==null&&hn(E,f,2),Ou(),qf(f,2)}if(f=jf(o),f===null&&Df(e,n,o,Fu,r),f===c)break;c=f}c!==null&&o.stopPropagation()}else Df(e,n,o,null,r)}}function jf(e){return e=gn(e),Gf(e)}var Fu=null;function Gf(e){if(Fu=null,e=oi(e),e!==null){var n=h(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Fu=e,null}function Sy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kc()){case Fa:return 2;case bs:return 8;case Ur:case Qc:return 32;case Rs:return 268435456;default:return 32}default:return 32}}var Ff=!1,ar=null,or=null,lr=null,Xo=new Map,$o=new Map,ur=[],MT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function by(e,n){switch(e){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Xo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":$o.delete(n.pointerId)}}function Zo(e,n,r,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Ln(n),n!==null&&Ay(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function VT(e,n,r,o,c){switch(n){case"focusin":return ar=Zo(ar,e,n,r,o,c),!0;case"dragenter":return or=Zo(or,e,n,r,o,c),!0;case"mouseover":return lr=Zo(lr,e,n,r,o,c),!0;case"pointerover":var f=c.pointerId;return Xo.set(f,Zo(Xo.get(f)||null,e,n,r,o,c)),!0;case"gotpointercapture":return f=c.pointerId,$o.set(f,Zo($o.get(f)||null,e,n,r,o,c)),!0}return!1}function Ry(e){var n=oi(e.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Ol(e.priority,function(){if(r.tag===13){var o=cn();o=ki(o);var c=Fs(r,o);c!==null&&hn(c,r,o),qf(r,o)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ku(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=jf(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);hi=o,r.target.dispatchEvent(o),hi=null}else return n=Ln(r),n!==null&&Ay(n),e.blockedOn=r,!1;n.shift()}return!0}function wy(e,n,r){Ku(e)&&r.delete(n)}function UT(){Ff=!1,ar!==null&&Ku(ar)&&(ar=null),or!==null&&Ku(or)&&(or=null),lr!==null&&Ku(lr)&&(lr=null),Xo.forEach(wy),$o.forEach(wy)}function Qu(e,n){e.blockedOn===n&&(e.blockedOn=null,Ff||(Ff=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,UT)))}var Yu=null;function Iy(e){Yu!==e&&(Yu=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Yu===e&&(Yu=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(Gf(o||r)===null)continue;break}var f=Ln(r);f!==null&&(e.splice(n,3),n-=3,jh(f,{pending:!0,data:c,method:r.method,action:o},o,c))}}))}function Jo(e){function n(b){return Qu(b,e)}ar!==null&&Qu(ar,e),or!==null&&Qu(or,e),lr!==null&&Qu(lr,e),Xo.forEach(n),$o.forEach(n);for(var r=0;r<ur.length;r++){var o=ur[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ur.length&&(r=ur[0],r.blockedOn===null);)Ry(r),r.blockedOn===null&&ur.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var c=r[o],f=r[o+1],_=c[fe]||null;if(typeof f=="function")_||Iy(r);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,_=f[fe]||null)E=_.formAction;else if(Gf(c)!==null)continue}else E=_.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),Iy(r)}}}function Kf(e){this._internalRoot=e}Xu.prototype.render=Kf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=cn();Ey(r,o,e,n,null,null)},Xu.prototype.unmount=Kf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ey(e.current,2,null,e,null,null),Ou(),n[dn]=null}};function Xu(e){this._internalRoot=e}Xu.prototype.unstable_scheduleHydration=function(e){if(e){var n=xi();e={blockedOn:null,target:e,priority:n};for(var r=0;r<ur.length&&n!==0&&n<ur[r].priority;r++);ur.splice(r,0,e),r===0&&Ry(e)}};var Cy=t.version;if(Cy!=="19.1.0")throw Error(s(527,Cy,"19.1.0"));Z.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var PT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{ie=$u.inject(PT),Ht=$u}catch{}}return tl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var r=!1,o="",c=Gg,f=Fg,_=Kg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=_y(e,1,!1,null,null,r,o,c,f,_,E,null),e[dn]=n.current,Cf(e),new Kf(n)},tl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(s(299));var o=!1,c="",f=Gg,_=Fg,E=Kg,b=null,k=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(k=r.formState)),n=_y(e,1,!0,n,r??null,o,c,f,_,E,b,k),n.context=vy(null),r=n.current,o=cn(),o=ki(o),c=Ki(o),c.callback=null,Qi(r,c,o),r=o,n.current.lanes=r,ai(n,r),$n(n),e[dn]=n.current,Cf(e),new Xu(n)},tl.version="19.1.0",tl}var xy;function FT(){if(xy)return Xf.exports;xy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Xf.exports=GT(),Xf.exports}var KT=FT();const QT=()=>{};var zy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},YT=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const l=a[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const h=a[i++];t[s++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=a[i++],d=a[i++],g=a[i++],y=((l&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const h=a[i++],d=a[i++];t[s++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},mv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const h=a[l],d=l+1<a.length,g=d?a[l+1]:0,y=l+2<a.length,v=y?a[l+2]:0,A=h>>2,M=(h&3)<<4|g>>4;let B=(g&15)<<2|v>>6,Y=v&63;y||(Y=64,d||(B=64)),s.push(i[A],i[M],i[B],i[Y])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(dv(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):YT(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const h=i[a.charAt(l++)],g=l<a.length?i[a.charAt(l)]:0;++l;const v=l<a.length?i[a.charAt(l)]:64;++l;const M=l<a.length?i[a.charAt(l)]:64;if(++l,h==null||g==null||v==null||M==null)throw new XT;const B=h<<2|g>>4;if(s.push(B),v!==64){const Y=g<<4&240|v>>2;if(s.push(Y),M!==64){const et=v<<6&192|M;s.push(et)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class XT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $T=function(a){const t=dv(a);return mv.encodeByteArray(t,!0)},dc=function(a){return $T(a).replace(/\./g,"")},gv=function(a){try{return mv.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=()=>ZT().__FIREBASE_DEFAULTS__,WT=()=>{if(typeof process>"u"||typeof zy>"u")return;const a=zy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},tA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&gv(a[1]);return t&&JSON.parse(t)},Dc=()=>{try{return QT()||JT()||WT()||tA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},pv=a=>{var t,i;return(i=(t=Dc())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[a]},eA=a=>{const t=pv(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},yv=()=>{var a;return(a=Dc())===null||a===void 0?void 0:a.config},_v=a=>{var t;return(t=Dc())===null||t===void 0?void 0:t[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[dc(JSON.stringify(i)),dc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function sA(){var a;const t=(a=Dc())===null||a===void 0?void 0:a.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oA(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function lA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uA(){const a=Fe();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function cA(){return!sA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hA(){try{return typeof indexedDB=="object"}catch{return!1}}function fA(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var h;t(((h=l.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="FirebaseError";class Pi extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=dA,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_l.prototype.create)}}class _l{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?mA(h,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Pi(l,g,s)}}function mA(a,t){return a.replace(gA,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const gA=/\{\$([^}]+)}/g;function pA(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function _s(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const h=a[l],d=t[l];if(By(h)&&By(d)){if(!_s(h,d))return!1}else if(h!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function By(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(a){const t=[];for(const[i,s]of Object.entries(a))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function el(a){const t={};return a.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,h]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(h)}}),t}function nl(a){const t=a.indexOf("?");if(!t)return"";const i=a.indexOf("#",t);return a.substring(t,i>0?i:void 0)}function yA(a,t){const i=new _A(a,t);return i.subscribe.bind(i)}class _A{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");vA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=Wf),l.error===void 0&&(l.error=Wf),l.complete===void 0&&(l.complete=Wf);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vA(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Wf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(a){return a&&a._delegate?a._delegate:a}class vs{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new nA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(l)return null;throw h}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(AA(t))try{this.getOrInitializeService({instanceIdentifier:ms})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});s.resolve(h)}catch{}}}}clearInstance(t=ms){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ms){return this.instances.has(t)}getOptions(t=ms){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(l)}return l}onInit(t,i){var s;const l=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;h.add(t),this.onInitCallbacks.set(l,h);const d=this.instances.get(l);return d&&t(d,l),()=>{h.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:TA(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ms){return this.component?this.component.multipleInstances?t:ms:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TA(a){return a===ms?void 0:a}function AA(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new EA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(It||(It={}));const bA={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},RA=It.INFO,wA={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},IA=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=wA[t];if(l)console[l](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zd{constructor(t){this.name=t,this._logLevel=RA,this._logHandler=IA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in It))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?bA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...t),this._logHandler(this,It.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...t),this._logHandler(this,It.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,It.INFO,...t),this._logHandler(this,It.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,It.WARN,...t),this._logHandler(this,It.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...t),this._logHandler(this,It.ERROR,...t)}}const CA=(a,t)=>t.some(i=>a instanceof i);let qy,Hy;function DA(){return qy||(qy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OA(){return Hy||(Hy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vv=new WeakMap,hd=new WeakMap,Ev=new WeakMap,td=new WeakMap,Bd=new WeakMap;function NA(a){const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(_r(a.result)),l()},d=()=>{s(a.error),l()};a.addEventListener("success",h),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&vv.set(i,a)}).catch(()=>{}),Bd.set(t,a),t}function MA(a){if(hd.has(a))return;const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});hd.set(a,t)}let fd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return hd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||Ev.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _r(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function VA(a){fd=a(fd)}function UA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(ed(this),t,...i);return Ev.set(s,t.sort?t.sort():[t]),_r(s)}:OA().includes(a)?function(...t){return a.apply(ed(this),t),_r(vv.get(this))}:function(...t){return _r(a.apply(ed(this),t))}}function PA(a){return typeof a=="function"?UA(a):(a instanceof IDBTransaction&&MA(a),CA(a,DA())?new Proxy(a,fd):a)}function _r(a){if(a instanceof IDBRequest)return NA(a);if(td.has(a))return td.get(a);const t=PA(a);return t!==a&&(td.set(a,t),Bd.set(t,a)),t}const ed=a=>Bd.get(a);function LA(a,t,{blocked:i,upgrade:s,blocking:l,terminated:h}={}){const d=indexedDB.open(a,t),g=_r(d);return s&&d.addEventListener("upgradeneeded",y=>{s(_r(d.result),y.oldVersion,y.newVersion,_r(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const kA=["get","getKey","getAll","getAllKeys","count"],xA=["put","add","delete","clear"],nd=new Map;function jy(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(nd.get(t))return nd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=xA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||kA.includes(i)))return;const h=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&y.done]))[0]};return nd.set(t,h),h}VA(a=>({...a,get:(t,i,s)=>jy(t,i)||a.get(t,i,s),has:(t,i)=>!!jy(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(BA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function BA(a){const t=a.getComponent();return(t==null?void 0:t.type)==="VERSION"}const dd="@firebase/app",Gy="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new zd("@firebase/app"),qA="@firebase/app-compat",HA="@firebase/analytics-compat",jA="@firebase/analytics",GA="@firebase/app-check-compat",FA="@firebase/app-check",KA="@firebase/auth",QA="@firebase/auth-compat",YA="@firebase/database",XA="@firebase/data-connect",$A="@firebase/database-compat",ZA="@firebase/functions",JA="@firebase/functions-compat",WA="@firebase/installations",tS="@firebase/installations-compat",eS="@firebase/messaging",nS="@firebase/messaging-compat",iS="@firebase/performance",rS="@firebase/performance-compat",sS="@firebase/remote-config",aS="@firebase/remote-config-compat",oS="@firebase/storage",lS="@firebase/storage-compat",uS="@firebase/firestore",cS="@firebase/vertexai",hS="@firebase/firestore-compat",fS="firebase",dS="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="[DEFAULT]",mS={[dd]:"fire-core",[qA]:"fire-core-compat",[jA]:"fire-analytics",[HA]:"fire-analytics-compat",[FA]:"fire-app-check",[GA]:"fire-app-check-compat",[KA]:"fire-auth",[QA]:"fire-auth-compat",[YA]:"fire-rtdb",[XA]:"fire-data-connect",[$A]:"fire-rtdb-compat",[ZA]:"fire-fn",[JA]:"fire-fn-compat",[WA]:"fire-iid",[tS]:"fire-iid-compat",[eS]:"fire-fcm",[nS]:"fire-fcm-compat",[iS]:"fire-perf",[rS]:"fire-perf-compat",[sS]:"fire-rc",[aS]:"fire-rc-compat",[oS]:"fire-gcs",[lS]:"fire-gcs-compat",[uS]:"fire-fst",[hS]:"fire-fst-compat",[cS]:"fire-vertex","fire-js":"fire-js",[fS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=new Map,gS=new Map,gd=new Map;function Fy(a,t){try{a.container.addComponent(t)}catch(i){Mi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Ca(a){const t=a.name;if(gd.has(t))return Mi.debug(`There were multiple attempts to register component ${t}.`),!1;gd.set(t,a);for(const i of mc.values())Fy(i,a);for(const i of gS.values())Fy(i,a);return!0}function qd(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Nn(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new _l("app","Firebase",pS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=dS;function Hd(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s=Object.assign({name:md,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw vr.create("bad-app-name",{appName:String(l)});if(i||(i=yv()),!i)throw vr.create("no-options");const h=mc.get(l);if(h){if(_s(i,h.options)&&_s(s,h.config))return h;throw vr.create("duplicate-app",{appName:l})}const d=new SA(l);for(const y of gd.values())d.addComponent(y);const g=new yS(i,s,d);return mc.set(l,g),g}function Tv(a=md){const t=mc.get(a);if(!t&&a===md&&yv())return Hd();if(!t)throw vr.create("no-app",{appName:a});return t}function Er(a,t,i){var s;let l=(s=mS[a])!==null&&s!==void 0?s:a;i&&(l+=`-${i}`);const h=l.match(/\s|\//),d=t.match(/\s|\//);if(h||d){const g=[`Unable to register library "${l}" with version "${t}":`];h&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Mi.warn(g.join(" "));return}Ca(new vs(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="firebase-heartbeat-database",vS=1,hl="firebase-heartbeat-store";let id=null;function Av(){return id||(id=LA(_S,vS,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(hl)}catch(i){console.warn(i)}}}}).catch(a=>{throw vr.create("idb-open",{originalErrorMessage:a.message})})),id}async function ES(a){try{const i=(await Av()).transaction(hl),s=await i.objectStore(hl).get(Sv(a));return await i.done,s}catch(t){if(t instanceof Pi)Mi.warn(t.message);else{const i=vr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Mi.warn(i.message)}}}async function Ky(a,t){try{const s=(await Av()).transaction(hl,"readwrite");await s.objectStore(hl).put(t,Sv(a)),await s.done}catch(i){if(i instanceof Pi)Mi.warn(i.message);else{const s=vr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Mi.warn(s.message)}}}function Sv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=1024,AS=30;class SS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new RS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Qy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:l}),this._heartbeatsCache.heartbeats.length>AS){const d=wS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Mi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Qy(),{heartbeatsToSend:s,unsentEntries:l}=bS(this._heartbeatsCache.heartbeats),h=dc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Mi.warn(i),""}}}function Qy(){return new Date().toISOString().substring(0,10)}function bS(a,t=TS){const i=[];let s=a.slice();for(const l of a){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),Yy(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Yy(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class RS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hA()?fA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ES(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return Ky(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return Ky(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function Yy(a){return dc(JSON.stringify({version:2,heartbeats:a})).length}function wS(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(a){Ca(new vs("platform-logger",t=>new zA(t),"PRIVATE")),Ca(new vs("heartbeat",t=>new SS(t),"PRIVATE")),Er(dd,Gy,a),Er(dd,Gy,"esm2017"),Er("fire-js","")}IS("");function jd(a,t){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(a);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(a,s[l])&&(i[s[l]]=a[s[l]]);return i}function bv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CS=bv,Rv=new _l("auth","Firebase",bv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new zd("@firebase/auth");function DS(a,...t){gc.logLevel<=It.WARN&&gc.warn(`Auth (${ka}): ${a}`,...t)}function rc(a,...t){gc.logLevel<=It.ERROR&&gc.error(`Auth (${ka}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(a,...t){throw Gd(a,...t)}function Wn(a,...t){return Gd(a,...t)}function wv(a,t,i){const s=Object.assign(Object.assign({},CS()),{[t]:i});return new _l("auth","Firebase",s).create(t,{appName:a.name})}function Tr(a){return wv(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gd(a,...t){if(typeof a!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return Rv.create(a,...t)}function ht(a,t,...i){if(!a)throw Gd(t,...i)}function Oi(a){const t="INTERNAL ASSERTION FAILED: "+a;throw rc(t),new Error(t)}function Vi(a,t){a||Oi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.href)||""}function OS(){return Xy()==="http:"||Xy()==="https:"}function Xy(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OS()||oA()||"connection"in navigator)?navigator.onLine:!0}function MS(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(t,i){this.shortDelay=t,this.longDelay=i,Vi(i>t,"Short delay should be less than long delay!"),this.isMobile=rA()||lA()}get(){return NS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(a,t){Vi(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PS=new El(3e4,6e4);function As(a,t){return a.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:a.tenantId}):t}async function Or(a,t,i,s,l={}){return Cv(a,l,async()=>{let h={},d={};s&&(t==="GET"?d=s:h={body:JSON.stringify(s)});const g=vl(Object.assign({key:a.config.apiKey},d)).slice(1),y=await a._getAdditionalHeaders();y["Content-Type"]="application/json",a.languageCode&&(y["X-Firebase-Locale"]=a.languageCode);const v=Object.assign({method:t,headers:y},h);return aA()||(v.referrerPolicy="no-referrer"),Iv.fetch()(await Dv(a,a.config.apiHost,i,g),v)})}async function Cv(a,t,i){a._canInitEmulator=!1;const s=Object.assign(Object.assign({},VS),t);try{const l=new kS(a),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw Zu(a,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const g=h.ok?d.errorMessage:d.error.message,[y,v]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zu(a,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Zu(a,"email-already-in-use",d);if(y==="USER_DISABLED")throw Zu(a,"user-disabled",d);const A=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw wv(a,A,v);Vn(a,A)}}catch(l){if(l instanceof Pi)throw l;Vn(a,"network-request-failed",{message:String(l)})}}async function Oc(a,t,i,s,l={}){const h=await Or(a,t,i,s,l);return"mfaPendingCredential"in h&&Vn(a,"multi-factor-auth-required",{_serverResponse:h}),h}async function Dv(a,t,i,s){const l=`${t}${i}?${s}`,h=a,d=h.config.emulator?Fd(a.config,l):`${a.config.apiScheme}://${l}`;return US.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}function LS(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Wn(this.auth,"network-request-failed")),PS.get())})}}function Zu(a,t,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Wn(a,t,s);return l.customData._tokenResponse=i,l}function $y(a){return a!==void 0&&a.enterprise!==void 0}class xS{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return LS(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zS(a,t){return Or(a,"GET","/v2/recaptchaConfig",As(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BS(a,t){return Or(a,"POST","/v1/accounts:delete",t)}async function pc(a,t){return Or(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function qS(a,t=!1){const i=Dr(a),s=await i.getIdToken(t),l=Kd(s);ht(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h==null?void 0:h.sign_in_provider;return{claims:l,token:s,authTime:al(rd(l.auth_time)),issuedAtTime:al(rd(l.iat)),expirationTime:al(rd(l.exp)),signInProvider:d||null,signInSecondFactor:(h==null?void 0:h.sign_in_second_factor)||null}}function rd(a){return Number(a)*1e3}function Kd(a){const[t,i,s]=a.split(".");if(t===void 0||i===void 0||s===void 0)return rc("JWT malformed, contained fewer than 3 sections"),null;try{const l=gv(i);return l?JSON.parse(l):(rc("Failed to decode base64 JWT payload"),null)}catch(l){return rc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Zy(a){const t=Kd(a);return ht(t,"internal-error"),ht(typeof t.exp<"u","internal-error"),ht(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(a,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof Pi&&HS(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function HS({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=al(this.lastLoginAt),this.creationTime=al(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(a){var t;const i=a.auth,s=await a.getIdToken(),l=await fl(a,pc(i,{idToken:s}));ht(l==null?void 0:l.users.length,i,"internal-error");const h=l.users[0];a._notifyReloadListener(h);const d=!((t=h.providerUserInfo)===null||t===void 0)&&t.length?Ov(h.providerUserInfo):[],g=FS(a.providerData,d),y=a.isAnonymous,v=!(a.email&&h.passwordHash)&&!(g!=null&&g.length),A=y?v:!1,M={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:g,metadata:new yd(h.createdAt,h.lastLoginAt),isAnonymous:A};Object.assign(a,M)}async function GS(a){const t=Dr(a);await yc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function FS(a,t){return[...a.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function Ov(a){return a.map(t=>{var{providerId:i}=t,s=jd(t,["providerId"]);return{providerId:i,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KS(a,t){const i=await Cv(a,{},async()=>{const s=vl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=a.config,d=await Dv(a,l,"/v1/token",`key=${h}`),g=await a._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",Iv.fetch()(d,{method:"POST",headers:g,body:s})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function QS(a,t){return Or(a,"POST","/v2/accounts:revokeToken",As(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ht(t.idToken,"internal-error"),ht(typeof t.idToken<"u","internal-error"),ht(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Zy(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){ht(t.length!==0,"internal-error");const i=Zy(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ht(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:h}=await KS(t,i);this.updateTokensAndExpiration(s,l,Number(h))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:h}=i,d=new Ta;return s&&(ht(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(ht(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(ht(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ta,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(a,t){ht(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Mn{constructor(t){var{uid:i,auth:s,stsTokenManager:l}=t,h=jd(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new yd(h.createdAt||void 0,h.lastLoginAt||void 0)}async getIdToken(t){const i=await fl(this,this.stsTokenManager.getToken(this.auth,t));return ht(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return qS(this,t)}reload(){return GS(this)}_assign(t){this!==t&&(ht(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Mn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await yc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(Tr(this.auth));const t=await this.getIdToken();return await fl(this,BS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var s,l,h,d,g,y,v,A;const M=(s=i.displayName)!==null&&s!==void 0?s:void 0,B=(l=i.email)!==null&&l!==void 0?l:void 0,Y=(h=i.phoneNumber)!==null&&h!==void 0?h:void 0,et=(d=i.photoURL)!==null&&d!==void 0?d:void 0,rt=(g=i.tenantId)!==null&&g!==void 0?g:void 0,J=(y=i._redirectEventId)!==null&&y!==void 0?y:void 0,kt=(v=i.createdAt)!==null&&v!==void 0?v:void 0,wt=(A=i.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:gt,emailVerified:Pt,isAnonymous:pt,providerData:Ct,stsTokenManager:O}=i;ht(gt&&O,t,"internal-error");const S=Ta.fromJSON(this.name,O);ht(typeof gt=="string",t,"internal-error"),hr(M,t.name),hr(B,t.name),ht(typeof Pt=="boolean",t,"internal-error"),ht(typeof pt=="boolean",t,"internal-error"),hr(Y,t.name),hr(et,t.name),hr(rt,t.name),hr(J,t.name),hr(kt,t.name),hr(wt,t.name);const R=new Mn({uid:gt,auth:t,email:B,emailVerified:Pt,displayName:M,isAnonymous:pt,photoURL:et,phoneNumber:Y,tenantId:rt,stsTokenManager:S,createdAt:kt,lastLoginAt:wt});return Ct&&Array.isArray(Ct)&&(R.providerData=Ct.map(D=>Object.assign({},D))),J&&(R._redirectEventId=J),R}static async _fromIdTokenResponse(t,i,s=!1){const l=new Ta;l.updateFromServerResponse(i);const h=new Mn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await yc(h),h}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];ht(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?Ov(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(h!=null&&h.length),g=new Ta;g.updateFromIdToken(s);const y=new Mn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new yd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(h!=null&&h.length)};return Object.assign(y,v),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=new Map;function Ni(a){Vi(a instanceof Function,"Expected a class definition");let t=Jy.get(a);return t?(Vi(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,Jy.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Nv.type="NONE";const Wy=Nv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(a,t,i){return`firebase:${a}:${t}:${i}`}class Aa{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:h}=this.auth;this.fullUserKey=sc(this.userKey,l.apiKey,h),this.fullPersistenceKey=sc("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await pc(this.auth,{idToken:t}).catch(()=>{});return i?Mn._fromGetAccountInfoResponse(this.auth,i,t):null}return Mn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Aa(Ni(Wy),t,s);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let h=l[0]||Ni(Wy);const d=sc(s,t.config.apiKey,t.name);let g=null;for(const v of i)try{const A=await v._get(d);if(A){let M;if(typeof A=="string"){const B=await pc(t,{idToken:A}).catch(()=>{});if(!B)break;M=await Mn._fromGetAccountInfoResponse(t,B,A)}else M=Mn._fromJSON(t,A);v!==h&&(g=M),h=v;break}}catch{}const y=l.filter(v=>v._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new Aa(h,t,s):(h=y[0],g&&await h._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==h)try{await v._remove(d)}catch{}})),new Aa(h,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Pv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Mv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(kv(t))return"Blackberry";if(xv(t))return"Webos";if(Vv(t))return"Safari";if((t.includes("chrome/")||Uv(t))&&!t.includes("edge/"))return"Chrome";if(Lv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Mv(a=Fe()){return/firefox\//i.test(a)}function Vv(a=Fe()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Uv(a=Fe()){return/crios\//i.test(a)}function Pv(a=Fe()){return/iemobile/i.test(a)}function Lv(a=Fe()){return/android/i.test(a)}function kv(a=Fe()){return/blackberry/i.test(a)}function xv(a=Fe()){return/webos/i.test(a)}function Qd(a=Fe()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function YS(a=Fe()){var t;return Qd(a)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function XS(){return uA()&&document.documentMode===10}function zv(a=Fe()){return Qd(a)||Lv(a)||xv(a)||kv(a)||/windows phone/i.test(a)||Pv(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(a,t=[]){let i;switch(a){case"Browser":i=t_(Fe());break;case"Worker":i=`${t_(Fe())}-${a}`;break;default:i=a}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ka}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=h=>new Promise((d,g)=>{try{const y=t(h);d(y)}catch(y){g(y)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(a,t={}){return Or(a,"GET","/v2/passwordPolicy",As(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=6;class WS{constructor(t){var i,s,l,h;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:JS,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(h=t.forceUpgradeOnSignin)!==null&&h!==void 0?h:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,s,l,h,d,g;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,y),this.validatePasswordCharacterOptions(t,y),y.isValid&&(y.isValid=(i=y.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),y.isValid&&(y.isValid=(s=y.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),y.isValid&&(y.isValid=(l=y.containsLowercaseLetter)!==null&&l!==void 0?l:!0),y.isValid&&(y.isValid=(h=y.containsUppercaseLetter)!==null&&h!==void 0?h:!0),y.isValid&&(y.isValid=(d=y.containsNumericCharacter)!==null&&d!==void 0?d:!0),y.isValid&&(y.isValid=(g=y.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),y}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e_(this),this.idTokenSubscription=new e_(this),this.beforeStateQueue=new $S(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ni(i)),this._initializationPromise=this.queue(async()=>{var s,l,h;if(!this._deleted&&(this.persistenceManager=await Aa.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((h=this.currentUser)===null||h===void 0?void 0:h.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await pc(this,{idToken:t}),s=await Mn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(Nn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,h=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l==null?void 0:l._redirectEventId,y=await this.tryRedirectSignIn(t);(!d||d===g)&&(y!=null&&y.user)&&(l=y.user,h=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(h)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await yc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=MS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Nn(this.app))return Promise.reject(Tr(this));const i=t?Dr(t):null;return i&&ht(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&ht(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(Tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Nn(this.app)?Promise.reject(Tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ZS(this),i=new WS(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new _l("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await QS(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ni(t)||this._popupRedirectResolver;ht(i,this,"argument-error"),this.redirectPersistenceManager=await Aa.create(this,[Ni(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(ht(g,this,"internal-error"),g.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,s,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Bv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(i["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&DS(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function xa(a){return Dr(a)}class e_{constructor(t){this.auth=t,this.observer=null,this.addObserver=yA(i=>this.observer=i)}get next(){return ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eb(a){Nc=a}function qv(a){return Nc.loadJS(a)}function nb(){return Nc.recaptchaEnterpriseScript}function ib(){return Nc.gapiScript}function rb(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class sb{constructor(){this.enterprise=new ab}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class ab{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const ob="recaptcha-enterprise",Hv="NO_RECAPTCHA";class lb{constructor(t){this.type=ob,this.auth=xa(t)}async verify(t="verify",i=!1){async function s(h){if(!i){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(d,g)=>{zS(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const v=new xS(y);return h.tenantId==null?h._agentRecaptchaConfig=v:h._tenantRecaptchaConfigs[h.tenantId]=v,d(v.siteKey)}}).catch(y=>{g(y)})})}function l(h,d,g){const y=window.grecaptcha;$y(y)?y.enterprise.ready(()=>{y.enterprise.execute(h,{action:t}).then(v=>{d(v)}).catch(()=>{d(Hv)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sb().execute("siteKey",{action:"verify"}):new Promise((h,d)=>{s(this.auth).then(g=>{if(!i&&$y(window.grecaptcha))l(g,h,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=nb();y.length!==0&&(y+=g),qv(y).then(()=>{l(g,h,d)}).catch(v=>{d(v)})}}).catch(g=>{d(g)})})}}async function n_(a,t,i,s=!1,l=!1){const h=new lb(a);let d;if(l)d=Hv;else try{d=await h.verify(i)}catch{d=await h.verify(i,!0)}const g=Object.assign({},t);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,v=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function i_(a,t,i,s,l){var h;if(!((h=a._getRecaptchaConfig())===null||h===void 0)&&h.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await n_(a,t,i,i==="getOobCode");return s(a,d)}else return s(a,t).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await n_(a,t,i,i==="getOobCode");return s(a,g)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(a,t){const i=qd(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(_s(h,t??{}))return l;Vn(l,"already-initialized")}return i.initialize({options:t})}function cb(a,t){const i=(t==null?void 0:t.persistence)||[],s=(Array.isArray(i)?i:[i]).map(Ni);t!=null&&t.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function hb(a,t,i){const s=xa(a);ht(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,h=jv(t),{host:d,port:g}=fb(t),y=g===null?"":`:${g}`,v={url:`${h}//${d}${y}/`},A=Object.freeze({host:d,port:g,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){ht(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ht(_s(v,s.config.emulator)&&_s(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,db()}function jv(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function fb(a){const t=jv(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const h=l[1];return{host:h,port:r_(s.substr(h.length+1))}}else{const[h,d]=s.split(":");return{host:h,port:r_(d)}}}function r_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function db(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Oi("not implemented")}_getIdTokenResponse(t){return Oi("not implemented")}_linkToIdToken(t,i){return Oi("not implemented")}_getReauthenticationResolver(t){return Oi("not implemented")}}async function mb(a,t){return Or(a,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(a,t){return Oc(a,"POST","/v1/accounts:signInWithPassword",As(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pb(a,t){return Oc(a,"POST","/v1/accounts:signInWithEmailLink",As(a,t))}async function yb(a,t){return Oc(a,"POST","/v1/accounts:signInWithEmailLink",As(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Yd{constructor(t,i,s,l=null){super("password",s),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new dl(t,i,"password")}static _fromEmailAndCode(t,i,s=null){return new dl(t,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return i_(t,i,"signInWithPassword",gb);case"emailLink":return pb(t,{email:this._email,oobCode:this._password});default:Vn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return i_(t,s,"signUpPassword",mb);case"emailLink":return yb(t,{idToken:i,email:this._email,oobCode:this._password});default:Vn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sa(a,t){return Oc(a,"POST","/v1/accounts:signInWithIdp",As(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="http://localhost";class Es extends Yd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Es(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Vn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=i,h=jd(i,["providerId","signInMethod"]);if(!s||!l)return null;const d=new Es(s,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Sa(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Sa(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Sa(t,i)}buildRequest(){const t={requestUri:_b,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=vl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Eb(a){const t=el(nl(a)).link,i=t?el(nl(t)).deep_link_id:null,s=el(nl(a)).deep_link_id;return(s?el(nl(s)).link:null)||s||i||t||a}class Xd{constructor(t){var i,s,l,h,d,g;const y=el(nl(t)),v=(i=y.apiKey)!==null&&i!==void 0?i:null,A=(s=y.oobCode)!==null&&s!==void 0?s:null,M=vb((l=y.mode)!==null&&l!==void 0?l:null);ht(v&&A&&M,"argument-error"),this.apiKey=v,this.operation=M,this.code=A,this.continueUrl=(h=y.continueUrl)!==null&&h!==void 0?h:null,this.languageCode=(d=y.lang)!==null&&d!==void 0?d:null,this.tenantId=(g=y.tenantId)!==null&&g!==void 0?g:null}static parseLink(t){const i=Eb(t);try{return new Xd(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.providerId=za.PROVIDER_ID}static credential(t,i){return dl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const s=Xd.parseLink(i);return ht(s,"argument-error"),dl._fromEmailAndCode(t,s.code,s.tenantId)}}za.PROVIDER_ID="password";za.EMAIL_PASSWORD_SIGN_IN_METHOD="password";za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends Gv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Tl{constructor(){super("facebook.com")}static credential(t){return Es._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fr.credentialFromTaggedObject(t)}static credentialFromError(t){return fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fr.credential(t.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends Tl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Es._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return dr.credentialFromTaggedObject(t)}static credentialFromError(t){return dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return dr.credential(i,s)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends Tl{constructor(){super("github.com")}static credential(t){return Es._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mr.credentialFromTaggedObject(t)}static credentialFromError(t){return mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mr.credential(t.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Tl{constructor(){super("twitter.com")}static credential(t,i){return Es._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return gr.credentialFromTaggedObject(t)}static credentialFromError(t){return gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return gr.credential(i,s)}catch{return null}}}gr.TWITTER_SIGN_IN_METHOD="twitter.com";gr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const h=await Mn._fromIdTokenResponse(t,s,l),d=s_(s);return new Da({user:h,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=s_(s);return new Da({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function s_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends Pi{constructor(t,i,s,l){var h;super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,_c.prototype),this.customData={appName:t.name,tenantId:(h=t.tenantId)!==null&&h!==void 0?h:void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new _c(t,i,s,l)}}function Fv(a,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?_c._fromErrorAndOperation(a,h,t,s):h})}async function Tb(a,t,i=!1){const s=await fl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Da._forOperation(a,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ab(a,t,i=!1){const{auth:s}=a;if(Nn(s.app))return Promise.reject(Tr(s));const l="reauthenticate";try{const h=await fl(a,Fv(s,l,t,a),i);ht(h.idToken,s,"internal-error");const d=Kd(h.idToken);ht(d,s,"internal-error");const{sub:g}=d;return ht(a.uid===g,s,"user-mismatch"),Da._forOperation(a,l,h)}catch(h){throw(h==null?void 0:h.code)==="auth/user-not-found"&&Vn(s,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kv(a,t,i=!1){if(Nn(a.app))return Promise.reject(Tr(a));const s="signIn",l=await Fv(a,s,t),h=await Da._fromIdTokenResponse(a,s,l);return i||await a._updateCurrentUser(h.user),h}async function Sb(a,t){return Kv(xa(a),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bb(a){const t=xa(a);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Rb(a,t,i){return Nn(a.app)?Promise.reject(Tr(a)):Sb(Dr(a),za.credential(t,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&bb(a),s})}function wb(a,t,i,s){return Dr(a).onIdTokenChanged(t,i,s)}function Ib(a,t,i){return Dr(a).beforeAuthStateChanged(t,i)}const vc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(vc,"1"),this.storage.removeItem(vc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=1e3,Db=10;class Yv extends Qv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},h=this.storage.getItem(s);XS()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Db):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},Cb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Yv.type="LOCAL";const Ob=Yv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv extends Qv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Xv.type="SESSION";const $v=Xv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new Mc(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,h)),y=await Nb(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(a="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return a+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((g,y)=>{const v=$d("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(M){const B=M;if(B.data.eventId===v)switch(B.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),g(B.data.response);break;default:clearTimeout(A),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return window}function Vb(a){ti().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(){return typeof ti().WorkerGlobalScope<"u"&&typeof ti().importScripts=="function"}async function Ub(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Pb(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)===null||a===void 0?void 0:a.controller)||null}function Lb(){return Zv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="firebaseLocalStorageDb",kb=1,Ec="firebaseLocalStorage",Wv="fbase_key";class Al{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Vc(a,t){return a.transaction([Ec],t?"readwrite":"readonly").objectStore(Ec)}function xb(){const a=indexedDB.deleteDatabase(Jv);return new Al(a).toPromise()}function _d(){const a=indexedDB.open(Jv,kb);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(Ec,{keyPath:Wv})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(Ec)?t(s):(s.close(),await xb(),t(await _d()))})})}async function a_(a,t,i){const s=Vc(a,!0).put({[Wv]:t,value:i});return new Al(s).toPromise()}async function zb(a,t){const i=Vc(a,!1).get(t),s=await new Al(i).toPromise();return s===void 0?null:s.value}function o_(a,t){const i=Vc(a,!0).delete(t);return new Al(i).toPromise()}const Bb=800,qb=3;class tE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _d(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>qb)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mc._getInstance(Lb()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await Ub(),!this.activeServiceWorker)return;this.sender=new Mb(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Pb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _d();return await a_(t,vc,"1"),await o_(t,vc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>a_(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>zb(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>o_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Vc(l,!1).getAll();return new Al(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Bb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tE.type="LOCAL";const Hb=tE;new El(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(a,t){return t?Ni(t):(ht(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd extends Yd{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Sa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Sa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Sa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Gb(a){return Kv(a.auth,new Zd(a),a.bypassAuthState)}function Fb(a){const{auth:t,user:i}=a;return ht(i,t,"internal-error"),Ab(i,new Zd(a),a.bypassAuthState)}async function Kb(a){const{auth:t,user:i}=a;return ht(i,t,"internal-error"),Tb(i,new Zd(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(t,i,s,l,h=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:h,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Gb;case"linkViaPopup":case"linkViaRedirect":return Kb;case"reauthViaPopup":case"reauthViaRedirect":return Fb;default:Vn(this.auth,"internal-error")}}resolve(t){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=new El(2e3,1e4);class Ea extends eE{constructor(t,i,s,l,h){super(t,i,l,h),this.provider=s,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ht(t,this.auth,"internal-error"),t}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const t=$d();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,s;if(!((s=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Qb.get())};t()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="pendingRedirect",ac=new Map;class Xb extends eE{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=ac.get(this.auth._key());if(!t){try{const s=await $b(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}ac.set(this.auth._key(),t)}return this.bypassAuthState||ac.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $b(a,t){const i=Wb(t),s=Jb(a);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function Zb(a,t){ac.set(a._key(),t)}function Jb(a){return Ni(a._redirectPersistence)}function Wb(a){return sc(Yb,a.config.apiKey,a.name)}async function tR(a,t,i=!1){if(Nn(a.app))return Promise.reject(Tr(a));const s=xa(a),l=jb(s,t),d=await new Xb(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=10*60*1e3;class nR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!iR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var s;if(t.error&&!nE(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";i.onError(Wn(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=eR&&this.cachedEventUids.clear(),this.cachedEventUids.has(l_(t))}saveEventToCache(t){this.cachedEventUids.add(l_(t)),this.lastProcessedEventTime=Date.now()}}function l_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function nE({type:a,error:t}){return a==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function iR(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nE(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(a,t={}){return Or(a,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aR=/^https?/;async function oR(a){if(a.config.emulator)return;const{authorizedDomains:t}=await rR(a);for(const i of t)try{if(lR(i))return}catch{}Vn(a,"unauthorized-domain")}function lR(a){const t=pd(),{protocol:i,hostname:s}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&s===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!aR.test(i))return!1;if(sR.test(a))return s===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=new El(3e4,6e4);function u_(){const a=ti().___jsl;if(a!=null&&a.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function cR(a){return new Promise((t,i)=>{var s,l,h;function d(){u_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{u_(),i(Wn(a,"network-request-failed"))},timeout:uR.get()})}if(!((l=(s=ti().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((h=ti().gapi)===null||h===void 0)&&h.load)d();else{const g=rb("iframefcb");return ti()[g]=()=>{gapi.load?d():i(Wn(a,"network-request-failed"))},qv(`${ib()}?onload=${g}`).catch(y=>i(y))}}).catch(t=>{throw oc=null,t})}let oc=null;function hR(a){return oc=oc||cR(a),oc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=new El(5e3,15e3),dR="__/auth/iframe",mR="emulator/auth/iframe",gR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yR(a){const t=a.config;ht(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?Fd(t,mR):`https://${a.config.authDomain}/${dR}`,s={apiKey:t.apiKey,appName:a.name,v:ka},l=pR.get(a.config.apiHost);l&&(s.eid=l);const h=a._getFrameworks();return h.length&&(s.fw=h.join(",")),`${i}?${vl(s).slice(1)}`}async function _R(a){const t=await hR(a),i=ti().gapi;return ht(i,a,"internal-error"),t.open({where:document.body,url:yR(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gR,dontclear:!0},s=>new Promise(async(l,h)=>{await s.restyle({setHideOnLeave:!1});const d=Wn(a,"network-request-failed"),g=ti().setTimeout(()=>{h(d)},fR.get());function y(){ti().clearTimeout(g),l(s)}s.ping(y).then(y,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ER=500,TR=600,AR="_blank",SR="http://localhost";class c_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bR(a,t,i,s=ER,l=TR){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const y=Object.assign(Object.assign({},vR),{width:s.toString(),height:l.toString(),top:h,left:d}),v=Fe().toLowerCase();i&&(g=Uv(v)?AR:i),Mv(v)&&(t=t||SR,y.scrollbars="yes");const A=Object.entries(y).reduce((B,[Y,et])=>`${B}${Y}=${et},`,"");if(YS(v)&&g!=="_self")return RR(t||"",g),new c_(null);const M=window.open(t||"",g,A);ht(M,a,"popup-blocked");try{M.focus()}catch{}return new c_(M)}function RR(a,t){const i=document.createElement("a");i.href=a,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="__/auth/handler",IR="emulator/auth/handler",CR=encodeURIComponent("fac");async function h_(a,t,i,s,l,h){ht(a.config.authDomain,a,"auth-domain-config-required"),ht(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:s,v:ka,eventId:l};if(t instanceof Gv){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",pA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,M]of Object.entries({}))d[A]=M}if(t instanceof Tl){const A=t.getScopes().filter(M=>M!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const y=await a._getAppCheckToken(),v=y?`#${CR}=${encodeURIComponent(y)}`:"";return`${DR(a)}?${vl(g).slice(1)}${v}`}function DR({config:a}){return a.emulator?Fd(a,IR):`https://${a.authDomain}/${wR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="webStorageSupport";class OR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$v,this._completeRedirectFn=tR,this._overrideRedirectResult=Zb}async _openPopup(t,i,s,l){var h;Vi((h=this.eventManagers[t._key()])===null||h===void 0?void 0:h.manager,"_initialize() not called before _openPopup()");const d=await h_(t,i,s,pd(),l);return bR(t,d,$d())}async _openRedirect(t,i,s,l){await this._originValidation(t);const h=await h_(t,i,s,pd(),l);return Vb(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):(Vi(h,"If manager is not set, promise should be"),h)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await _R(t),s=new nR(t);return i.register("authEvent",l=>(ht(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(sd,{type:sd},l=>{var h;const d=(h=l==null?void 0:l[0])===null||h===void 0?void 0:h[sd];d!==void 0&&i(!!d),Vn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=oR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return zv()||Vv()||Qd()}}const NR=OR;var f_="@firebase/auth",d_="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UR(a){Ca(new vs("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;ht(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bv(a)},v=new tb(s,l,h,y);return cb(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Ca(new vs("auth-internal",t=>{const i=xa(t.getProvider("auth").getImmediate());return(s=>new MR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(f_,d_,VR(a)),Er(f_,d_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=5*60,LR=_v("authIdTokenMaxAge")||PR;let m_=null;const kR=a=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>LR)return;const l=i==null?void 0:i.token;m_!==l&&(m_=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function xR(a=Tv()){const t=qd(a,"auth");if(t.isInitialized())return t.getImmediate();const i=ub(a,{popupRedirectResolver:NR,persistence:[Hb,Ob,$v]}),s=_v("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(s,location.origin);if(location.origin===h.origin){const d=kR(h.toString());Ib(i,d,()=>d(i.currentUser)),wb(i,g=>d(g))}}const l=pv("auth");return l&&hb(i,`http://${l}`),i}function zR(){var a,t;return(t=(a=document.getElementsByTagName("head"))===null||a===void 0?void 0:a[0])!==null&&t!==void 0?t:document}eb({loadJS(a){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=t,s.onerror=l=>{const h=Wn("internal-error");h.customData=l,i(h)},s.type="text/javascript",s.charset="UTF-8",zR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UR("Browser");var BR="firebase",qR="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(BR,qR,"app");const iE={apiKey:"AIzaSyCRc08Aze9wFtDvKKVx4QZoZHPuz0m21fI",authDomain:"pilvi-vite-909e7.firebaseapp.com",projectId:"pilvi-vite-909e7",storageBucket:"pilvi-vite-909e7.firebasestorage.app",messagingSenderId:"251178253986",appId:"1:251178253986:web:171090a81b48c7e982e1fb"};function HR(){const a=Hd(iE),t=xR(a),[i,s]=Ia.useState(""),[l,h]=Ia.useState(""),d=async g=>{g.preventDefault();try{await Rb(t,i,l).then(y=>{const v=y.user;console.log("User signed in: "+v.email)})}catch{}};return Dt.jsx("div",{children:Dt.jsxs("form",{onSubmit:d,children:[Dt.jsx("h2",{children:"Login"}),Dt.jsxs("div",{children:[Dt.jsx("label",{htmlFor:"email",children:"Email"}),Dt.jsx("br",{}),Dt.jsx("input",{type:"email",id:"email",value:i,onChange:g=>s(g.target.value),required:!0})]}),Dt.jsx("br",{}),Dt.jsxs("div",{children:[Dt.jsx("label",{htmlFor:"password",children:"Password"}),Dt.jsx("br",{}),Dt.jsx("input",{type:"password",id:"password",value:l,onChange:g=>h(g.target.value),required:!0})]}),Dt.jsx("br",{}),Dt.jsx("div",{children:Dt.jsx("button",{type:"submit",children:"Log in"})})]})})}var g_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ar,rE;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,S){function R(){}R.prototype=S.prototype,O.D=S.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(D,N,U){for(var w=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)w[Ne-2]=arguments[Ne];return S.prototype[N].apply(D,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,S,R){R||(R=0);var D=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)D[N]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(N=0;16>N;++N)D[N]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=O.g[0],R=O.g[1],N=O.g[2];var U=O.g[3],w=S+(U^R&(N^U))+D[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=U+(N^S&(R^N))+D[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(R^U&(S^R))+D[2]+606105819&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(S^N&(U^S))+D[3]+3250441966&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(U^R&(N^U))+D[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(N^S&(R^N))+D[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(R^U&(S^R))+D[6]+2821735955&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(S^N&(U^S))+D[7]+4249261313&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(U^R&(N^U))+D[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(N^S&(R^N))+D[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(R^U&(S^R))+D[10]+4294925233&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(S^N&(U^S))+D[11]+2304563134&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(U^R&(N^U))+D[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(N^S&(R^N))+D[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(R^U&(S^R))+D[14]+2792965006&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(S^N&(U^S))+D[15]+1236535329&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(N^U&(R^N))+D[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(S^R))+D[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(U^S))+D[11]+643717713&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(N^U))+D[0]+3921069994&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(R^N))+D[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(S^R))+D[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(U^S))+D[15]+3634488961&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(N^U))+D[4]+3889429448&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(R^N))+D[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(S^R))+D[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(U^S))+D[3]+4107603335&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(N^U))+D[8]+1163531501&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(R^N))+D[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(S^R))+D[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(U^S))+D[7]+1735328473&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(N^U))+D[12]+2368359562&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(R^N^U)+D[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^N)+D[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^R)+D[11]+1839030562&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^S)+D[14]+4259657740&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^U)+D[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^N)+D[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^R)+D[7]+4139469664&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^S)+D[10]+3200236656&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^U)+D[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^N)+D[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^R)+D[3]+3572445317&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^S)+D[6]+76029189&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^U)+D[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^N)+D[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^R)+D[15]+530742520&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^S)+D[2]+3299628645&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(N^(R|~U))+D[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~N))+D[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~R))+D[14]+2878612391&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~S))+D[5]+4237533241&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~U))+D[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~N))+D[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~R))+D[10]+4293915773&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~S))+D[1]+2240044497&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~U))+D[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~N))+D[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~R))+D[6]+2734768916&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~S))+D[13]+1309151649&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~U))+D[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~N))+D[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~R))+D[2]+718787259&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~S))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var R=S-this.blockSize,D=this.B,N=this.h,U=0;U<S;){if(N==0)for(;U<=R;)l(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<S;)if(D[N++]=O.charCodeAt(U++),N==this.blockSize){l(this,D),N=0;break}}else for(;U<S;)if(D[N++]=O[U++],N==this.blockSize){l(this,D),N=0;break}}this.h=N,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var R=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=R&255,R/=256;for(this.u(O),O=Array(16),S=R=0;4>S;++S)for(var D=0;32>D;D+=8)O[R++]=this.g[S]>>>D&255;return O};function h(O,S){var R=g;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=S(O)}function d(O,S){this.h=S;for(var R=[],D=!0,N=O.length-1;0<=N;N--){var U=O[N]|0;D&&U==S||(R[N]=U,D=!1)}this.g=R}var g={};function y(O){return-128<=O&&128>O?h(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return M;if(0>O)return J(v(-O));for(var S=[],R=1,D=0;O>=R;D++)S[D]=O/R|0,R*=4294967296;return new d(S,0)}function A(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return J(A(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(S,8)),D=M,N=0;N<O.length;N+=8){var U=Math.min(8,O.length-N),w=parseInt(O.substring(N,N+U),S);8>U?(U=v(Math.pow(S,U)),D=D.j(U).add(v(w))):(D=D.j(R),D=D.add(v(w)))}return D}var M=y(0),B=y(1),Y=y(16777216);a=d.prototype,a.m=function(){if(rt(this))return-J(this).m();for(var O=0,S=1,R=0;R<this.g.length;R++){var D=this.i(R);O+=(0<=D?D:4294967296+D)*S,S*=4294967296}return O},a.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(et(this))return"0";if(rt(this))return"-"+J(this).toString(O);for(var S=v(Math.pow(O,6)),R=this,D="";;){var N=Pt(R,S).g;R=kt(R,N.j(S));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=N,et(R))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},a.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function et(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function rt(O){return O.h==-1}a.l=function(O){return O=kt(this,O),rt(O)?-1:et(O)?0:1};function J(O){for(var S=O.g.length,R=[],D=0;D<S;D++)R[D]=~O.g[D];return new d(R,~O.h).add(B)}a.abs=function(){return rt(this)?J(this):this},a.add=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],D=0,N=0;N<=S;N++){var U=D+(this.i(N)&65535)+(O.i(N)&65535),w=(U>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);D=w>>>16,U&=65535,w&=65535,R[N]=w<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function kt(O,S){return O.add(J(S))}a.j=function(O){if(et(this)||et(O))return M;if(rt(this))return rt(O)?J(this).j(J(O)):J(J(this).j(O));if(rt(O))return J(this.j(J(O)));if(0>this.l(Y)&&0>O.l(Y))return v(this.m()*O.m());for(var S=this.g.length+O.g.length,R=[],D=0;D<2*S;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var N=0;N<O.g.length;N++){var U=this.i(D)>>>16,w=this.i(D)&65535,Ne=O.i(N)>>>16,ne=O.i(N)&65535;R[2*D+2*N]+=w*ne,wt(R,2*D+2*N),R[2*D+2*N+1]+=U*ne,wt(R,2*D+2*N+1),R[2*D+2*N+1]+=w*Ne,wt(R,2*D+2*N+1),R[2*D+2*N+2]+=U*Ne,wt(R,2*D+2*N+2)}for(D=0;D<S;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=S;D<2*S;D++)R[D]=0;return new d(R,0)};function wt(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function gt(O,S){this.g=O,this.h=S}function Pt(O,S){if(et(S))throw Error("division by zero");if(et(O))return new gt(M,M);if(rt(O))return S=Pt(J(O),S),new gt(J(S.g),J(S.h));if(rt(S))return S=Pt(O,J(S)),new gt(J(S.g),S.h);if(30<O.g.length){if(rt(O)||rt(S))throw Error("slowDivide_ only works with positive integers.");for(var R=B,D=S;0>=D.l(O);)R=pt(R),D=pt(D);var N=Ct(R,1),U=Ct(D,1);for(D=Ct(D,2),R=Ct(R,2);!et(D);){var w=U.add(D);0>=w.l(O)&&(N=N.add(R),U=w),D=Ct(D,1),R=Ct(R,1)}return S=kt(O,N.j(S)),new gt(N,S)}for(N=M;0<=O.l(S);){for(R=Math.max(1,Math.floor(O.m()/S.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=v(R),w=U.j(S);rt(w)||0<w.l(O);)R-=D,U=v(R),w=U.j(S);et(U)&&(U=B),N=N.add(U),O=kt(O,w)}return new gt(N,O)}a.A=function(O){return Pt(this,O).h},a.and=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],D=0;D<S;D++)R[D]=this.i(D)&O.i(D);return new d(R,this.h&O.h)},a.or=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],D=0;D<S;D++)R[D]=this.i(D)|O.i(D);return new d(R,this.h|O.h)},a.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],D=0;D<S;D++)R[D]=this.i(D)^O.i(D);return new d(R,this.h^O.h)};function pt(O){for(var S=O.g.length+1,R=[],D=0;D<S;D++)R[D]=O.i(D)<<1|O.i(D-1)>>>31;return new d(R,O.h)}function Ct(O,S){var R=S>>5;S%=32;for(var D=O.g.length-R,N=[],U=0;U<D;U++)N[U]=0<S?O.i(U+R)>>>S|O.i(U+R+1)<<32-S:O.i(U+R);return new d(N,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,rE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Ar=d}).apply(typeof g_<"u"?g_:typeof self<"u"?self:typeof window<"u"?window:{});var Ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sE,il,aE,lc,vd,oE,lE,uE;(function(){var a,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ju=="object"&&Ju];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in p))break t;p=p[P]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&t(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,P={next:function(){if(!T&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}l("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function M(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,T),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function B(u,m,p){return B=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:M,B.apply(null,arguments)}function Y(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function et(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,P,q){for(var $=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)$[Ot-2]=arguments[Ot];return m.prototype[P].apply(T,$)}}function rt(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function J(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(y(T)){const P=u.length||0,q=T.length||0;u.length=P+q;for(let $=0;$<q;$++)u[P+$]=T[$]}else u.push(T)}}class kt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function wt(u){return/^[\s\xa0]*$/.test(u)}function gt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Pt(u){return Pt[" "](u),u}Pt[" "]=function(){};var pt=gt().indexOf("Gecko")!=-1&&!(gt().toLowerCase().indexOf("webkit")!=-1&&gt().indexOf("Edge")==-1)&&!(gt().indexOf("Trident")!=-1||gt().indexOf("MSIE")!=-1)&&gt().indexOf("Edge")==-1;function Ct(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function O(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let p,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(p in T)u[p]=T[p];for(let q=0;q<R.length;q++)p=R[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function N(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function U(u){g.setTimeout(()=>{throw u},0)}function w(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ne{constructor(){this.h=this.g=null}add(m,p){const T=ne.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ne=new kt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,at=!1,zt=new Ne,I=()=>{const u=g.Promise.resolve(void 0);Z=()=>{u.then(Q)}};var Q=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){U(p)}var m=ne;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}at=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function Tt(u,m){if(X.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(pt){t:{try{Pt(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:mt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Tt.aa.h.call(this)}}et(Tt,X);var mt={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),$t=0;function Un(u,m,p,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=P,this.key=++$t,this.da=this.fa=!1}function Li(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ri(u){this.src=u,this.g={},this.h=0}ri.prototype.add=function(u,m,p,T,P){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var $=Mr(u,m,T,P);return-1<$?(m=u[$],p||(m.fa=!1)):(m=new Un(m,this.src,q,!!T,P),m.fa=p,u.push(m)),m};function Nr(u,m){var p=m.type;if(p in u.g){var T=u.g[p],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=P)&&Array.prototype.splice.call(T,P,1),q&&(Li(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Mr(u,m,p,T){for(var P=0;P<u.length;++P){var q=u[P];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return P}return-1}var Vr="closure_lm_"+(1e6*Math.random()|0),Ga={};function Il(u,m,p,T,P){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Il(u,m[q],p,T,P);return null}return p=Cl(p),u&&u[be]?u.K(m,p,v(T)?!!T.capture:!1,P):fn(u,m,p,!1,T,P)}function fn(u,m,p,T,P,q){if(!m)throw Error("Invalid event type");var $=v(P)?!!P.capture:!!P,Ot=Rs(u);if(Ot||(u[Vr]=Ot=new ri(u)),p=Ot.add(m,p,T,$,q),p.proxy)return p;if(T=Kc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ot||(P=$),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Ur(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Kc(){function u(p){return m.call(u.src,u.listener,p)}const m=Qc;return u}function Fa(u,m,p,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Fa(u,m[q],p,T,P);else T=v(T)?!!T.capture:!!T,p=Cl(p),u&&u[be]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=Mr(q,p,T,P),-1<p&&(Li(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Rs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Mr(m,p,T,P)),(p=-1<u?m[u]:null)&&bs(p))}function bs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[be])Nr(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Ur(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Rs(m))?(Nr(p,u),p.h==0&&(p.src=null,m[Vr]=null)):Li(u)}}}function Ur(u){return u in Ga?Ga[u]:Ga[u]="on"+u}function Qc(u,m){if(u.da)u=!0;else{m=new Tt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&bs(u),u=p.call(T,m)}return u}function Rs(u){return u=u[Vr],u instanceof ri?u:null}var Ka="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cl(u){return typeof u=="function"?u:(u[Ka]||(u[Ka]=function(m){return u.handleEvent(m)}),u[Ka])}function ie(){W.call(this),this.i=new ri(this),this.M=this,this.F=null}et(ie,W),ie.prototype[be]=!0,ie.prototype.removeEventListener=function(u,m,p,T){Fa(this,u,m,p,T)};function Ht(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new X(m,u);else if(m instanceof X)m.target=m.target||u;else{var P=m;m=new X(T,u),D(m,P)}if(P=!0,p)for(var q=p.length-1;0<=q;q--){var $=m.g=p[q];P=nn($,T,!0,m)&&P}if($=m.g=u,P=nn($,T,!0,m)&&P,P=nn($,T,!1,m)&&P,p)for(q=0;q<p.length;q++)$=m.g=p[q],P=nn($,T,!1,m)&&P}ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Li(p[T]);delete u.g[m],u.h--}}this.F=null},ie.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ie.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function nn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,q=0;q<m.length;++q){var $=m[q];if($&&!$.da&&$.capture==p){var Ot=$.listener,_e=$.ha||$.src;$.fa&&Nr(u.i,$),P=Ot.call(_e,T)!==!1&&P}}return P&&!T.defaultPrevented}function ze(u,m,p){if(typeof u=="function")p&&(u=B(u,p));else if(u&&typeof u.handleEvent=="function")u=B(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Dl(u){u.g=ze(()=>{u.g=null,u.i&&(u.i=!1,Dl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Yc extends W{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Dl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(u){W.call(this),this.h=u,this.g={}}et(Pr,W);var Lr=[];function kr(u){Ct(u.g,function(m,p){this.g.hasOwnProperty(p)&&bs(m)},u),u.g={}}Pr.prototype.N=function(){Pr.aa.N.call(this),kr(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=g.JSON.stringify,ws=g.JSON.parse,xr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Qa(){}Qa.prototype.h=null;function Ya(u){return u.h||(u.h=u.i())}function Xa(){}var si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ai(){X.call(this,"d")}et(ai,X);function $a(){X.call(this,"c")}et($a,X);var Pn={},Za=null;function ki(){return Za=Za||new ie}Pn.La="serverreachability";function Is(u){X.call(this,Pn.La,u)}et(Is,X);function xi(u){const m=ki();Ht(m,new Is(m))}Pn.STAT_EVENT="statevent";function Ol(u,m){X.call(this,Pn.STAT_EVENT,u),this.stat=m}et(Ol,X);function Jt(u){const m=ki();Ht(m,new Ol(m,u))}Pn.Ma="timingevent";function ye(u,m){X.call(this,Pn.Ma,u),this.size=m}et(ye,X);function fe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function dn(){this.g=!0}dn.prototype.xa=function(){this.g=!1};function Ja(u,m,p,T,P,q){u.info(function(){if(u.g)if(q)for(var $="",Ot=q.split("&"),_e=0;_e<Ot.length;_e++){var Nt=Ot[_e].split("=");if(1<Nt.length){var we=Nt[0];Nt=Nt[1];var ve=we.split("_");$=2<=ve.length&&ve[1]=="type"?$+(we+"="+Nt+"&"):$+(we+"=redacted&")}}else $=null;else $=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+p+`
`+$})}function Xc(u,m,p,T,P,q,$){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+p+`
`+q+" "+$})}function zi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zr(u,p)+(T?" "+T:"")})}function Nl(u,m){u.info(function(){return"TIMEOUT: "+m})}dn.prototype.info=function(){};function zr(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var P=T[1];if(Array.isArray(P)&&!(1>P.length)){var q=P[0];if(q!="noop"&&q!="stop"&&q!="close")for(var $=1;$<P.length;$++)P[$]=""}}}}return Rn(p)}catch{return m}}var Bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function kn(){}et(kn,Qa),kn.prototype.g=function(){return new XMLHttpRequest},kn.prototype.i=function(){return{}},Ln=new kn;function Ke(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oe}function oe(){this.i=null,this.g="",this.h=!1}var Wa={},Cs={};function wn(u,m,p){u.L=1,u.v=Gr(rn(m)),u.m=p,u.P=!0,li(u,null)}function li(u,m){u.F=Date.now(),Br(u),u.A=rn(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),so(p.i,"t",T),u.C=0,p=u.j.J,u.h=new oe,u.g=Ql(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Yc(B(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(Lr[0]=P.toString()),P=Lr);for(var q=0;q<P.length;q++){var $=Il(p,P[q],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),xi(),Ja(u.i,u.u,u.A,u.l,u.R,u.m)}Ke.prototype.ca=function(u){u=u.target;const m=this.M;m&&yn(u)==3?m.j():this.Y(u)},Ke.prototype.Y=function(u){try{if(u==this.g)t:{const ve=yn(this.g);var m=this.g.Ba();const pi=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||zl(this.g)))){this.J||ve!=4||m==7||(m==8||0>=pi?xi(3):xi(2)),qi(this);var p=this.g.Z();this.X=p;e:if(Ml(this)){var T=zl(this.g);u="";var P=T.length,q=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),xn(this);var $="";break e}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==P-1)});T.length=0,this.h.g+=u,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=p==200,Xc(this.i,this.u,this.A,this.l,this.R,ve,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,_e=this.g;if((Ot=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wt(Ot)){var Nt=Ot;break e}}Nt=null}if(p=Nt)zi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qr(this,p);else{this.o=!1,this.s=3,Jt(12),Me(this),xn(this);break t}}if(this.P){p=!0;let Ve;for(;!this.J&&this.C<$.length;)if(Ve=Vl(this,$),Ve==Cs){ve==4&&(this.s=4,Jt(14),p=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ve==Wa){this.s=4,Jt(15),zi(this.i,this.l,$,"[Invalid Chunk]"),p=!1;break}else zi(this.i,this.l,Ve,null),qr(this,Ve);if(Ml(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||$.length!=0||this.h.h||(this.s=1,Jt(16),p=!1),this.o=this.o&&p,!p)zi(this.i,this.l,$,"[Invalid Chunked Response]"),Me(this),xn(this);else if(0<$.length&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.ba&&!we.M&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Jr(we),we.M=!0,Jt(11))}}else zi(this.i,this.l,$,null),qr(this,$);ve==4&&Me(this),this.o&&!this.J&&(ve==4?Gl(this.j,this):(this.o=!1,Br(this)))}else th(this.g),p==400&&0<$.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),Me(this),xn(this)}}}catch{}finally{}};function Ml(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Vl(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Cs:(p=Number(m.substring(p,T)),isNaN(p)?Wa:(T+=1,T+p>m.length?Cs:(m=m.slice(T,T+p),u.C=T+p,m)))}Ke.prototype.cancel=function(){this.J=!0,Me(this)};function Br(u){u.S=Date.now()+u.I,Ul(u,u.I)}function Ul(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(B(u.ba,u),m)}function qi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ke.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Nl(this.i,this.A),this.L!=2&&(xi(),Jt(17)),Me(this),this.s=2,xn(this)):Ul(this,this.S-u)};function xn(u){u.j.G==0||u.J||Gl(u.j,u)}function Me(u){qi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,kr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function qr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||to(p.h,u))){if(!u.K&&to(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Bs(p),xs(p);else break t;co(p),Jt(18)}}else p.za=P[1],0<p.za-p.T&&37500>P[2]&&p.F&&p.v==0&&!p.C&&(p.C=fe(B(p.Za,p),6e3));if(1>=Os(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else gi(p,11)}else if((u.K||p.g==u)&&Bs(p),!wt(m))for(P=p.Da.g.parse(m),m=0;m<P.length;m++){let Nt=P[m];if(p.T=Nt[0],Nt=Nt[1],p.G==2)if(Nt[0]=="c"){p.K=Nt[1],p.ia=Nt[2];const we=Nt[3];we!=null&&(p.la=we,p.j.info("VER="+p.la));const ve=Nt[4];ve!=null&&(p.Aa=ve,p.j.info("SVER="+p.Aa));const pi=Nt[5];pi!=null&&typeof pi=="number"&&0<pi&&(T=1.5*pi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Ve=u.g;if(Ve){const Fn=Ve.g?Ve.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fn){var q=T.h;q.g||Fn.indexOf("spdy")==-1&&Fn.indexOf("quic")==-1&&Fn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ns(q,q.h),q.h=null))}if(T.D){const fo=Ve.g?Ve.g.getResponseHeader("X-HTTP-Session-Id"):null;fo&&(T.ya=fo,Ft(T.I,T.D,fo))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var $=u;if(T.qa=Kl(T,T.J?T.ia:null,T.W),$.K){Qe(T.h,$);var Ot=$,_e=T.L;_e&&(Ot.I=_e),Ot.B&&(qi(Ot),Br(Ot)),T.g=$}else Hl(T);0<p.i.length&&zs(p)}else Nt[0]!="stop"&&Nt[0]!="close"||gi(p,7);else p.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?gi(p,7):lo(p):Nt[0]!="noop"&&p.l&&p.l.ta(Nt),p.v=0)}}xi(4)}catch{}}var Pl=class{constructor(u,m){this.g=u,this.map=m}};function ui(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ds(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Os(u){return u.h?1:u.g?u.g.size:0}function to(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ns(u,m){u.g?u.g.add(m):u.h=m}function Qe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ui.prototype.cancel=function(){if(this.i=eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function eo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return rt(u.i)}function $c(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Ms(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function no(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Ms(u),T=$c(u),P=T.length,q=0;q<P;q++)m.call(void 0,T[q],p&&p[q],u)}var Hr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),P=null;if(0<=T){var q=u[p].substring(0,T);P=u[p].substring(T+1)}else q=u[p];m(q,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,jr(this,u.j),this.o=u.o,this.g=u.g,Hi(this,u.s),this.l=u.l;var m=u.i,p=new hi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),ci(this,p),this.m=u.m}else u&&(m=String(u).match(Hr))?(this.h=!1,jr(this,m[1]||"",!0),this.o=mn(m[2]||""),this.g=mn(m[3]||"",!0),Hi(this,m[4]),this.l=mn(m[5]||"",!0),ci(this,m[6]||"",!0),this.m=mn(m[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Fr(m,io,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Fr(m,io,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Fr(p,p.charAt(0)=="/"?Jc:ro,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Fr(p,Vs)),u.join("")};function rn(u){return new de(u)}function jr(u,m,p){u.j=p?mn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Hi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function ci(u,m,p){m instanceof hi?(u.i=m,kl(u.i,u.h)):(p||(m=Fr(m,Wc)),u.i=new hi(m,u.h))}function Ft(u,m,p){u.i.set(m,p)}function Gr(u){return Ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function mn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Fr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Ll),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ll(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var io=/[#\/\?@]/g,ro=/[#\?:]/g,Jc=/[#\?]/g,Wc=/[#\?@]/g,Vs=/#/g;function hi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&Zc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=hi.prototype,a.add=function(u,m){gn(this),this.i=null,u=zn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function fi(u,m){gn(u),m=zn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function di(u,m){return gn(u),m=zn(u,m),u.g.has(m)}a.forEach=function(u,m){gn(this),this.g.forEach(function(p,T){p.forEach(function(P){u.call(m,P,T,this)},this)},this)},a.na=function(){gn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const P=u[T];for(let q=0;q<P.length;q++)p.push(m[T])}return p},a.V=function(u){gn(this);let m=[];if(typeof u=="string")di(this,u)&&(m=m.concat(this.g.get(zn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},a.set=function(u,m){return gn(this),this.i=null,u=zn(this,u),di(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function so(u,m,p){fi(u,m),0<p.length&&(u.i=null,u.g.set(zn(u,m),rt(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),$=this.V(T);for(T=0;T<$.length;T++){var P=q;$[T]!==""&&(P+="="+encodeURIComponent(String($[T]))),u.push(P)}}return this.i=u.join("&")};function zn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function kl(u,m){m&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(p,T){var P=T.toLowerCase();T!=P&&(fi(this,T),so(this,P,p))},u)),u.j=m}function Kr(u,m){const p=new dn;if(g.Image){const T=new Image;T.onload=Y(pn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=Y(pn,p,"TestLoadImage: error",!1,m,T),T.onabort=Y(pn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=Y(pn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function In(u,m){const p=new dn,T=new AbortController,P=setTimeout(()=>{T.abort(),pn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?pn(p,"TestPingServer: ok",!0,m):pn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),pn(p,"TestPingServer: error",!1,m)})}function pn(u,m,p,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(p)}catch{}}function Qr(){this.g=new xr}function Bn(u,m,p){const T=p||"";try{no(u,function(P,q){let $=P;v(P)&&($=Rn(P)),m.push(T+q+"="+encodeURIComponent($))})}catch(P){throw m.push(T+"type="+encodeURIComponent("_badmap")),P}}function ji(u){this.l=u.Ub||null,this.j=u.eb||!1}et(ji,Qa),ji.prototype.g=function(){return new mi(this.l,this.j)},ji.prototype.i=function(u){return function(){return u}}({});function mi(u,m){ie.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}et(mi,ie),a=mi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Hn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ao(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ao(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?qn(this):Hn(this),this.readyState==3&&ao(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,qn(this))},a.Qa=function(u){this.g&&(this.response=u,qn(this))},a.ga=function(){this.g&&qn(this)};function qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Hn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function oo(u){let m="";return Ct(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Re(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=oo(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Ft(u,m,p))}function qt(u){ie.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}et(qt,ie);var Us=/^https?$/i,Yr=["POST","PUT"];a=qt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?Ya(this.o):Ya(Ln),this.g.onreadystatechange=B(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){xl(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)p.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Yr,m,void 0))||T||P||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,$]of p)this.g.setRequestHeader(q,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){xl(this,q)}};function xl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ps(u),jn(u)}function Ps(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),jn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jn(this,!0)),qt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Ls(this):this.bb())},a.bb=function(){Ls(this)};function Ls(u){if(u.h&&typeof d<"u"&&(!u.v[1]||yn(u)!=4||u.Z()!=2)){if(u.u&&yn(u)==4)ze(u.Ea,0,u);else if(Ht(u,"readystatechange"),yn(u)==4){u.h=!1;try{const $=u.Z();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=$===0){var P=String(u.D).match(Hr)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),T=!Us.test(P?P.toLowerCase():"")}p=T}if(p)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var q=2<yn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Ps(u)}}finally{jn(u)}}}}function jn(u,m){if(u.g){Xr(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{p.onreadystatechange=T}catch{}}}function Xr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function yn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ws(m)}};function zl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function th(u){const m={};u=(u.g&&2<=yn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(wt(u[T]))continue;var p=N(u[T]);const P=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[P]||[];m[P]=q,q.push(p)}O(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $r(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function ks(u){this.Aa=0,this.i=[],this.j=new dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$r("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$r("baseRetryDelayMs",5e3,u),this.cb=$r("retryDelaySeedMs",1e4,u),this.Wa=$r("forwardChannelMaxRetries",2,u),this.wa=$r("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ui(u&&u.concurrentRequestLimit),this.Da=new Qr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=ks.prototype,a.la=8,a.G=1,a.connect=function(u,m,p,T){Jt(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Kl(this,null,this.W),zs(this)};function lo(u){if(Bl(u),u.G==3){var m=u.U++,p=rn(u.I);if(Ft(p,"SID",u.K),Ft(p,"RID",m),Ft(p,"TYPE","terminate"),Zr(u,p),m=new Ke(u,u.j,m),m.L=2,m.v=Gr(rn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Ql(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Br(m)}Fl(u)}function xs(u){u.g&&(Jr(u),u.g.cancel(),u.g=null)}function Bl(u){xs(u),u.u&&(g.clearTimeout(u.u),u.u=null),Bs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function zs(u){if(!Ds(u.h)&&!u.s){u.s=!0;var m=u.Ga;Z||I(),at||(Z(),at=!0),zt.add(m,u),u.B=0}}function eh(u,m){return Os(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(B(u.Ga,u,m),ho(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Ke(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),D(q,this.S)):q=this.S),this.m!==null||this.O||(P.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=ql(this,P,m),p=rn(this.I),Ft(p,"RID",u),Ft(p,"CVER",22),this.D&&Ft(p,"X-HTTP-Session-Id",this.D),Zr(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(oo(q)))+"&"+m:this.m&&Re(p,this.m,q)),Ns(this.h,P),this.Ua&&Ft(p,"TYPE","init"),this.P?(Ft(p,"$req",m),Ft(p,"SID","null"),P.T=!0,wn(P,p,null)):wn(P,p,m),this.G=2}}else this.G==3&&(u?uo(this,u):this.i.length==0||Ds(this.h)||uo(this))};function uo(u,m){var p;m?p=m.l:p=u.U++;const T=rn(u.I);Ft(T,"SID",u.K),Ft(T,"RID",p),Ft(T,"AID",u.T),Zr(u,T),u.m&&u.o&&Re(T,u.m,u.o),p=new Ke(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ql(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ns(u.h,p),wn(p,T,m)}function Zr(u,m){u.H&&Ct(u.H,function(p,T){Ft(m,T,p)}),u.l&&no({},function(p,T){Ft(m,T,p)})}function ql(u,m,p){p=Math.min(u.i.length,p);var T=u.l?B(u.l.Na,u.l,u):null;t:{var P=u.i;let q=-1;for(;;){const $=["count="+p];q==-1?0<p?(q=P[0].g,$.push("ofs="+q)):q=0:$.push("ofs="+q);let Ot=!0;for(let _e=0;_e<p;_e++){let Nt=P[_e].g;const we=P[_e].map;if(Nt-=q,0>Nt)q=Math.max(0,P[_e].g-100),Ot=!1;else try{Bn(we,$,"req"+Nt+"_")}catch{T&&T(we)}}if(Ot){T=$.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Hl(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Z||I(),at||(Z(),at=!0),zt.add(m,u),u.v=0}}function co(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(B(u.Fa,u),ho(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,jl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(B(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),xs(this),jl(this))};function Jr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function jl(u){u.g=new Ke(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=rn(u.qa);Ft(m,"RID","rpc"),Ft(m,"SID",u.K),Ft(m,"AID",u.T),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ft(m,"TO",u.ja),Ft(m,"TYPE","xmlhttp"),Zr(u,m),u.m&&u.o&&Re(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Gr(rn(m)),p.m=null,p.P=!0,li(p,u)}a.Za=function(){this.C!=null&&(this.C=null,xs(this),co(this),Jt(19))};function Bs(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Gl(u,m){var p=null;if(u.g==m){Bs(u),Jr(u),u.g=null;var T=2}else if(to(u.h,m))p=m.D,Qe(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;T=ki(),Ht(T,new ye(T,p)),zs(u)}else Hl(u);else if(P=m.s,P==3||P==0&&0<m.X||!(T==1&&eh(u,m)||T==2&&co(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),P){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function ho(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var p=B(u.fb,u),T=u.Xa;const P=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||jr(T,"https"),Gr(T),P?Kr(T.toString(),p):In(T.toString(),p)}else Jt(2);u.G=0,u.l&&u.l.sa(m),Fl(u),Bl(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function Fl(u){if(u.G=0,u.ka=[],u.l){const m=eo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ka,m),J(u.ka,u.i),u.h.i.length=0,rt(u.i),u.i.length=0),u.l.ra()}}function Kl(u,m,p){var T=p instanceof de?rn(p):new de(p);if(T.g!="")m&&(T.g=m+"."+T.g),Hi(T,T.s);else{var P=g.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var q=new de(null);T&&jr(q,T),m&&(q.g=m),P&&Hi(q,P),p&&(q.l=p),T=q}return p=u.D,m=u.ya,p&&m&&Ft(T,p,m),Ft(T,"VER",u.la),Zr(u,T),T}function Ql(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new ji({eb:p})):new qt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yl(){}a=Yl.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function qs(){}qs.prototype.g=function(u,m){return new Ye(u,m)};function Ye(u,m){ie.call(this),this.g=new ks(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!wt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!wt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Gn(this)}et(Ye,ie),Ye.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ye.prototype.close=function(){lo(this.g)},Ye.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Rn(u),u=p);m.i.push(new Pl(m.Ya++,u)),m.G==3&&zs(m)},Ye.prototype.N=function(){this.g.l=null,delete this.j,lo(this.g),delete this.g,Ye.aa.N.call(this)};function Xl(u){ai.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}et(Xl,ai);function $l(){$a.call(this),this.status=1}et($l,$a);function Gn(u){this.g=u}et(Gn,Yl),Gn.prototype.ua=function(){Ht(this.g,"a")},Gn.prototype.ta=function(u){Ht(this.g,new Xl(u))},Gn.prototype.sa=function(u){Ht(this.g,new $l)},Gn.prototype.ra=function(){Ht(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,Ye.prototype.send=Ye.prototype.o,Ye.prototype.open=Ye.prototype.m,Ye.prototype.close=Ye.prototype.close,uE=function(){return new qs},lE=function(){return ki()},oE=Pn,vd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,lc=Bi,oi.COMPLETE="complete",aE=oi,Xa.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",ie.prototype.listen=ie.prototype.K,il=Xa,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,sE=qt}).apply(typeof Ju<"u"?Ju:typeof self<"u"?self:typeof window<"u"?window:{});const p_="@firebase/firestore",y_="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}je.UNAUTHENTICATED=new je(null),je.GOOGLE_CREDENTIALS=new je("google-credentials-uid"),je.FIRST_PARTY=new je("first-party-uid"),je.MOCK_USER=new je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ba="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new zd("@firebase/firestore");function pa(){return Ts.logLevel}function nt(a,...t){if(Ts.logLevel<=It.DEBUG){const i=t.map(Jd);Ts.debug(`Firestore (${Ba}): ${a}`,...i)}}function Ui(a,...t){if(Ts.logLevel<=It.ERROR){const i=t.map(Jd);Ts.error(`Firestore (${Ba}): ${a}`,...i)}}function Oa(a,...t){if(Ts.logLevel<=It.WARN){const i=t.map(Jd);Ts.warn(`Firestore (${Ba}): ${a}`,...i)}}function Jd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(a,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,cE(a,s,i)}function cE(a,t,i){let s=`FIRESTORE (${Ba}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Ui(s),new Error(s)}function ee(a,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,a||cE(t,l,s)}function Ut(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Pi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(je.UNAUTHENTICATED))}shutdown(){}}class GR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class FR{constructor(t){this.t=t,this.currentUser=je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ee(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let h=new ps;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ps,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const y=h;t.enqueueRetryable(async()=>{await y.promise,await l(this.currentUser)})},g=y=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ps)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ee(typeof s.accessToken=="string",31837,{l:s}),new hE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ee(t===null||typeof t=="string",2055,{h:t}),new je(t)}}class KR{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QR{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new KR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class __{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ee(this.o===void 0,3512);const s=h=>{h.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>s(h))};const l=h=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new __(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(ee(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new __(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=XR(40);for(let h=0;h<l.length;++h)s.length<20&&l[h]<i&&(s+=t.charAt(l[h]%62))}return s}}function St(a,t){return a<t?-1:a>t?1:0}function Ed(a,t){let i=0;for(;i<a.length&&i<t.length;){const s=a.codePointAt(i),l=t.codePointAt(i);if(s!==l){if(s<128&&l<128)return St(s,l);{const h=fE(),d=ZR(h.encode(v_(a,i)),h.encode(v_(t,i)));return d!==0?d:St(s,l)}}i+=s>65535?2:1}return St(a.length,t.length)}function v_(a,t){return a.codePointAt(t)>65535?a.substring(t,t+2):a.substring(t,t+1)}function ZR(a,t){for(let i=0;i<a.length&&i<t.length;++i)if(a[i]!==t[i])return St(a[i],t[i]);return St(a.length,t.length)}function Na(a,t,i){return a.length===t.length&&a.every((s,l)=>i(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=-62135596800,T_=1e6;class en{static now(){return en.fromMillis(Date.now())}static fromDate(t){return en.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*T_);return new en(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<E_)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T_}_compareTo(t){return this.seconds===t.seconds?St(this.nanoseconds,t.nanoseconds):St(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-E_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new en(0,0))}static max(){return new yt(new en(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="__name__";class Zn{constructor(t,i,s){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&_t(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Zn.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Zn?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const h=Zn.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return St(t.length,i.length)}static compareSegments(t,i){const s=Zn.isNumericId(t),l=Zn.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Zn.extractNumericId(t).compare(Zn.extractNumericId(i)):Ed(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ar.fromString(t.substring(4,t.length-2))}}class ae extends Zn{construct(t,i,s){return new ae(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(l=>l.length>0))}return new ae(i)}static emptyPath(){return new ae([])}}const JR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Zn{construct(t,i,s){return new $e(t,i,s)}static isValidIdentifier(t){return JR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===A_}static keyField(){return new $e([A_])}static fromServerFormat(t){const i=[];let s="",l=0;const h=()=>{if(s.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ct(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ct(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(h(),l++)}if(h(),d)throw new ct(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(i)}static emptyPath(){return new $e([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ae.fromString(t))}static fromName(t){return new dt(ae.fromString(t).popFirst(5))}static empty(){return new dt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ae.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ae(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=-1;function WR(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(s===1e9?new en(i+1,0):new en(i,s));return new Sr(l,dt.empty(),t)}function tw(a){return new Sr(a.readTime,a.key,ml)}class Sr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Sr(yt.min(),dt.empty(),ml)}static max(){return new Sr(yt.max(),dt.empty(),ml)}}function ew(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(a.documentKey,t.documentKey),i!==0?i:St(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(a){if(a.code!==tt.FAILED_PRECONDITION||a.message!==nw)throw a;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new K((s,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(s,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):K.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):K.reject(i)}static resolve(t){return new K((i,s)=>{i(t)})}static reject(t){return new K((i,s)=>{s(t)})}static waitFor(t){return new K((i,s)=>{let l=0,h=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++h,d&&h===l&&i()},y=>s(y))}),d=!0,h===l&&i()})}static or(t){let i=K.resolve(!1);for(const s of t)i=i.next(l=>l?K.resolve(l):s());return i}static forEach(t,i){const s=[];return t.forEach((l,h)=>{s.push(i.call(this,l,h))}),this.waitFor(s)}static mapArray(t,i){return new K((s,l)=>{const h=t.length,d=new Array(h);let g=0;for(let y=0;y<h;y++){const v=y;i(t[v]).next(A=>{d[v]=A,++g,g===h&&s(d)},A=>l(A))}})}static doWhile(t,i){return new K((s,l)=>{const h=()=>{t()===!0?i().next(()=>{h()},l):s()};h()})}}function rw(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function qa(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Pc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=-1;function Lc(a){return a==null}function Td(a){return a===0&&1/a==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="";function aw(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=S_(t)),t=ow(a.get(i),t);return S_(t)}function ow(a,t){let i=t;const s=a.length;for(let l=0;l<s;l++){const h=a.charAt(l);switch(h){case"\0":i+="";break;case dE:i+="";break;default:i+=h}}return i}function S_(a){return a+dE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Sl(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function lw(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,i){this.comparator=t,this.root=i||ke.EMPTY}insert(t,i){return new he(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ke.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Wu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Wu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Wu(this.root,t,this.comparator,!0)}}class Wu{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?s(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ke{constructor(t,i,s,l,h){this.key=t,this.value=i,this.color=s??ke.RED,this.left=l??ke.EMPTY,this.right=h??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,h){return new ke(t??this.key,i??this.value,s??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const h=s(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,s),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return ke.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,s,l,h){return this}insert(t,i,s){return new ke(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new R_(this.data.getIterator())}getIteratorFrom(t){return new R_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof Se)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=s.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Se(this.comparator);return i.data=t,i}}class R_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new pr([])}unionWith(t){let i=new Se($e.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new pr(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Na(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new mE("Invalid base64 string: "+h):h}}(t);return new xe(i)}static fromUint8Array(t){const i=function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h}(t);return new xe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return St(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xe.EMPTY_BYTE_STRING=new xe("");const uw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(a){if(ee(!!a,39018),typeof a=="string"){let t=0;const i=uw.exec(a);if(ee(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ce(a.seconds),nanos:ce(a.nanos)}}function ce(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Rr(a){return typeof a=="string"?xe.fromBase64String(a):xe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="server_timestamp",pE="__type__",yE="__previous_value__",_E="__local_write_time__";function Wd(a){var t,i;return((i=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[pE])===null||i===void 0?void 0:i.stringValue)===gE}function kc(a){const t=a.mapValue.fields[yE];return Wd(t)?kc(t):t}function gl(a){const t=br(a.mapValue.fields[_E].timestampValue);return new en(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t,i,s,l,h,d,g,y,v){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=v}}const Tc="(default)";class pl{constructor(t,i){this.projectId=t,this.database=i||Tc}static empty(){return new pl("","")}get isDefaultDatabase(){return this.database===Tc}isEqual(t){return t instanceof pl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="__type__",fw="__max__",tc={mapValue:{}},dw="__vector__",Ad="value";function wr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Wd(a)?4:gw(a)?9007199254740991:mw(a)?10:11:_t(28295,{value:a})}function ni(a,t){if(a===t)return!0;const i=wr(a);if(i!==wr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return gl(a).isEqual(gl(t));case 3:return function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=br(l.timestampValue),g=br(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,t);case 5:return a.stringValue===t.stringValue;case 6:return function(l,h){return Rr(l.bytesValue).isEqual(Rr(h.bytesValue))}(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return function(l,h){return ce(l.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(l.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(a,t);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return ce(l.integerValue)===ce(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=ce(l.doubleValue),g=ce(h.doubleValue);return d===g?Td(d)===Td(g):isNaN(d)&&isNaN(g)}return!1}(a,t);case 9:return Na(a.arrayValue.values||[],t.arrayValue.values||[],ni);case 10:case 11:return function(l,h){const d=l.mapValue.fields||{},g=h.mapValue.fields||{};if(b_(d)!==b_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!ni(d[y],g[y])))return!1;return!0}(a,t);default:return _t(52216,{left:a})}}function yl(a,t){return(a.values||[]).find(i=>ni(i,t))!==void 0}function Ma(a,t){if(a===t)return 0;const i=wr(a),s=wr(t);if(i!==s)return St(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return St(a.booleanValue,t.booleanValue);case 2:return function(h,d){const g=ce(h.integerValue||h.doubleValue),y=ce(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(a,t);case 3:return w_(a.timestampValue,t.timestampValue);case 4:return w_(gl(a),gl(t));case 5:return Ed(a.stringValue,t.stringValue);case 6:return function(h,d){const g=Rr(h),y=Rr(d);return g.compareTo(y)}(a.bytesValue,t.bytesValue);case 7:return function(h,d){const g=h.split("/"),y=d.split("/");for(let v=0;v<g.length&&v<y.length;v++){const A=St(g[v],y[v]);if(A!==0)return A}return St(g.length,y.length)}(a.referenceValue,t.referenceValue);case 8:return function(h,d){const g=St(ce(h.latitude),ce(d.latitude));return g!==0?g:St(ce(h.longitude),ce(d.longitude))}(a.geoPointValue,t.geoPointValue);case 9:return I_(a.arrayValue,t.arrayValue);case 10:return function(h,d){var g,y,v,A;const M=h.fields||{},B=d.fields||{},Y=(g=M[Ad])===null||g===void 0?void 0:g.arrayValue,et=(y=B[Ad])===null||y===void 0?void 0:y.arrayValue,rt=St(((v=Y==null?void 0:Y.values)===null||v===void 0?void 0:v.length)||0,((A=et==null?void 0:et.values)===null||A===void 0?void 0:A.length)||0);return rt!==0?rt:I_(Y,et)}(a.mapValue,t.mapValue);case 11:return function(h,d){if(h===tc.mapValue&&d===tc.mapValue)return 0;if(h===tc.mapValue)return 1;if(d===tc.mapValue)return-1;const g=h.fields||{},y=Object.keys(g),v=d.fields||{},A=Object.keys(v);y.sort(),A.sort();for(let M=0;M<y.length&&M<A.length;++M){const B=Ed(y[M],A[M]);if(B!==0)return B;const Y=Ma(g[y[M]],v[A[M]]);if(Y!==0)return Y}return St(y.length,A.length)}(a.mapValue,t.mapValue);default:throw _t(23264,{Pe:i})}}function w_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return St(a,t);const i=br(a),s=br(t),l=St(i.seconds,s.seconds);return l!==0?l:St(i.nanos,s.nanos)}function I_(a,t){const i=a.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const h=Ma(i[l],s[l]);if(h)return h}return St(i.length,s.length)}function Va(a){return Sd(a)}function Sd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=br(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Rr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return dt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",l=!0;for(const h of i.values||[])l?l=!1:s+=",",s+=Sd(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of s)h?h=!1:l+=",",l+=`${d}:${Sd(i.fields[d])}`;return l+"}"}(a.mapValue):_t(61005,{value:a})}function uc(a){switch(wr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=kc(a);return t?16+uc(t):16;case 5:return 2*a.stringValue.length;case 6:return Rr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,h)=>l+uc(h),0)}(a.arrayValue);case 10:case 11:return function(s){let l=0;return Sl(s.fields,(h,d)=>{l+=h.length+uc(d)}),l}(a.mapValue);default:throw _t(13486,{value:a})}}function bd(a){return!!a&&"integerValue"in a}function tm(a){return!!a&&"arrayValue"in a}function C_(a){return!!a&&"nullValue"in a}function D_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function ad(a){return!!a&&"mapValue"in a}function mw(a){var t,i;return((i=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[hw])===null||i===void 0?void 0:i.stringValue)===dw}function ol(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const t={mapValue:{fields:{}}};return Sl(a.mapValue.fields,(i,s)=>t.mapValue.fields[i]=ol(s)),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=ol(a.arrayValue.values[i]);return t}return Object.assign({},a)}function gw(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===fw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.value=t}static empty(){return new Jn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!ad(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=ol(i)}setAll(t){let i=$e.emptyPath(),s={},l=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=ol(d):l.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,l)}delete(t){const i=this.field(t.popLast());ad(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ni(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];ad(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){Sl(i,(l,h)=>t[l]=h);for(const l of s)delete t[l]}clone(){return new Jn(ol(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t,i,s,l,h,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ge(t,0,yt.min(),yt.min(),yt.min(),Jn.empty(),0)}static newFoundDocument(t,i,s,l){return new Ge(t,1,i,yt.min(),s,l,0)}static newNoDocument(t,i){return new Ge(t,2,i,yt.min(),yt.min(),Jn.empty(),0)}static newUnknownDocument(t,i){return new Ge(t,3,i,yt.min(),yt.min(),Jn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ge&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t,i){this.position=t,this.inclusive=i}}function O_(a,t,i){let s=0;for(let l=0;l<a.position.length;l++){const h=t[l],d=a.position[l];if(h.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),i.key):s=Ma(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function N_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ni(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,i="asc"){this.field=t,this.dir=i}}function pw(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{}class Ae extends vE{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new _w(t,i,s):i==="array-contains"?new Tw(t,s):i==="in"?new Aw(t,s):i==="not-in"?new Sw(t,s):i==="array-contains-any"?new bw(t,s):new Ae(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new vw(t,s):new Ew(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ma(i,this.value)):i!==null&&wr(this.value)===wr(i)&&this.matchesComparison(Ma(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends vE{constructor(t,i){super(),this.filters=t,this.op=i,this.Te=null}static create(t,i){return new ii(t,i)}matches(t){return EE(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function EE(a){return a.op==="and"}function TE(a){return yw(a)&&EE(a)}function yw(a){for(const t of a.filters)if(t instanceof ii)return!1;return!0}function Rd(a){if(a instanceof Ae)return a.field.canonicalString()+a.op.toString()+Va(a.value);if(TE(a))return a.filters.map(t=>Rd(t)).join(",");{const t=a.filters.map(i=>Rd(i)).join(",");return`${a.op}(${t})`}}function AE(a,t){return a instanceof Ae?function(s,l){return l instanceof Ae&&s.op===l.op&&s.field.isEqual(l.field)&&ni(s.value,l.value)}(a,t):a instanceof ii?function(s,l){return l instanceof ii&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((h,d,g)=>h&&AE(d,l.filters[g]),!0):!1}(a,t):void _t(19439)}function SE(a){return a instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${Va(i.value)}`}(a):a instanceof ii?function(i){return i.op.toString()+" {"+i.getFilters().map(SE).join(" ,")+"}"}(a):"Filter"}class _w extends Ae{constructor(t,i,s){super(t,i,s),this.key=dt.fromName(s.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class vw extends Ae{constructor(t,i){super(t,"in",i),this.keys=bE("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class Ew extends Ae{constructor(t,i){super(t,"not-in",i),this.keys=bE("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function bE(a,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>dt.fromName(s.referenceValue))}class Tw extends Ae{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return tm(i)&&yl(i.arrayValue,this.value)}}class Aw extends Ae{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&yl(this.value.arrayValue,i)}}class Sw extends Ae{constructor(t,i){super(t,"not-in",i)}matches(t){if(yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!yl(this.value.arrayValue,i)}}class bw extends Ae{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!tm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>yl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t,i=null,s=[],l=[],h=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=h,this.startAt=d,this.endAt=g,this.Ie=null}}function M_(a,t=null,i=[],s=[],l=null,h=null,d=null){return new Rw(a,t,i,s,l,h,d)}function em(a){const t=Ut(a);if(t.Ie===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>Rd(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),Lc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Va(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Va(s)).join(",")),t.Ie=i}return t.Ie}function nm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!pw(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!AE(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!N_(a.startAt,t.startAt)&&N_(a.endAt,t.endAt)}function wd(a){return dt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,i=null,s=[],l=[],h=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=y,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ww(a,t,i,s,l,h,d,g){return new xc(a,t,i,s,l,h,d,g)}function RE(a){return new xc(a)}function V_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Iw(a){return a.collectionGroup!==null}function ll(a){const t=Ut(a);if(t.Ee===null){t.Ee=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ee.push(h),i.add(h.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Se($e.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ee.push(new Sc(h,s))}),i.has($e.keyField().canonicalString())||t.Ee.push(new Sc($e.keyField(),s))}return t.Ee}function ei(a){const t=Ut(a);return t.de||(t.de=Cw(t,ll(a))),t.de}function Cw(a,t){if(a.limitType==="F")return M_(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map(l=>{const h=l.dir==="desc"?"asc":"desc";return new Sc(l.field,h)});const i=a.endAt?new Ac(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Ac(a.startAt.position,a.startAt.inclusive):null;return M_(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function Id(a,t,i){return new xc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function zc(a,t){return nm(ei(a),ei(t))&&a.limitType===t.limitType}function wE(a){return`${em(ei(a))}|lt:${a.limitType}`}function ya(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(l=>SE(l)).join(", ")}]`),Lc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(l=>Va(l)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(l=>Va(l)).join(",")),`Target(${s})`}(ei(a))}; limitType=${a.limitType})`}function Bc(a,t){return t.isFoundDocument()&&function(s,l){const h=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):dt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,t)&&function(s,l){for(const h of ll(s))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0}(a,t)&&function(s,l){for(const h of s.filters)if(!h.matches(l))return!1;return!0}(a,t)&&function(s,l){return!(s.startAt&&!function(d,g,y){const v=O_(d,g,y);return d.inclusive?v<=0:v<0}(s.startAt,ll(s),l)||s.endAt&&!function(d,g,y){const v=O_(d,g,y);return d.inclusive?v>=0:v>0}(s.endAt,ll(s),l))}(a,t)}function Dw(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function IE(a){return(t,i)=>{let s=!1;for(const l of ll(a)){const h=Ow(l,t,i);if(h!==0)return h;s=s||l.field.isKeyField()}return 0}}function Ow(a,t,i){const s=a.field.isKeyField()?dt.comparator(t.key,i.key):function(h,d,g){const y=d.data.field(h),v=g.data.field(h);return y!==null&&v!==null?Ma(y,v):_t(42886)}(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,h]of s)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Sl(this.inner,(i,s)=>{for(const[l,h]of s)t(l,h)})}isEmpty(){return lw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=new he(dt.comparator);function Ir(){return Nw}const CE=new he(dt.comparator);function rl(...a){let t=CE;for(const i of a)t=t.insert(i.key,i);return t}function Mw(a){let t=CE;return a.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function gs(){return ul()}function DE(){return ul()}function ul(){return new Ss(a=>a.toString(),(a,t)=>a.isEqual(t))}const Vw=new Se(dt.comparator);function Lt(...a){let t=Vw;for(const i of a)t=t.add(i);return t}const Uw=new Se(St);function Pw(){return Uw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Td(t)?"-0":t}}function kw(a){return{integerValue:""+a}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this._=void 0}}function xw(a,t,i){return a instanceof Cd?function(l,h){const d={fields:{[pE]:{stringValue:gE},[_E]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Wd(h)&&(h=kc(h)),h&&(d.fields[yE]=h),{mapValue:d}}(i,t):a instanceof bc?OE(a,t):a instanceof Rc?NE(a,t):function(l,h){const d=Bw(l,h),g=U_(d)+U_(l.Re);return bd(d)&&bd(l.Re)?kw(g):Lw(l.serializer,g)}(a,t)}function zw(a,t,i){return a instanceof bc?OE(a,t):a instanceof Rc?NE(a,t):i}function Bw(a,t){return a instanceof Dd?function(s){return bd(s)||function(h){return!!h&&"doubleValue"in h}(s)}(t)?t:{integerValue:0}:null}class Cd extends qc{}class bc extends qc{constructor(t){super(),this.elements=t}}function OE(a,t){const i=ME(t);for(const s of a.elements)i.some(l=>ni(l,s))||i.push(s);return{arrayValue:{values:i}}}class Rc extends qc{constructor(t){super(),this.elements=t}}function NE(a,t){let i=ME(t);for(const s of a.elements)i=i.filter(l=>!ni(l,s));return{arrayValue:{values:i}}}class Dd extends qc{constructor(t,i){super(),this.serializer=t,this.Re=i}}function U_(a){return ce(a.integerValue||a.doubleValue)}function ME(a){return tm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function qw(a,t){return a.field.isEqual(t.field)&&function(s,l){return s instanceof bc&&l instanceof bc||s instanceof Rc&&l instanceof Rc?Na(s.elements,l.elements,ni):s instanceof Dd&&l instanceof Dd?ni(s.Re,l.Re):s instanceof Cd&&l instanceof Cd}(a.transform,t.transform)}class ys{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ys}static exists(t){return new ys(void 0,t)}static updateTime(t){return new ys(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function cc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class im{}function VE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new jw(a.key,ys.none()):new rm(a.key,a.data,ys.none());{const i=a.data,s=Jn.empty();let l=new Se($e.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),l=l.add(h)}return new Hc(a.key,s,new pr(l.toArray()),ys.none())}}function Hw(a,t,i){a instanceof rm?function(l,h,d){const g=l.value.clone(),y=L_(l.fieldTransforms,h,d.transformResults);g.setAll(y),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,t,i):a instanceof Hc?function(l,h,d){if(!cc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const g=L_(l.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(UE(l)),y.setAll(g),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(a,t,i):function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function cl(a,t,i,s){return a instanceof rm?function(h,d,g,y){if(!cc(h.precondition,d))return g;const v=h.value.clone(),A=k_(h.fieldTransforms,y,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(a,t,i,s):a instanceof Hc?function(h,d,g,y){if(!cc(h.precondition,d))return g;const v=k_(h.fieldTransforms,y,d),A=d.data;return A.setAll(UE(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(M=>M.field))}(a,t,i,s):function(h,d,g){return cc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,t,i)}function P_(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Na(s,l,(h,d)=>qw(h,d))}(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class rm extends im{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Hc extends im{constructor(t,i,s,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function UE(a){const t=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}}),t}function L_(a,t,i){const s=new Map;ee(a.length===i.length,32656,{Ve:i.length,me:a.length});for(let l=0;l<i.length;l++){const h=a[l],d=h.transform,g=t.data.field(h.field);s.set(h.field,zw(d,g,i[l]))}return s}function k_(a,t,i){const s=new Map;for(const l of a){const h=l.transform,d=i.data.field(l.field);s.set(l.field,xw(h,d,t))}return s}class jw extends im{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&Hw(h,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=cl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=cl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=DE();return this.mutations.forEach(l=>{const h=t.get(l.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(l.key)?null:g;const y=VE(d,g);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(yt.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Lt())}isEqual(t){return this.batchId===t.batchId&&Na(this.mutations,t.mutations,(i,s)=>P_(i,s))&&Na(this.baseMutations,t.baseMutations,(i,s)=>P_(i,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Vt;function PE(a){if(a===void 0)return Ui("GRPC error has no .code"),tt.UNKNOWN;switch(a){case pe.OK:return tt.OK;case pe.CANCELLED:return tt.CANCELLED;case pe.UNKNOWN:return tt.UNKNOWN;case pe.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case pe.INTERNAL:return tt.INTERNAL;case pe.UNAVAILABLE:return tt.UNAVAILABLE;case pe.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case pe.NOT_FOUND:return tt.NOT_FOUND;case pe.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case pe.ABORTED:return tt.ABORTED;case pe.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case pe.DATA_LOSS:return tt.DATA_LOSS;default:return _t(39323,{code:a})}}(Vt=pe||(pe={}))[Vt.OK=0]="OK",Vt[Vt.CANCELLED=1]="CANCELLED",Vt[Vt.UNKNOWN=2]="UNKNOWN",Vt[Vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vt[Vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vt[Vt.NOT_FOUND=5]="NOT_FOUND",Vt[Vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vt[Vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vt[Vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vt[Vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vt[Vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vt[Vt.ABORTED=10]="ABORTED",Vt[Vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vt[Vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vt[Vt.INTERNAL=13]="INTERNAL",Vt[Vt.UNAVAILABLE=14]="UNAVAILABLE",Vt[Vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=new Ar([4294967295,4294967295],0);function x_(a){const t=fE().encode(a),i=new rE;return i.update(t),new Uint8Array(i.digest())}function z_(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Ar([i,s],0),new Ar([l,h],0)]}class sm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new sl(`Invalid padding: ${i}`);if(s<0)throw new sl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new sl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new sl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*t.length-i,this.ye=Ar.fromNumber(this.pe)}we(t,i,s){let l=t.add(i.multiply(Ar.fromNumber(s)));return l.compare(Qw)===1&&(l=new Ar([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const i=x_(t),[s,l]=z_(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,l,h);if(!this.be(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new sm(h,l,i);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.pe===0)return;const i=x_(t),[s,l]=z_(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,l,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,i,s,l,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,bl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new jc(yt.min(),l,new he(St),Ir(),Lt())}}class bl{constructor(t,i,s,l,h){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new bl(s,i,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(t,i,s,l){this.De=t,this.removedTargetIds=i,this.key=s,this.ve=l}}class LE{constructor(t,i){this.targetId=t,this.Ce=i}}class kE{constructor(t,i,s=xe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class B_{constructor(){this.Fe=0,this.Me=q_(),this.xe=xe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Lt(),i=Lt(),s=Lt();return this.Me.forEach((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:_t(38017,{changeType:h})}}),new bl(this.xe,this.Oe,t,i,s)}Qe(){this.Ne=!1,this.Me=q_()}$e(t,i){this.Ne=!0,this.Me=this.Me.insert(t,i)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,ee(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Yw{constructor(t){this.ze=t,this.je=new Map,this.He=Ir(),this.Je=ec(),this.Ye=ec(),this.Ze=new he(St)}Xe(t){for(const i of t.De)t.ve&&t.ve.isFoundDocument()?this.et(i,t.ve):this.tt(i,t.key,t.ve);for(const i of t.removedTargetIds)this.tt(i,t.key,t.ve)}nt(t){this.forEachTarget(t,i=>{const s=this.rt(i);switch(t.state){case 0:this.it(i)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(t.resumeToken));break;default:_t(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.je.forEach((s,l)=>{this.it(l)&&i(l)})}ot(t){const i=t.targetId,s=t.Ce.count,l=this._t(i);if(l){const h=l.target;if(wd(h))if(s===0){const d=new dt(h.path);this.tt(i,d,Ge.newNoDocument(d,yt.min()))}else ee(s===1,20013,{expectedCount:s});else{const d=this.ut(i);if(d!==s){const g=this.ct(t),y=g?this.lt(g,t,d):1;if(y!==0){this.st(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ct(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:h=0}=i;let d,g;try{d=Rr(s).toUint8Array()}catch(y){if(y instanceof mE)return Oa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new sm(d,l,h)}catch(y){return Oa(y instanceof sl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.pe===0?null:g}lt(t,i,s){return i.Ce.count===s-this.Tt(t,i.targetId)?0:2}Tt(t,i){const s=this.ze.getRemoteKeysForTarget(i);let l=0;return s.forEach(h=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(g)||(this.tt(i,h,null),l++)}),l}It(t){const i=new Map;this.je.forEach((h,d)=>{const g=this._t(d);if(g){if(h.current&&wd(g.target)){const y=new dt(g.target.path);this.Et(y).has(d)||this.dt(d,y)||this.tt(d,y,Ge.newNoDocument(y,t))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let s=Lt();this.Ye.forEach((h,d)=>{let g=!0;d.forEachWhile(y=>{const v=this._t(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.He.forEach((h,d)=>d.setReadTime(t));const l=new jc(t,i,this.Ze,this.He,s);return this.He=Ir(),this.Je=ec(),this.Ye=ec(),this.Ze=new he(St),l}et(t,i){if(!this.it(t))return;const s=this.dt(t,i.key)?2:0;this.rt(t).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(t)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(t))}tt(t,i,s){if(!this.it(t))return;const l=this.rt(t);this.dt(t,i)?l.$e(i,1):l.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(t)),this.Ye=this.Ye.insert(i,this.At(i).add(t)),s&&(this.He=this.He.insert(i,s))}removeTarget(t){this.je.delete(t)}ut(t){const i=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let i=this.je.get(t);return i||(i=new B_,this.je.set(t,i)),i}At(t){let i=this.Ye.get(t);return i||(i=new Se(St),this.Ye=this.Ye.insert(t,i)),i}Et(t){let i=this.Je.get(t);return i||(i=new Se(St),this.Je=this.Je.insert(t,i)),i}it(t){const i=this._t(t)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",t),i}_t(t){const i=this.je.get(t);return i&&i.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new B_),this.ze.getRemoteKeysForTarget(t).forEach(i=>{this.tt(t,i,null)})}dt(t,i){return this.ze.getRemoteKeysForTarget(t).has(i)}}function ec(){return new he(dt.comparator)}function q_(){return new he(dt.comparator)}const Xw={asc:"ASCENDING",desc:"DESCENDING"},$w={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zw={and:"AND",or:"OR"};class Jw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Od(a,t){return a.useProto3Json||Lc(t)?t:{value:t}}function Ww(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function t1(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function ba(a){return ee(!!a,49232),yt.fromTimestamp(function(i){const s=br(i);return new en(s.seconds,s.nanos)}(a))}function e1(a,t){return Nd(a,t).canonicalString()}function Nd(a,t){const i=function(l){return new ae(["projects",l.projectId,"databases",l.database])}(a).child("documents");return t===void 0?i:i.child(t)}function xE(a){const t=ae.fromString(a);return ee(jE(t),10190,{key:t.toString()}),t}function od(a,t){const i=xE(t);if(i.get(1)!==a.databaseId.projectId)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new dt(BE(i))}function zE(a,t){return e1(a.databaseId,t)}function n1(a){const t=xE(a);return t.length===4?ae.emptyPath():BE(t)}function H_(a){return new ae(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function BE(a){return ee(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function i1(a,t){let i;if("targetChange"in t){t.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:_t(39313,{state:v})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(ee(A===void 0||typeof A=="string",58123),xe.fromBase64String(A||"")):(ee(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),xe.fromUint8Array(A||new Uint8Array))}(a,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(v){const A=v.code===void 0?tt.UNKNOWN:PE(v.code);return new ct(A,v.message||"")}(d);i=new kE(s,l,h,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=od(a,s.document.name),h=ba(s.document.updateTime),d=s.document.createTime?ba(s.document.createTime):yt.min(),g=new Jn({mapValue:{fields:s.document.fields}}),y=Ge.newFoundDocument(l,h,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new hc(v,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=od(a,s.document),h=s.readTime?ba(s.readTime):yt.min(),d=Ge.newNoDocument(l,h),g=s.removedTargetIds||[];i=new hc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=od(a,s.document),h=s.removedTargetIds||[];i=new hc([],h,l,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:h}=s,d=new Kw(l,h),g=s.targetId;i=new LE(g,d)}}return i}function r1(a,t){return{documents:[zE(a,t.path)]}}function s1(a,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=zE(a,l);const h=function(v){if(v.length!==0)return HE(ii.create(v,"and"))}(t.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(B){return{field:_a(B.field),direction:l1(B.dir)}}(A))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Od(a,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{gt:i,parent:l}}function a1(a){let t=n1(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){ee(s===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let h=[];i.where&&(h=function(M){const B=qE(M);return B instanceof ii&&TE(B)?B.getFilters():[B]}(i.where));let d=[];i.orderBy&&(d=function(M){return M.map(B=>function(et){return new Sc(va(et.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(et.direction))}(B))}(i.orderBy));let g=null;i.limit&&(g=function(M){let B;return B=typeof M=="object"?M.value:M,Lc(B)?null:B}(i.limit));let y=null;i.startAt&&(y=function(M){const B=!!M.before,Y=M.values||[];return new Ac(Y,B)}(i.startAt));let v=null;return i.endAt&&(v=function(M){const B=!M.before,Y=M.values||[];return new Ac(Y,B)}(i.endAt)),ww(t,l,d,h,g,"F",y,v)}function o1(a,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function qE(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=va(i.unaryFilter.field);return Ae.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=va(i.unaryFilter.field);return Ae.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=va(i.unaryFilter.field);return Ae.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=va(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}}(a):a.fieldFilter!==void 0?function(i){return Ae.create(va(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return ii.create(i.compositeFilter.filters.map(s=>qE(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}}(i.compositeFilter.op))}(a):_t(30097,{filter:a})}function l1(a){return Xw[a]}function u1(a){return $w[a]}function c1(a){return Zw[a]}function _a(a){return{fieldPath:a.canonicalString()}}function va(a){return $e.fromServerFormat(a.fieldPath)}function HE(a){return a instanceof Ae?function(i){if(i.op==="=="){if(D_(i.value))return{unaryFilter:{field:_a(i.field),op:"IS_NAN"}};if(C_(i.value))return{unaryFilter:{field:_a(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(D_(i.value))return{unaryFilter:{field:_a(i.field),op:"IS_NOT_NAN"}};if(C_(i.value))return{unaryFilter:{field:_a(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_a(i.field),op:u1(i.op),value:i.value}}}(a):a instanceof ii?function(i){const s=i.getFilters().map(l=>HE(l));return s.length===1?s[0]:{compositeFilter:{op:c1(i.op),filters:s}}}(a):_t(54877,{filter:a})}function jE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t,i,s,l,h=yt.min(),d=yt.min(),g=xe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new yr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(t){this.wt=t}}function f1(a){const t=a1({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Id(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.yn=new m1}addToCollectionParentIndex(t,i){return this.yn.add(i),K.resolve()}getCollectionParents(t,i){return K.resolve(this.yn.getEntries(i))}addFieldIndex(t,i){return K.resolve()}deleteFieldIndex(t,i){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,i){return K.resolve()}getDocumentsMatchingTarget(t,i){return K.resolve(null)}getIndexType(t,i){return K.resolve(0)}getFieldIndexes(t,i){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,i){return K.resolve(Sr.min())}getMinOffsetFromCollectionGroup(t,i){return K.resolve(Sr.min())}updateCollectionGroup(t,i,s){return K.resolve()}updateIndexEntries(t,i){return K.resolve()}}class m1{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Se(ae.comparator),h=!l.has(s);return this.index[i]=l.add(s),h}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Se(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GE=41943040;class tn{static withCacheSize(t){return new tn(t,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(GE,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new Ua(0)}static ir(){return new Ua(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="LruGarbageCollector",g1=1048576;function F_([a,t],[i,s]){const l=St(a,i);return l===0?St(t,s):l}class p1{constructor(t){this.cr=t,this.buffer=new Se(F_),this.lr=0}hr(){return++this.lr}Pr(t){const i=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();F_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class y1{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){nt(G_,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){qa(i)?nt(G_,"Ignoring IndexedDB error during garbage collection: ",i):await Uc(i)}await this.Ir(3e5)})}}class _1{constructor(t,i){this.Er=t,this.params=i}calculateTargetCount(t,i){return this.Er.dr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return K.resolve(Pc.le);const s=new p1(i);return this.Er.forEachTarget(t,l=>s.Pr(l.sequenceNumber)).next(()=>this.Er.Ar(t,l=>s.Pr(l))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.Er.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Er.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(j_)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j_):this.Rr(t,i))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,i){let s,l,h,d,g,y,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),l=this.params.maximumSequenceNumbersToCollect):l=M,d=Date.now(),this.nthSequenceNumber(t,l))).next(M=>(s=M,g=Date.now(),this.removeTargets(t,s,i))).next(M=>(h=M,y=Date.now(),this.removeOrphanedDocuments(t,s))).next(M=>(v=Date.now(),pa()<=It.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${h} targets in `+(y-g)+`ms
	Removed ${M} documents in `+(v-y)+`ms
Total Duration: ${v-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:M})))}}function v1(a,t){return new _1(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.changes=new Ss(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ge.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?K.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(s!==null&&cl(s.mutation,l,pr.empty(),en.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,Lt()).next(()=>s))}getLocalViewOfDocuments(t,i,s=Lt()){const l=gs();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,s).next(h=>{let d=rl();return h.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const s=gs();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,Lt()))}populateOverlays(t,i,s){const l=[];return s.forEach(h=>{i.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(t,l).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,s,l){let h=Ir();const d=ul(),g=function(){return ul()}();return i.forEach((y,v)=>{const A=s.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof Hc)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),cl(A.mutation,v,A.mutation.getFieldMask(),en.now())):d.set(v.key,pr.empty())}),this.recalculateAndSaveOverlays(t,h).next(y=>(y.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var M;return g.set(v,new T1(A,(M=d.get(v))!==null&&M!==void 0?M:null))}),g))}recalculateAndSaveOverlays(t,i){const s=ul();let l=new he((d,g)=>d-g),h=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(y=>{const v=i.get(y);if(v===null)return;let A=s.get(y)||pr.empty();A=g.applyToLocalView(v,A),s.set(y,A);const M=(l.get(g.batchId)||Lt()).add(y);l=l.insert(g.batchId,M)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),v=y.key,A=y.value,M=DE();A.forEach(B=>{if(!h.has(B)){const Y=VE(i.get(B),s.get(B));Y!==null&&M.set(B,Y),h=h.add(B)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,M))}return K.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,l){return function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Iw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next(h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-h.size):K.resolve(gs());let g=ml,y=h;return d.next(v=>K.forEach(v,(A,M)=>(g<M.largestBatchId&&(g=M.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(t,A).next(B=>{y=y.insert(A,B)}))).next(()=>this.populateOverlays(t,v,h)).next(()=>this.computeViews(t,y,v,Lt())).next(A=>({batchId:g,changes:Mw(A)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next(s=>{let l=rl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const h=i.collectionGroup;let d=rl();return this.indexManager.getCollectionParents(t,h).next(g=>K.forEach(g,y=>{const v=function(M,B){return new xc(B,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt)}(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(t,v,s,l).next(A=>{A.forEach((M,B)=>{d=d.insert(M,B)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,s,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,h,l))).next(d=>{h.forEach((y,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ge.newInvalidDocument(A)))});let g=rl();return d.forEach((y,v)=>{const A=h.get(y);A!==void 0&&cl(A.mutation,v,pr.empty(),en.now()),Bc(i,v)&&(g=g.insert(y,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,i){return K.resolve(this.Fr.get(i))}saveBundleMetadata(t,i){return this.Fr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:ba(l.createTime)}}(i)),K.resolve()}getNamedQuery(t,i){return K.resolve(this.Mr.get(i))}saveNamedQuery(t,i){return this.Mr.set(i.name,function(l){return{name:l.name,query:f1(l.bundledQuery),readTime:ba(l.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(){this.overlays=new he(dt.comparator),this.Or=new Map}getOverlay(t,i){return K.resolve(this.overlays.get(i))}getOverlays(t,i){const s=gs();return K.forEach(i,l=>this.getOverlay(t,l).next(h=>{h!==null&&s.set(l,h)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((l,h)=>{this.St(t,i,h)}),K.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.Or.get(s);return l!==void 0&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.Or.delete(s)),K.resolve()}getOverlaysForCollection(t,i,s){const l=gs(),h=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&y.largestBatchId>s&&l.set(y.getKey(),y)}return K.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let h=new he((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=h.get(v.largestBatchId);A===null&&(A=gs(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=gs(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=l)););return K.resolve(g)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Or.get(l.largestBatchId).delete(s.key);this.Or.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Fw(i,s));let h=this.Or.get(i);h===void 0&&(h=Lt(),this.Or.set(i,h)),this.Or.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.sessionToken=xe.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this.Nr=new Se(Oe.Br),this.Lr=new Se(Oe.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,i){const s=new Oe(t,i);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.Qr(new Oe(t,i))}$r(t,i){t.forEach(s=>this.removeReference(s,i))}Ur(t){const i=new dt(new ae([])),s=new Oe(i,t),l=new Oe(i,t+1),h=[];return this.Lr.forEachInRange([s,l],d=>{this.Qr(d),h.push(d.key)}),h}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const i=new dt(new ae([])),s=new Oe(i,t),l=new Oe(i,t+1);let h=Lt();return this.Lr.forEachInRange([s,l],d=>{h=h.add(d.key)}),h}containsKey(t){const i=new Oe(t,0),s=this.Nr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Oe{constructor(t,i){this.key=t,this.Gr=i}static Br(t,i){return dt.comparator(t.key,i.key)||St(t.Gr,i.Gr)}static kr(t,i){return St(t.Gr,i.Gr)||dt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Jn=1,this.zr=new Se(Oe.Br)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const h=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Gw(h,i,s,l);this.mutationQueue.push(d);for(const g of l)this.zr=this.zr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(t,i){return K.resolve(this.jr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Hr(s),h=l<0?0:l;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?sw:this.Jn-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Oe(i,0),l=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.zr.forEachInRange([s,l],d=>{const g=this.jr(d.Gr);h.push(g)}),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Se(St);return i.forEach(l=>{const h=new Oe(l,0),d=new Oe(l,Number.POSITIVE_INFINITY);this.zr.forEachInRange([h,d],g=>{s=s.add(g.Gr)})}),K.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let h=s;dt.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new dt(h),0);let g=new Se(St);return this.zr.forEachWhile(y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===l&&(g=g.add(y.Gr)),!0)},d),K.resolve(this.Jr(g))}Jr(t){const i=[];return t.forEach(s=>{const l=this.jr(s);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){ee(this.Yr(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return K.forEach(i.mutations,l=>{const h=new Oe(l.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.zr=s})}Xn(t){}containsKey(t,i){const s=new Oe(i,0),l=this.zr.firstAfterOrEqual(s);return K.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}Yr(t,i){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const i=this.Hr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(t){this.Zr=t,this.docs=function(){return new he(dt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),h=l?l.size:0,d=this.Zr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return K.resolve(s?s.document.mutableCopy():Ge.newInvalidDocument(i))}getEntries(t,i){let s=Ir();return i.forEach(l=>{const h=this.docs.get(l);s=s.insert(l,h?h.document.mutableCopy():Ge.newInvalidDocument(l))}),K.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let h=Ir();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:v,value:{document:A}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||ew(tw(A),s)<=0||(l.has(A.key)||Bc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(t,i,s,l){_t(9500)}Xr(t,i){return K.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new C1(this)}getSize(t){return K.resolve(this.size)}}class C1 extends E1{constructor(t){super(),this.vr=t}applyChanges(t){const i=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?i.push(this.vr.addEntry(t,l)):this.vr.removeEntry(s)}),K.waitFor(i)}getFromCache(t,i){return this.vr.getEntry(t,i)}getAllFromCache(t,i){return this.vr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(t){this.persistence=t,this.ei=new Ss(i=>em(i),nm),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.ti=0,this.ni=new am,this.targetCount=0,this.ri=Ua.rr()}forEachTarget(t,i){return this.ei.forEach((s,l)=>i(l)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ti&&(this.ti=i),K.resolve()}ar(t){this.ei.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ri=new Ua(i),this.highestTargetId=i),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,i){return this.ar(i),this.targetCount+=1,K.resolve()}updateTargetData(t,i){return this.ar(i),K.resolve()}removeTargetData(t,i){return this.ei.delete(i.target),this.ni.Ur(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,i,s){let l=0;const h=[];return this.ei.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ei.delete(d),h.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),K.waitFor(h).next(()=>l)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,i){const s=this.ei.get(i)||null;return K.resolve(s)}addMatchingKeys(t,i,s){return this.ni.qr(i,s),K.resolve()}removeMatchingKeys(t,i,s){this.ni.$r(i,s);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach(d=>{h.push(l.markPotentiallyOrphaned(t,d))}),K.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this.ni.Ur(i),K.resolve()}getMatchingKeysForTargetId(t,i){const s=this.ni.Wr(i);return K.resolve(s)}containsKey(t,i){return K.resolve(this.ni.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t,i){this.ii={},this.overlays={},this.si=new Pc(0),this.oi=!1,this.oi=!0,this._i=new R1,this.referenceDelegate=t(this),this.ai=new D1(this),this.indexManager=new d1,this.remoteDocumentCache=function(l){return new I1(l)}(s=>this.referenceDelegate.ui(s)),this.serializer=new h1(i),this.ci=new S1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new b1,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ii[t.toKey()];return s||(s=new w1(i,this.referenceDelegate),this.ii[t.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,i,s){nt("MemoryPersistence","Starting transaction:",t);const l=new O1(this.si.next());return this.referenceDelegate.li(),s(l).next(h=>this.referenceDelegate.hi(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Pi(t,i){return K.or(Object.values(this.ii).map(s=>()=>s.containsKey(t,i)))}}class O1 extends iw{constructor(t){super(),this.currentSequenceNumber=t}}class om{constructor(t){this.persistence=t,this.Ti=new am,this.Ii=null}static Ei(t){return new om(t)}get di(){if(this.Ii)return this.Ii;throw _t(60996)}addReference(t,i,s){return this.Ti.addReference(s,i),this.di.delete(s.toString()),K.resolve()}removeReference(t,i,s){return this.Ti.removeReference(s,i),this.di.add(s.toString()),K.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),K.resolve()}removeTarget(t,i){this.Ti.Ur(i.targetId).forEach(l=>this.di.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(h=>this.di.add(h.toString()))}).next(()=>s.removeTargetData(t,i))}li(){this.Ii=new Set}hi(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.di,s=>{const l=dt.fromPath(s);return this.Ai(t,l).next(h=>{h||i.removeEntry(l,yt.min())})}).next(()=>(this.Ii=null,i.apply(t)))}updateLimboDocument(t,i){return this.Ai(t,i).next(s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())})}ui(t){return 0}Ai(t,i){return K.or([()=>K.resolve(this.Ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Pi(t,i)])}}class wc{constructor(t,i){this.persistence=t,this.Ri=new Ss(s=>aw(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=v1(this,i)}static Ei(t,i){return new wc(t,i)}li(){}hi(t){return K.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(l=>s+l))}Vr(t){let i=0;return this.Ar(t,s=>{i++}).next(()=>i)}Ar(t,i){return K.forEach(this.Ri,(s,l)=>this.gr(t,s,l).next(h=>h?K.resolve():i(l)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.Xr(t,d=>this.gr(t,d,i).next(g=>{g||(s++,h.removeEntry(d,yt.min()))})).next(()=>h.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.Ri.set(i,t.currentSequenceNumber),K.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.Ri.set(s,t.currentSequenceNumber),K.resolve()}removeReference(t,i,s){return this.Ri.set(s,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,i){return this.Ri.set(i,t.currentSequenceNumber),K.resolve()}ui(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=uc(t.data.value)),i}gr(t,i,s){return K.or([()=>this.persistence.Pi(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.Ri.get(i);return K.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.ls=s,this.hs=l}static Ps(t,i){let s=Lt(),l=Lt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new lm(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return cA()?8:rw(Fe())>0?6:4}()}initialize(t,i){this.As=t,this.indexManager=i,this.Ts=!0}getDocumentsMatchingQuery(t,i,s,l){const h={result:null};return this.Rs(t,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.Vs(t,i,l,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new N1;return this.fs(t,i,d).next(g=>{if(h.result=g,this.Is)return this.gs(t,i,d,g.size)})}).next(()=>h.result)}gs(t,i,s,l){return s.documentReadCount<this.Es?(pa()<=It.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",ya(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),K.resolve()):(pa()<=It.DEBUG&&nt("QueryEngine","Query:",ya(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(pa()<=It.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",ya(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ei(i))):K.resolve())}Rs(t,i){if(V_(i))return K.resolve(null);let s=ei(i);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=Id(i,null,"F"),s=ei(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(h=>{const d=Lt(...h);return this.As.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(y=>{const v=this.ps(i,g);return this.ys(i,v,d,y.readTime)?this.Rs(t,Id(i,null,"F")):this.ws(t,v,i,y)}))})))}Vs(t,i,s,l){return V_(i)||l.isEqual(yt.min())?K.resolve(null):this.As.getDocuments(t,s).next(h=>{const d=this.ps(i,h);return this.ys(i,d,s,l)?K.resolve(null):(pa()<=It.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ya(i)),this.ws(t,d,i,WR(l,ml)).next(g=>g))})}ps(t,i){let s=new Se(IE(t));return i.forEach((l,h)=>{Bc(t,h)&&(s=s.add(h))}),s}ys(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}fs(t,i,s){return pa()<=It.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",ya(i)),this.As.getDocumentsMatchingQuery(t,i,Sr.min(),s)}ws(t,i,s,l){return this.As.getDocumentsMatchingQuery(t,s,l).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="LocalStore",V1=3e8;class U1{constructor(t,i,s,l){this.persistence=t,this.bs=i,this.serializer=l,this.Ss=new he(St),this.Ds=new Ss(h=>em(h),nm),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(s)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new A1(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ss))}}function P1(a,t,i,s){return new U1(a,t,i,s)}async function KE(a,t){const i=Ut(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next(h=>(l=h,i.Fs(t),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let y=Lt();for(const v of l){d.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(s,y).next(v=>({Ms:v,removedBatchIds:d,addedBatchIds:g}))})})}function QE(a){const t=Ut(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.ai.getLastRemoteSnapshotVersion(i))}function L1(a,t){const i=Ut(a),s=t.snapshotVersion;let l=i.Ss;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Cs.newChangeBuffer({trackRemovals:!0});l=i.Ss;const g=[];t.targetChanges.forEach((A,M)=>{const B=l.get(M);if(!B)return;g.push(i.ai.removeMatchingKeys(h,A.removedDocuments,M).next(()=>i.ai.addMatchingKeys(h,A.addedDocuments,M)));let Y=B.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(M)!==null?Y=Y.withResumeToken(xe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(A.resumeToken,s)),l=l.insert(M,Y),function(rt,J,kt){return rt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=V1?!0:kt.addedDocuments.size+kt.modifiedDocuments.size+kt.removedDocuments.size>0}(B,Y,A)&&g.push(i.ai.updateTargetData(h,Y))});let y=Ir(),v=Lt();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(k1(h,d,t.documentUpdates).next(A=>{y=A.xs,v=A.Os})),!s.isEqual(yt.min())){const A=i.ai.getLastRemoteSnapshotVersion(h).next(M=>i.ai.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return K.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,y,v)).next(()=>y)}).then(h=>(i.Ss=l,h))}function k1(a,t,i){let s=Lt(),l=Lt();return i.forEach(h=>s=s.add(h)),t.getEntries(a,s).next(h=>{let d=Ir();return i.forEach((g,y)=>{const v=h.get(g);y.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(yt.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):nt(um,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",y.version)}),{xs:d,Os:l}})}function x1(a,t){const i=Ut(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return i.ai.getTargetData(s,t).next(h=>h?(l=h,K.resolve(l)):i.ai.allocateTargetId(s).next(d=>(l=new yr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.ai.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=i.Ss.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ss=i.Ss.insert(s.targetId,s),i.Ds.set(t,s.targetId)),s})}async function Md(a,t,i){const s=Ut(a),l=s.Ss.get(t),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!qa(d))throw d;nt(um,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ss=s.Ss.remove(t),s.Ds.delete(l.target)}function K_(a,t,i){const s=Ut(a);let l=yt.min(),h=Lt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,v,A){const M=Ut(y),B=M.Ds.get(A);return B!==void 0?K.resolve(M.Ss.get(B)):M.ai.getTargetData(v,A)}(s,d,ei(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(d,g.targetId).next(y=>{h=y})}).next(()=>s.bs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?h:Lt())).next(g=>(z1(s,Dw(t),g),{documents:g,Ns:h})))}function z1(a,t,i){let s=a.vs.get(t)||yt.min();i.forEach((l,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.vs.set(t,s)}class Q_{constructor(){this.activeTargetIds=Pw()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class B1{constructor(){this.So=new Q_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,i,s){this.Do[t]=i}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new Q_,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="ConnectivityMonitor";class X_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){nt(Y_,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){nt(Y_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc=null;function Vd(){return nc===null?nc=function(){return 268435456+Math.round(2147483648*Math.random())}():nc++,"0x"+nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="RestConnection",H1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class j1{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Lo=i+"://"+t.host,this.ko=`projects/${s}/databases/${l}`,this.qo=this.databaseId.database===Tc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Qo(t,i,s,l,h){const d=Vd(),g=this.$o(t,i.toUriEncodedString());nt(ld,`Sending RPC '${t}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(y,l,h),this.Ko(t,g,y,s).then(v=>(nt(ld,`Received RPC '${t}' ${d}: `,v),v),v=>{throw Oa(ld,`RPC '${t}' ${d} failed with error: `,v,"url: ",g,"request:",s),v})}Wo(t,i,s,l,h,d){return this.Qo(t,i,s,l,h)}Uo(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ba}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,h)=>t[h]=l),s&&s.headers.forEach((l,h)=>t[h]=l)}$o(t,i){const s=H1[t];return`${this.Lo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class F1 extends j1{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,i,s,l){const h=Vd();return new Promise((d,g)=>{const y=new sE;y.setWithCredentials(!0),y.listenOnce(aE.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case lc.NO_ERROR:const A=y.getResponseJson();nt(He,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(A)),d(A);break;case lc.TIMEOUT:nt(He,`RPC '${t}' ${h} timed out`),g(new ct(tt.DEADLINE_EXCEEDED,"Request time out"));break;case lc.HTTP_ERROR:const M=y.getStatus();if(nt(He,`RPC '${t}' ${h} failed with status:`,M,"response text:",y.getResponseText()),M>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const Y=B==null?void 0:B.error;if(Y&&Y.status&&Y.message){const et=function(J){const kt=J.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(kt)>=0?kt:tt.UNKNOWN}(Y.status);g(new ct(et,Y.message))}else g(new ct(tt.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ct(tt.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{s_:t,streamId:h,o_:y.getLastErrorCode(),__:y.getLastError()})}}finally{nt(He,`RPC '${t}' ${h} completed.`)}});const v=JSON.stringify(l);nt(He,`RPC '${t}' ${h} sending request:`,l),y.send(i,"POST",v,s,15)})}a_(t,i,s){const l=Vd(),h=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=uE(),g=lE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Uo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const A=h.join("");nt(He,`Creating RPC '${t}' stream ${l}: ${A}`,y);const M=d.createWebChannel(A,y);let B=!1,Y=!1;const et=new G1({Go:J=>{Y?nt(He,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(B||(nt(He,`Opening RPC '${t}' stream ${l} transport.`),M.open(),B=!0),nt(He,`RPC '${t}' stream ${l} sending:`,J),M.send(J))},zo:()=>M.close()}),rt=(J,kt,wt)=>{J.listen(kt,gt=>{try{wt(gt)}catch(Pt){setTimeout(()=>{throw Pt},0)}})};return rt(M,il.EventType.OPEN,()=>{Y||(nt(He,`RPC '${t}' stream ${l} transport opened.`),et.t_())}),rt(M,il.EventType.CLOSE,()=>{Y||(Y=!0,nt(He,`RPC '${t}' stream ${l} transport closed`),et.r_())}),rt(M,il.EventType.ERROR,J=>{Y||(Y=!0,Oa(He,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),et.r_(new ct(tt.UNAVAILABLE,"The operation could not be completed")))}),rt(M,il.EventType.MESSAGE,J=>{var kt;if(!Y){const wt=J.data[0];ee(!!wt,16349);const gt=wt,Pt=(gt==null?void 0:gt.error)||((kt=gt[0])===null||kt===void 0?void 0:kt.error);if(Pt){nt(He,`RPC '${t}' stream ${l} received error:`,Pt);const pt=Pt.status;let Ct=function(R){const D=pe[R];if(D!==void 0)return PE(D)}(pt),O=Pt.message;Ct===void 0&&(Ct=tt.INTERNAL,O="Unknown error status: "+pt+" with message "+Pt.message),Y=!0,et.r_(new ct(Ct,O)),M.close()}else nt(He,`RPC '${t}' stream ${l} received:`,wt),et.i_(wt)}}),rt(g,oE.STAT_EVENT,J=>{J.stat===vd.PROXY?nt(He,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===vd.NOPROXY&&nt(He,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{et.n_()},0),et}}function ud(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(a){return new Jw(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t,i,s=1e3,l=1.5,h=6e4){this.bi=t,this.timerId=i,this.u_=s,this.c_=l,this.l_=h,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const i=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),l=Math.max(0,i-s);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.h_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,l,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="PersistentStream";class K1{constructor(t,i,s,l,h,d,g,y){this.bi=t,this.R_=s,this.V_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new XE(t,i)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,i){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():i&&i.code===tt.RESOURCE_EXHAUSTED?(Ui(i.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):i&&i.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(i)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),i=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.m_===i&&this.B_(s,l)},s=>{t(()=>{const l=new ct(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(l)})})}B_(t,i){const s=this.N_(this.m_);this.stream=this.k_(t,i),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(l=>{s(()=>this.L_(l))}),this.stream.onMessage(l=>{s(()=>++this.p_==1?this.q_(l):this.onNext(l))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return nt($_,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return i=>{this.bi.enqueueAndForget(()=>this.m_===t?i():(nt($_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Q1 extends K1{constructor(t,i,s,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=h}k_(t,i){return this.connection.a_("Listen",t,i)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const i=i1(this.serializer,t),s=function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?ba(d.readTime):yt.min()}(t);return this.listener.Q_(i,s)}U_(t){const i={};i.database=H_(this.serializer),i.addTarget=function(h,d){let g;const y=d.target;if(g=wd(y)?{documents:r1(h,y)}:{query:s1(h,y).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=t1(h,d.resumeToken);const v=Od(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(yt.min())>0){g.readTime=Ww(h,d.snapshotVersion.toTimestamp());const v=Od(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const s=o1(this.serializer,t);s&&(i.labels=s),this.F_(i)}K_(t){const i={};i.database=H_(this.serializer),i.removeTarget=t,this.F_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{}class X1 extends Y1{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.J_=!1}Y_(){if(this.J_)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,i,s,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Qo(t,Nd(i,s),l,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ct(tt.UNKNOWN,h.toString())})}Wo(t,i,s,l,h){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Wo(t,Nd(i,s),l,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(tt.UNKNOWN,d.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class $1{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ui(i),this.ea=!1):nt("OnlineStateTracker",i)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="RemoteStore";class Z1{constructor(t,i,s,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=h,this.ca.vo(d=>{s.enqueueAndForget(async()=>{wl(this)&&(nt(Pa,"Restarting streams for network reachability change."),await async function(y){const v=Ut(y);v.aa.add(4),await Rl(v),v.la.set("Unknown"),v.aa.delete(4),await Gc(v)}(this))})}),this.la=new $1(s,l)}}async function Gc(a){if(wl(a))for(const t of a.ua)await t(!0)}async function Rl(a){for(const t of a.ua)await t(!1)}function $E(a,t){const i=Ut(a);i._a.has(t.targetId)||(i._a.set(t.targetId,t),dm(i)?fm(i):Ha(i).b_()&&hm(i,t))}function cm(a,t){const i=Ut(a),s=Ha(i);i._a.delete(t),s.b_()&&ZE(i,t),i._a.size===0&&(s.b_()?s.v_():wl(i)&&i.la.set("Unknown"))}function hm(a,t){if(a.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ha(a).U_(t)}function ZE(a,t){a.ha.Ke(t),Ha(a).K_(t)}function fm(a){a.ha=new Yw({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>a._a.get(t)||null,Pt:()=>a.datastore.serializer.databaseId}),Ha(a).start(),a.la.ta()}function dm(a){return wl(a)&&!Ha(a).w_()&&a._a.size>0}function wl(a){return Ut(a).aa.size===0}function JE(a){a.ha=void 0}async function J1(a){a.la.set("Online")}async function W1(a){a._a.forEach((t,i)=>{hm(a,t)})}async function tI(a,t){JE(a),dm(a)?(a.la.ia(t),fm(a)):a.la.set("Unknown")}async function eI(a,t,i){if(a.la.set("Online"),t instanceof kE&&t.state===2&&t.cause)try{await async function(l,h){const d=h.cause;for(const g of h.targetIds)l._a.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l._a.delete(g),l.ha.removeTarget(g))}(a,t)}catch(s){nt(Pa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Z_(a,s)}else if(t instanceof hc?a.ha.Xe(t):t instanceof LE?a.ha.ot(t):a.ha.nt(t),!i.isEqual(yt.min()))try{const s=await QE(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.ha.It(d);return g.targetChanges.forEach((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const A=h._a.get(v);A&&h._a.set(v,A.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,v)=>{const A=h._a.get(y);if(!A)return;h._a.set(y,A.withResumeToken(xe.EMPTY_BYTE_STRING,A.snapshotVersion)),ZE(h,y);const M=new yr(A.target,y,v,A.sequenceNumber);hm(h,M)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){nt(Pa,"Failed to raise snapshot:",s),await Z_(a,s)}}async function Z_(a,t,i){if(!qa(t))throw t;a.aa.add(1),await Rl(a),a.la.set("Offline"),i||(i=()=>QE(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{nt(Pa,"Retrying IndexedDB access"),await i(),a.aa.delete(1),await Gc(a)})}async function J_(a,t){const i=Ut(a);i.asyncQueue.verifyOperationInProgress(),nt(Pa,"RemoteStore received new credentials");const s=wl(i);i.aa.add(3),await Rl(i),s&&i.la.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.aa.delete(3),await Gc(i)}async function nI(a,t){const i=Ut(a);t?(i.aa.delete(2),await Gc(i)):t||(i.aa.add(2),await Rl(i),i.la.set("Unknown"))}function Ha(a){return a.Pa||(a.Pa=function(i,s,l){const h=Ut(i);return h.Y_(),new Q1(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(a.datastore,a.asyncQueue,{jo:J1.bind(null,a),Jo:W1.bind(null,a),Zo:tI.bind(null,a),Q_:eI.bind(null,a)}),a.ua.push(async t=>{t?(a.Pa.D_(),dm(a)?fm(a):a.la.set("Unknown")):(await a.Pa.stop(),JE(a))})),a.Pa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(t,i,s,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=h,this.deferred=new ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,h){const d=Date.now()+s,g=new mm(t,i,d,l,h);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function WE(a,t){if(Ui("AsyncQueue",`${t}: ${a}`),qa(a))return new ct(tt.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{static emptySet(t){return new Ra(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||dt.comparator(i.key,s.key):(i,s)=>dt.comparator(i.key,s.key),this.keyedMap=rl(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ra)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=s.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Ra;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.Ia=new he(dt.comparator)}track(t){const i=t.doc.key,s=this.Ia.get(i);s?t.type!==0&&s.type===3?this.Ia=this.Ia.insert(i,t):t.type===3&&s.type!==1?this.Ia=this.Ia.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Ia=this.Ia.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Ia=this.Ia.remove(i):t.type===1&&s.type===2?this.Ia=this.Ia.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):_t(63341,{Vt:t,Ea:s}):this.Ia=this.Ia.insert(i,t)}da(){const t=[];return this.Ia.inorderTraversal((i,s)=>{t.push(s)}),t}}class La{constructor(t,i,s,l,h,d,g,y,v){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,i,s,l,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new La(t,i,Ra.emptySet(i),d,s,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class rI{constructor(){this.queries=tv(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(i,s){const l=Ut(i),h=l.queries;l.queries=tv(),h.forEach((d,g)=>{for(const y of g.Ra)y.onError(s)})})(this,new ct(tt.ABORTED,"Firestore shutting down"))}}function tv(){return new Ss(a=>wE(a),zc)}async function sI(a,t){const i=Ut(a);let s=3;const l=t.query;let h=i.queries.get(l);h?!h.Va()&&t.ma()&&(s=2):(h=new iI,s=t.ma()?0:1);try{switch(s){case 0:h.Aa=await i.onListen(l,!0);break;case 1:h.Aa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=WE(d,`Initialization of query '${ya(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,h),h.Ra.push(t),t.ga(i.onlineState),h.Aa&&t.pa(h.Aa)&&gm(i)}async function aI(a,t){const i=Ut(a),s=t.query;let l=3;const h=i.queries.get(s);if(h){const d=h.Ra.indexOf(t);d>=0&&(h.Ra.splice(d,1),h.Ra.length===0?l=t.ma()?0:1:!h.Va()&&t.ma()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function oI(a,t){const i=Ut(a);let s=!1;for(const l of t){const h=l.query,d=i.queries.get(h);if(d){for(const g of d.Ra)g.pa(l)&&(s=!0);d.Aa=l}}s&&gm(i)}function lI(a,t,i){const s=Ut(a),l=s.queries.get(t);if(l)for(const h of l.Ra)h.onError(i);s.queries.delete(t)}function gm(a){a.fa.forEach(t=>{t.next()})}var Ud,ev;(ev=Ud||(Ud={})).ya="default",ev.Cache="cache";class uI{constructor(t,i,s){this.query=t,this.wa=i,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new La(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ba?this.Da(t)&&(this.wa.next(t),i=!0):this.va(t,this.onlineState)&&(this.Ca(t),i=!0),this.Sa=t,i}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let i=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),i=!0),i}va(t,i){if(!t.fromCache||!this.ma())return!0;const s=i!=="Offline";return(!this.options.Fa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const i=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ca(t){t=La.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==Ud.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(t){this.key=t}}class e0{constructor(t){this.key=t}}class cI{constructor(t,i){this.query=t,this.qa=i,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Lt(),this.mutatedKeys=Lt(),this.Ua=IE(t),this.Ka=new Ra(this.Ua)}get Wa(){return this.qa}Ga(t,i){const s=i?i.za:new W_,l=i?i.Ka:this.Ka;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,M)=>{const B=l.get(A),Y=Bc(this.query,M)?M:null,et=!!B&&this.mutatedKeys.has(B.key),rt=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let J=!1;B&&Y?B.data.isEqual(Y.data)?et!==rt&&(s.track({type:3,doc:Y}),J=!0):this.ja(B,Y)||(s.track({type:2,doc:Y}),J=!0,(y&&this.Ua(Y,y)>0||v&&this.Ua(Y,v)<0)&&(g=!0)):!B&&Y?(s.track({type:0,doc:Y}),J=!0):B&&!Y&&(s.track({type:1,doc:B}),J=!0,(y||v)&&(g=!0)),J&&(Y?(d=d.add(Y),h=rt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{Ka:d,za:s,ys:g,mutatedKeys:h}}ja(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const h=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const d=t.za.da();d.sort((A,M)=>function(Y,et){const rt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:J})}};return rt(Y)-rt(et)}(A.type,M.type)||this.Ua(A.doc,M.doc)),this.Ha(s),l=l!=null&&l;const g=i&&!l?this.Ja():[],y=this.$a.size===0&&this.current&&!l?1:0,v=y!==this.Qa;return this.Qa=y,d.length!==0||v?{snapshot:new La(this.query,t.Ka,h,d,t.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:g}:{Ya:g}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new W_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(i=>this.qa=this.qa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.qa=this.qa.delete(i)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Lt(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const i=[];return t.forEach(s=>{this.$a.has(s)||i.push(new e0(s))}),this.$a.forEach(s=>{t.has(s)||i.push(new t0(s))}),i}Xa(t){this.qa=t.Ns,this.$a=Lt();const i=this.Ga(t.documents);return this.applyChanges(i,!0)}eu(){return La.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const pm="SyncEngine";class hI{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class fI{constructor(t){this.key=t,this.tu=!1}}class dI{constructor(t,i,s,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.nu={},this.ru=new Ss(g=>wE(g),zc),this.iu=new Map,this.su=new Set,this.ou=new he(dt.comparator),this._u=new Map,this.au=new am,this.uu={},this.cu=new Map,this.lu=Ua.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function mI(a,t,i=!0){const s=a0(a);let l;const h=s.ru.get(t);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.eu()):l=await n0(s,t,i,!0),l}async function gI(a,t){const i=a0(a);await n0(i,t,!0,!1)}async function n0(a,t,i,s){const l=await x1(a.localStore,ei(t)),h=l.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await pI(a,t,h,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&$E(a.remoteStore,l),g}async function pI(a,t,i,s,l){a.Pu=(M,B,Y)=>async function(rt,J,kt,wt){let gt=J.view.Ga(kt);gt.ys&&(gt=await K_(rt.localStore,J.query,!1).then(({documents:O})=>J.view.Ga(O,gt)));const Pt=wt&&wt.targetChanges.get(J.targetId),pt=wt&&wt.targetMismatches.get(J.targetId)!=null,Ct=J.view.applyChanges(gt,rt.isPrimaryClient,Pt,pt);return iv(rt,J.targetId,Ct.Ya),Ct.snapshot}(a,M,B,Y);const h=await K_(a.localStore,t,!0),d=new cI(t,h.Ns),g=d.Ga(h.documents),y=bl.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",l),v=d.applyChanges(g,a.isPrimaryClient,y);iv(a,i,v.Ya);const A=new hI(t,i,d);return a.ru.set(t,A),a.iu.has(i)?a.iu.get(i).push(t):a.iu.set(i,[t]),v.snapshot}async function yI(a,t,i){const s=Ut(a),l=s.ru.get(t),h=s.iu.get(l.targetId);if(h.length>1)return s.iu.set(l.targetId,h.filter(d=>!zc(d,t))),void s.ru.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Md(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),i&&cm(s.remoteStore,l.targetId),Pd(s,l.targetId)}).catch(Uc)):(Pd(s,l.targetId),await Md(s.localStore,l.targetId,!0))}async function _I(a,t){const i=Ut(a),s=i.ru.get(t),l=i.iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),cm(i.remoteStore,s.targetId))}async function i0(a,t){const i=Ut(a);try{const s=await L1(i.localStore,t);t.targetChanges.forEach((l,h)=>{const d=i._u.get(h);d&&(ee(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.tu=!0:l.modifiedDocuments.size>0?ee(d.tu,14607):l.removedDocuments.size>0&&(ee(d.tu,42227),d.tu=!1))}),await s0(i,s,t)}catch(s){await Uc(s)}}function nv(a,t,i){const s=Ut(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.ru.forEach((h,d)=>{const g=d.view.ga(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const y=Ut(d);y.onlineState=g;let v=!1;y.queries.forEach((A,M)=>{for(const B of M.Ra)B.ga(g)&&(v=!0)}),v&&gm(y)}(s.eventManager,t),l.length&&s.nu.Q_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function vI(a,t,i){const s=Ut(a);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s._u.get(t),h=l&&l.key;if(h){let d=new he(dt.comparator);d=d.insert(h,Ge.newNoDocument(h,yt.min()));const g=Lt().add(h),y=new jc(yt.min(),new Map,new he(St),d,g);await i0(s,y),s.ou=s.ou.remove(h),s._u.delete(t),ym(s)}else await Md(s.localStore,t,!1).then(()=>Pd(s,t,i)).catch(Uc)}function Pd(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.iu.get(t))a.ru.delete(s),i&&a.nu.Tu(s,i);a.iu.delete(t),a.isPrimaryClient&&a.au.Ur(t).forEach(s=>{a.au.containsKey(s)||r0(a,s)})}function r0(a,t){a.su.delete(t.path.canonicalString());const i=a.ou.get(t);i!==null&&(cm(a.remoteStore,i),a.ou=a.ou.remove(t),a._u.delete(i),ym(a))}function iv(a,t,i){for(const s of i)s instanceof t0?(a.au.addReference(s.key,t),EI(a,s)):s instanceof e0?(nt(pm,"Document no longer in limbo: "+s.key),a.au.removeReference(s.key,t),a.au.containsKey(s.key)||r0(a,s.key)):_t(19791,{Iu:s})}function EI(a,t){const i=t.key,s=i.path.canonicalString();a.ou.get(i)||a.su.has(s)||(nt(pm,"New document in limbo: "+i),a.su.add(s),ym(a))}function ym(a){for(;a.su.size>0&&a.ou.size<a.maxConcurrentLimboResolutions;){const t=a.su.values().next().value;a.su.delete(t);const i=new dt(ae.fromString(t)),s=a.lu.next();a._u.set(s,new fI(i)),a.ou=a.ou.insert(i,s),$E(a.remoteStore,new yr(ei(RE(i.path)),s,"TargetPurposeLimboResolution",Pc.le))}}async function s0(a,t,i){const s=Ut(a),l=[],h=[],d=[];s.ru.isEmpty()||(s.ru.forEach((g,y)=>{d.push(s.Pu(y,t,i).then(v=>{var A;if((v||i)&&s.isPrimaryClient){const M=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(y.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(y.targetId,M?"current":"not-current")}if(v){l.push(v);const M=lm.Ps(y.targetId,v);h.push(M)}}))}),await Promise.all(d),s.nu.Q_(l),await async function(y,v){const A=Ut(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>K.forEach(v,B=>K.forEach(B.ls,Y=>A.persistence.referenceDelegate.addReference(M,B.targetId,Y)).next(()=>K.forEach(B.hs,Y=>A.persistence.referenceDelegate.removeReference(M,B.targetId,Y)))))}catch(M){if(!qa(M))throw M;nt(um,"Failed to update sequence numbers: "+M)}for(const M of v){const B=M.targetId;if(!M.fromCache){const Y=A.Ss.get(B),et=Y.snapshotVersion,rt=Y.withLastLimboFreeSnapshotVersion(et);A.Ss=A.Ss.insert(B,rt)}}}(s.localStore,h))}async function TI(a,t){const i=Ut(a);if(!i.currentUser.isEqual(t)){nt(pm,"User change. New user:",t.toKey());const s=await KE(i.localStore,t);i.currentUser=t,function(h,d){h.cu.forEach(g=>{g.forEach(y=>{y.reject(new ct(tt.CANCELLED,d))})}),h.cu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await s0(i,s.Ms)}}function AI(a,t){const i=Ut(a),s=i._u.get(t);if(s&&s.tu)return Lt().add(s.key);{let l=Lt();const h=i.iu.get(t);if(!h)return l;for(const d of h){const g=i.ru.get(d);l=l.unionWith(g.view.Wa)}return l}}function a0(a){const t=Ut(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=i0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=AI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vI.bind(null,t),t.nu.Q_=oI.bind(null,t.eventManager),t.nu.Tu=lI.bind(null,t.eventManager),t}class Ic{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=YE(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,i){return null}fu(t,i){return null}Vu(t){return P1(this.persistence,new M1,t.initialUser,this.serializer)}Ru(t){return new FE(om.Ei,this.serializer)}Au(t){return new B1}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ic.provider={build:()=>new Ic};class SI extends Ic{constructor(t){super(),this.cacheSizeBytes=t}mu(t,i){ee(this.persistence.referenceDelegate instanceof wc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new y1(s,t.asyncQueue,i)}Ru(t){const i=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new FE(s=>wc.Ei(s,i),this.serializer)}}class Ld{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>nv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=TI.bind(null,this.syncEngine),await nI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new rI}()}createDatastore(t){const i=YE(t.databaseInfo.databaseId),s=function(h){return new F1(h)}(t.databaseInfo);return function(h,d,g,y){return new X1(h,d,g,y)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,l,h,d,g){return new Z1(s,l,h,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>nv(this.syncEngine,i,0),function(){return X_.C()?new X_:new q1}())}createSyncEngine(t,i){return function(l,h,d,g,y,v,A){const M=new dI(l,h,d,g,y,v);return A&&(M.hu=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(l){const h=Ut(l);nt(Pa,"RemoteStore shutting down."),h.aa.add(5),await Rl(h),h.ca.shutdown(),h.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Ld.provider={build:()=>new Ld};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Ui("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="FirestoreClient";class RI{constructor(t,i,s,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=je.UNAUTHENTICATED,this.clientId=$R.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{nt(Cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(nt(Cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=WE(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function cd(a,t){a.asyncQueue.verifyOperationInProgress(),nt(Cr,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async l=>{s.isEqual(l)||(await KE(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=t}async function rv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await wI(a);nt(Cr,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener(s=>J_(t.remoteStore,s)),a.setAppCheckTokenChangeListener((s,l)=>J_(t.remoteStore,l)),a._onlineComponents=t}async function wI(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){nt(Cr,"Using user provided OfflineComponentProvider");try{await cd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===tt.FAILED_PRECONDITION||l.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;Oa("Error using user provided cache. Falling back to memory cache: "+i),await cd(a,new Ic)}}else nt(Cr,"Using default OfflineComponentProvider"),await cd(a,new SI(void 0));return a._offlineComponents}async function II(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(nt(Cr,"Using user provided OnlineComponentProvider"),await rv(a,a._uninitializedComponentsProvider._online)):(nt(Cr,"Using default OnlineComponentProvider"),await rv(a,new Ld))),a._onlineComponents}async function CI(a){const t=await II(a),i=t.eventManager;return i.onListen=mI.bind(null,t.syncEngine),i.onUnlisten=yI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=gI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=_I.bind(null,t.syncEngine),i}function DI(a,t,i={}){const s=new ps;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,y,v){const A=new bI({next:B=>{A.yu(),d.enqueueAndForget(()=>aI(h,M)),B.fromCache&&y.source==="server"?v.reject(new ct(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(B)},error:B=>v.reject(B)}),M=new uI(g,A,{includeMetadataChanges:!0,Fa:!0});return sI(h,M)}(await CI(a),a.asyncQueue,t,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=new Map;function OI(a,t,i,s){if(t===!0&&s===!0)throw new ct(tt.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function av(a){if(dt.isDocumentKey(a))throw new ct(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function NI(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":_t(12329,{type:typeof a})}function kd(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ct(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=NI(a);throw new ct(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="firestore.googleapis.com",ov=!0;class lv{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ct(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=l0,this.ssl=ov}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:ov;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=GE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<g1)throw new ct(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}OI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o0((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _m{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new jR;switch(s.type){case"firstParty":return new QR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=sv.get(i);s&&(nt("ComponentProvider","Removing Datastore"),sv.delete(i),s.terminate())}(this),Promise.resolve()}}function MI(a,t,i,s={}){var l;const h=(a=kd(a,_m))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:a._getEmulatorOptions()}),g=`${t}:${i}`;h.host!==l0&&h.host!==g&&Oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:s});if(!_s(y,d)&&(a._setSettings(y),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=je.MOCK_USER;else{v=iA(s.mockUserToken,(l=a._app)===null||l===void 0?void 0:l.options.projectId);const M=s.mockUserToken.sub||s.mockUserToken.user_id;if(!M)throw new ct(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new je(M)}a._authCredentials=new GR(new hE(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Fc(this.firestore,t,this._query)}}class ja{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ja(this.firestore,t,this._key)}}class wa extends Fc{constructor(t,i,s){super(t,i,RE(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ja(this.firestore,null,new dt(t))}withConverter(t){return new wa(this.firestore,t,this._path)}}function VI(a,t,...i){if(a=Dr(a),a instanceof _m){const s=ae.fromString(t,...i);return av(s),new wa(a,null,s)}{if(!(a instanceof ja||a instanceof wa))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ae.fromString(t,...i));return av(s),new wa(a.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="AsyncQueue";class cv{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new XE(this,"async_queue_retry"),this.ju=()=>{const s=ud();s&&nt(uv,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=t;const i=ud();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const i=ud();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const i=new ps;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!qa(t))throw t;nt(uv,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const i=this.Hu.then(()=>(this.Wu=!0,t().catch(s=>{throw this.Ku=s,this.Wu=!1,Ui("INTERNAL UNHANDLED ERROR: ",hv(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=i,i}enqueueAfterDelay(t,i,s){this.Ju(),this.zu.indexOf(t)>-1&&(i=0);const l=mm.createAndSchedule(this,t,i,s,h=>this.Xu(h));return this.Uu.push(l),l}Ju(){this.Ku&&_t(47125,{ec:hv(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const i of this.Uu)if(i.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Uu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const i=this.Uu.indexOf(t);this.Uu.splice(i,1)}}function hv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class u0 extends _m{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new cv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new cv(t),this._firestoreClient=void 0,await t}}}function UI(a,t){const i=typeof a=="object"?a:Tv(),s=typeof a=="string"?a:Tc,l=qd(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const h=eA("firestore");h&&MI(l,...h)}return l}function PI(a){if(a._terminated)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||LI(a),a._firestoreClient}function LI(a){var t,i,s;const l=a._freezeSettings(),h=function(g,y,v,A){return new cw(g,y,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,o0(A.experimentalLongPollingOptions),A.useFetchStreams)}(a._databaseId,((t=a._app)===null||t===void 0?void 0:t.options.appId)||"",a._persistenceKey,l);a._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),a._firestoreClient=new RI(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Cc(xe.fromBase64String(t))}catch(i){throw new ct(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Cc(xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return St(this._lat,t._lat)||St(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==l[h])return!1;return!0}(this._values,t._values)}}const zI=new RegExp("[~\\*/\\[\\]]");function BI(a,t,i){if(t.search(zI)>=0)throw fv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a);try{return new c0(...t.split("."))._internalPath}catch{throw fv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a)}}function fv(a,t,i,s,l){let h=`Function ${t}() called with invalid data`;h+=". ";let d="";return new ct(tt.INVALID_ARGUMENT,h+a+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(t,i,s,l,h){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new ja(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new qI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(f0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class qI extends h0{data(){return super.data()}}function f0(a,t){return typeof t=="string"?BI(a,t):t instanceof c0?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ct(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jI{convertValue(t,i="none"){switch(wr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Rr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Sl(t,(l,h)=>{s[l]=this.convertValue(h,i)}),s}convertVectorValue(t){var i,s,l;const h=(l=(s=(i=t.fields)===null||i===void 0?void 0:i[Ad].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>ce(d.doubleValue));return new xI(h)}convertGeoPoint(t){return new kI(ce(t.latitude),ce(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=kc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(gl(t));default:return null}}convertTimestamp(t){const i=br(t);return new en(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=ae.fromString(t);ee(jE(s),9688,{name:t});const l=new pl(s.get(1),s.get(3)),h=new dt(s.popFirst(5));return l.isEqual(i)||Ui(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class GI extends h0{constructor(t,i,s,l,h,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(f0("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class fc extends GI{data(t={}){return super.data(t)}}class FI{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new ic(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new fc(this._firestore,this._userDataWriter,s.key,s,new ic(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const y=new fc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ic(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const y=new fc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ic(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:KI(g.type),doc:y,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function KI(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:a})}}class QI extends jI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Cc(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ja(this.firestore,null,i)}}function YI(a){a=kd(a,Fc);const t=kd(a.firestore,u0),i=PI(t),s=new QI(t);return HI(a._query),DI(i,a._query).then(l=>new FI(t,s,a,l))}(function(t,i=!0){(function(l){Ba=l})(ka),Ca(new vs("firestore",(s,{instanceIdentifier:l,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new u0(new FR(s.getProvider("auth-internal")),new YR(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ct(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(v.options.projectId,A)}(d,l),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),Er(p_,y_,t),Er(p_,y_,"esm2017")})();function XI(){const a=Hd(iE),t=UI(a),[i,s]=Ia.useState([]),l=async()=>{const h=await YI(VI(t,"cities")),d=[];h.forEach(g=>{const y=g.data();d.push(y)}),s(d)};return Ia.useEffect(()=>{l()},[]),Dt.jsxs("div",{children:[Dt.jsx("h2",{children:"Try out these cities too:"}),Dt.jsxs("table",{style:{borderCollapse:"collapse",width:"100%"},children:[Dt.jsx("thead",{children:Dt.jsx("tr",{children:Dt.jsx("th",{children:"City:"})})}),Dt.jsx("tbody",{children:i.map(h=>Dt.jsx("tr",{children:Dt.jsx("td",{children:h.city})}))})]})]})}function $I(){return Ia.useEffect(()=>{var a=window._mtm=window._mtm||[];a.push({"mtm.startTime":new Date().getTime(),event:"mtm.Start"});const t=document,i=t.createElement("script"),s=t.getElementsByTagName("script")[0];i.async=!0,i.src="https://pilvipalvelut-matomo.2.rahtiapp.fi/js/container_Fl5UelhC.js",s&&s.parentNode&&s.parentNode.insertBefore(i,s)},[]),Dt.jsxs(Dt.Fragment,{children:[Dt.jsx("div",{className:"accent1-2 rounded-4 text-center",children:Dt.jsx("div",{children:Dt.jsx(HR,{})})}),Dt.jsx("br",{}),Dt.jsx("div",{className:"accent1-2 rounded-4 text-center",children:Dt.jsx("div",{children:Dt.jsx(XI,{})})})]})}KT.createRoot(document.getElementById("root")).render(Dt.jsx(Ia.StrictMode,{children:Dt.jsx($I,{})}));
